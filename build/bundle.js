/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,i,r,o,a={333:(e,t,n)=>{function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.r(t),n.d(t,{default:()=>V});var o=void 0!==n.g&&"[object global]"==={}.toString.call(n.g);function a(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function c(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function u(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.url,i=t||n;if(!i)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(c(i))return"https://vimeo.com/".concat(i);if(u(i))return i.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(i,"” is not a vimeo.com url."))}var d=void 0!==Array.prototype.indexOf,m="undefined"!=typeof window&&void 0!==window.postMessage;if(!(o||d&&m))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var f="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,n=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(n(this,"_id",o("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function r(e,n){if(!i(e)||!t.call(e,"_id"))throw new TypeError(n+" method called on incompatible receiver "+typeof e)}function o(e){return e+"_"+a()+"."+a()}function a(){return Math.random().toString().substring(2)}return n(e.prototype,"delete",(function(e){if(r(this,"delete"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e||(delete e[this._id],0))})),n(e.prototype,"get",(function(e){if(r(this,"get"),i(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),n(e.prototype,"has",(function(e){if(r(this,"has"),!i(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),n(e.prototype,"set",(function(e,t){if(r(this,"set"),!i(e))throw new TypeError("Invalid value used as weak map key");var o=e[this._id];return o&&o[0]===e?(o[1]=t,this):(n(e,this._id,[e,t]),this)})),n(e,"_polyfill",!0),e}()}function i(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:f);var v,h,p=(v=function(e){var t,n,i;i=function(){var e,t,n,i=Object.prototype.toString,r="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==i})}}catch(t){e=function(e,t,n){return e[t]=n,e}}function o(e,i){n.add(e,i),t||(t=r(n.drain))}function a(e){var t,n=typeof e;return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function s(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,n){var i,r;try{!1===t?n.reject(e.msg):(i=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(r=a(i))?r.call(i,n.resolve,n.reject):n.resolve(i)}catch(e){n.reject(e)}}function u(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=a(e))?o((function(){var i=new m(n);try{t.call(e,(function(){u.apply(i,arguments)}),(function(){l.apply(i,arguments)}))}catch(e){l.call(i,e)}})):(n.msg=e,n.state=1,n.chain.length>0&&o(s,n))}catch(e){l.call(new m(n),e)}}}function l(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&o(s,t))}function d(e,t,n,i){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then((function(e){n(r,e)}),i)}(r)}function m(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new f(this);this.then=function(e,n){var i={success:"function"!=typeof e||e,failure:"function"==typeof n&&n};return i.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");i.resolve=e,i.reject=t})),t.chain.push(i),0!==t.state&&o(s,t),i.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){u.call(t,e)}),(function(e){l.call(t,e)}))}catch(e){l.call(t,e)}}n=function(){var e,n,i;function r(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){i=new r(t,o),n?n.next=i:e=i,n=i,i=void 0},drain:function(){var i=e;for(e=n=t=void 0;i;)i.fn.call(i.self),i=i.next}}}();var h=e({},"constructor",v,!1);return v.prototype=h,e(h,"__NPO__",0,!1),e(v,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)}))})),e(v,"reject",(function(e){return new this((function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)}))})),e(v,"all",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var r=e.length,o=Array(r),a=0;d(t,e,(function(e,t){o[e]=t,++a===r&&n(o)}),i)}))})),e(v,"race",(function(e){var t=this;return"[object Array]"!=i.call(e)?t.reject(TypeError("Not an array")):new t((function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");d(t,e,(function(e,t){n(t)}),i)}))})),v},(n=f)[t="Promise"]=n[t]||i(),e.exports&&(e.exports=n[t])},v(h={exports:{}}),h.exports),y=new WeakMap;function g(e,t,n){var i=y.get(e.element)||{};t in i||(i[t]=[]),i[t].push(n),y.set(e.element,i)}function E(e,t){return(y.get(e.element)||{})[t]||[]}function b(e,t,n){var i=y.get(e.element)||{};if(!i[t])return!0;if(!n)return i[t]=[],y.set(e.element,i),!0;var r=i[t].indexOf(n);return-1!==r&&i[t].splice(r,1),y.set(e.element,i),i[t]&&0===i[t].length}function w(e,t){var n=y.get(e);y.set(t,n),y.delete(e)}var T=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T.reduce((function(t,n){var i=e.getAttribute("data-vimeo-".concat(n));return(i||""===i)&&(t[n]=""===i?1:i),t}),t)}function S(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var i=document.createElement("div");return i.innerHTML=n,t.appendChild(i.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(i,r){if(!u(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var a in t)t.hasOwnProperty(a)&&(o+="&".concat(a,"=").concat(encodeURIComponent(t[a])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",o,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return S(t,n),void r(new Error("“".concat(e,"” is not embeddable.")));i(t)}catch(e){r(e)}else r(new Error("“".concat(e,"” is not embeddable.")));else r(new Error("“".concat(e,"” was not found.")))},s.onerror=function(){var e=s.status?" (".concat(s.status,")"):"";r(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},s.send()}))}function k(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function M(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var i={method:t};void 0!==n&&(i.value=n);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(i=JSON.stringify(i)),e.element.contentWindow.postMessage(i,e.origin)}}function N(e,t){var n,i=[];if((t=k(t)).event)"error"===t.event&&E(e,t.data.method).forEach((function(n){var i=new Error(t.data.message);i.name=t.data.name,n.reject(i),b(e,t.data.method,n)})),i=E(e,"event:".concat(t.event)),n=t.data;else if(t.method){var r=function(e,t){var n=E(e,t);if(n.length<1)return!1;var i=n.shift();return b(e,t,i),i}(e,t.method);r&&(i.push(r),n=t.value)}i.forEach((function(t){try{if("function"==typeof t)return void t.call(e,n);t.resolve(n)}catch(e){}}))}var L=new WeakMap,I=new WeakMap,O={},P=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!s(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var o=t.querySelector("iframe");o&&(t=o)}if("IFRAME"===t.nodeName&&!u(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(L.has(t))return L.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var a=new p((function(e,i){if(n._onMessage=function(t){if(u(t.origin)&&n.element.contentWindow===t.source){"*"===n.origin&&(n.origin=t.origin);var r=k(t.data);if(r&&"error"===r.event&&r.data&&"ready"===r.data.method){var o=new Error(r.data.message);return o.name=r.data.name,void i(o)}var a=r&&"ready"===r.event,s=r&&"ping"===r.method;if(a||s)return n.element.setAttribute("data-ready","true"),void e();N(n,r)}},n._window.addEventListener("message",n._onMessage),"IFRAME"!==n.element.nodeName){var o=C(t,r);_(l(o),o,t).then((function(e){var i=S(e,t);return n.element=i,n._originalElement=t,w(t,i),L.set(n.element,n),e})).catch(i)}}));if(I.set(this,a),L.set(this.element,this),"IFRAME"===this.element.nodeName&&M(this,"ping"),O.isEnabled){var c=function(){return O.exit()};this.fullscreenchangeHandler=function(){O.isFullscreen?g(n,"event:exitFullscreen",c):b(n,"event:exitFullscreen",c),n.ready().then((function(){M(n,"fullscreenchange",O.isFullscreen)}))},O.on("fullscreenchange",this.fullscreenchangeHandler)}return this}var t,n;return t=e,n=[{key:"callMethod",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new p((function(i,r){return t.ready().then((function(){g(t,e,{resolve:i,reject:r}),M(t,e,n)})).catch(r)}))}},{key:"get",value:function(e){var t=this;return new p((function(n,i){return e=a(e,"get"),t.ready().then((function(){g(t,e,{resolve:n,reject:i}),M(t,e)})).catch(i)}))}},{key:"set",value:function(e,t){var n=this;return new p((function(i,r){if(e=a(e,"set"),null==t)throw new TypeError("There must be a value to set.");return n.ready().then((function(){g(n,e,{resolve:i,reject:r}),M(n,e,t)})).catch(r)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===E(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),g(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");b(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=I.get(this)||new p((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return p.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return O.isEnabled?O.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return O.isEnabled?O.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return O.isEnabled?p.resolve(O.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new p((function(t){if(I.delete(e),L.delete(e.element),e._originalElement&&(L.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&(e.element.parentNode.parentNode&&e._originalElement&&e._originalElement!==e.element.parentNode?e.element.parentNode.parentNode.removeChild(e.element.parentNode):e.element.parentNode.removeChild(e.element)),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var n=e.element.querySelector("iframe");n&&n.parentNode&&(n.parentNode.parentNode&&e._originalElement&&e._originalElement!==n.parentNode?n.parentNode.parentNode.removeChild(n.parentNode):n.parentNode.removeChild(n))}e._window.removeEventListener("message",e._onMessage),O.isEnabled&&O.off("fullscreenchange",e.fullscreenchangeHandler),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}],n&&r(t.prototype,n),e}();o||(O=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=t.length,r={};n<i;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)r[t[0][n]]=e[n];return r}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},n={request:function(t){return new Promise((function(i,r){var o=function e(){n.off("fullscreenchange",e),i()};n.on("fullscreenchange",o);var a=(t=t||document.documentElement)[e.requestFullscreen]();a instanceof Promise&&a.then(o).catch(r)}))},exit:function(){return new Promise((function(t,i){if(n.isFullscreen){var r=function e(){n.off("fullscreenchange",e),t()};n.on("fullscreenchange",r);var o=document[e.exitFullscreen]();o instanceof Promise&&o.then(r).catch(i)}else t()}))},on:function(e,n){var i=t[e];i&&document.addEventListener(i,n)},off:function(e,n){var i=t[e];i&&document.removeEventListener(i,n)}};return Object.defineProperties(n,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),n}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),n=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=C(e);_(l(t),t,e).then((function(t){return S(t,e)})).catch(n)}catch(e){n(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(u(t.origin)&&t.data&&"spacechange"===t.data.event)for(var n=e.querySelectorAll("iframe"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){n[i].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener("message",t)}}());const V=P},393:(e,t)=>{t.__esModule=!0,t.getNavigator=void 0,t.getNavigator=function(){return navigator}},109:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};t.__esModule=!0,r(n(454),t)},454:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]});t.__esModule=!0,t.isMobile=void 0,i(t,n(267),"isMobile")},267:(e,t,n)=>{t.__esModule=!0,t.isMobile=void 0;var i=n(393);t.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((0,i.getNavigator)().userAgent)}},143:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.appendStyle=t.setRefreshAppListener=t.populateDomFields=void 0;var i=n(109),r=n(242),o=n(662),a=n(367);t.populateDomFields=function(){var e=(0,a.getState)(),t=e.currentCityVideoList[e.selectedVideoId];d(t.address),f(t),v(e),p(e),m()},t.setRefreshAppListener=function(){document.addEventListener(r.stateHasChangedEventName,t.populateDomFields)},t.appendStyle=function(){(0,i.isMobile)()?c():(u(),s())};var s=function(){l(o.NAV_STYLE_SHEET_REF)},c=function(){l(o.MOBILE_STYLE_SHEET_REF)},u=function(){l(o.DESKTOP_STYLE_SHEET_REF)},l=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)},d=function(e){document.getElementById(o.ADDRESS_ID).innerText=e},m=function(){var e=document.getElementById(o.OVERLAY_IMG_ID),t=(0,a.getCurrentVideo)().overlay;t?(e.src="./overlays/".concat(t),e.classList.remove("hidden")):e.classList.add("hidden")},f=function(e){var t="Music by <a href='".concat(e.musicianSite,"' target='_blank'>").concat(e.musician,"</a>");e.extraInfo&&(t+="</br> </br>".concat(e.extraInfo,"</br> </br>")),document.getElementById(o.ARTIST_ID).innerHTML=t},v=function(e){h(o.PREV_CITY_LABEL_ID,e.prevCity.label),h(o.NEXT_CITY_LABEL_ID,e.nextCity.label)},h=function(e,t){document.getElementById(e).innerText=t},p=function(e){e.currentCityVideoList.length<2?y():E()},y=function(){g(o.PREV_VIDEO_ID),g(o.NEXT_VIDEO_ID)},g=function(e){document.getElementById(e).classList.add("hidden")},E=function(){b(o.PREV_VIDEO_ID),b(o.NEXT_VIDEO_ID)},b=function(e){document.getElementById(e).classList.remove("hidden")}},242:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.triggerRefreshApp=t.stateHasChangedEventName=t.setNavigationsEvents=t.prevVideoClickedEventName=t.nextVideoClickedEventName=t.prevCityClickEventName=t.nextCityClickEventName=void 0;var i=n(662);t.nextCityClickEventName="next-city-clicked",t.prevCityClickEventName="prev-city-clicked",t.nextVideoClickedEventName="next-video-clicked",t.prevVideoClickedEventName="prev-video-clicked",t.setNavigationsEvents=function(){var e=new CustomEvent(t.nextCityClickEventName),n=new CustomEvent(t.prevCityClickEventName),o=new CustomEvent(t.nextVideoClickedEventName),a=new CustomEvent(t.prevVideoClickedEventName);r(i.NEXT_CITY_BUTTON_ID,e),r(i.PREV_CITY_BUTTON_ID,n),r(i.NEXT_VIDEO_ID,o),r(i.PREV_VIDEO_ID,a)};var r=function(e,t){document.getElementById(e).onclick=function(e){e.preventDefault(),document.dispatchEvent(t)}};t.stateHasChangedEventName="state-has-changed",t.triggerRefreshApp=function(){var e=new CustomEvent(t.stateHasChangedEventName);document.dispatchEvent(e)}},865:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setMouseMoveEvent=void 0;var n,i=1,r="overlay";t.setMouseMoveEvent=function(){window.onmousemove=function(){s(),i=1,n&&window.clearTimeout(n),o()}};var o=function(){n=setTimeout((function(){5===i?a():(i++,o())}),500)},a=function(){var e=document.getElementById(r);e.classList.remove("fade-in"),e.classList.add("fade-out")},s=function(){var e=document.getElementById(r);e.classList.add("fade-in"),e.classList.remove("fade-out")}},251:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resumeVideo=t.initializePlayer=void 0;var i,r=n(333),o=n(242),a=n(367),s=!1,c=!1;t.initializePlayer=function(e){var t={id:e,loop:!0,controls:!1,autoplay:!0,responsive:!0};i=new r.default("player",t),document.addEventListener(o.stateHasChangedEventName,u),i.ready().then((function(){c=!0,i.play()}))},t.resumeVideo=function(){c&&(s?(i.pause(),s=!s):(i.play(),s=!s))};var u=function(){var e=(0,a.getState)(),t=e.currentCityVideoList[e.selectedVideoId];i.loadVideo(t.id),i.play()}},662:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NAV_STYLE_SHEET_REF=t.MOBILE_STYLE_SHEET_REF=t.DESKTOP_STYLE_SHEET_REF=t.OVERLAY_IMG_ID=t.PREV_VIDEO_ID=t.NEXT_VIDEO_ID=t.PREV_CITY_BUTTON_ID=t.NEXT_CITY_BUTTON_ID=t.PREV_CITY_LABEL_ID=t.NEXT_CITY_LABEL_ID=t.ARTIST_ID=t.ADDRESS_ID=void 0,t.ADDRESS_ID="address",t.ARTIST_ID="artistName",t.NEXT_CITY_LABEL_ID="next-city-label",t.PREV_CITY_LABEL_ID="prev-city-label",t.NEXT_CITY_BUTTON_ID="next-city",t.PREV_CITY_BUTTON_ID="prev-city",t.NEXT_VIDEO_ID="nextVideo",t.PREV_VIDEO_ID="prevVideo",t.OVERLAY_IMG_ID="overlay-img",t.DESKTOP_STYLE_SHEET_REF="desktop.css",t.MOBILE_STYLE_SHEET_REF="mobile.css",t.NAV_STYLE_SHEET_REF="nav.css"},367:function(e,t,n){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentVideo=t.getState=t.initState=void 0;var r,o=n(626),a=n(242),s=[];t.initState=function(){o.map((function(e){s.push({city:e.city,videos:e.videos})}));var e={label:s[0].city,id:0},t={label:s[1].city,id:1},n={label:s[s.length-1].city,id:s.length-1},i=s[0].videos;r={currentCity:e,nextCity:t,prevCity:n,selectedVideoId:0,currentCityVideoList:i},c(),d()},t.getState=function(){return r},t.getCurrentVideo=function(){var e=r.selectedVideoId;return r.currentCityVideoList[e]};var c=function(){document.addEventListener(a.nextCityClickEventName,u),document.addEventListener(a.prevCityClickEventName,l)},u=function(){var e,t=r.currentCity,n=r.nextCity,i=r.nextCity.id+1;e=i===s.length?{label:s[0].city,id:0}:{id:i,label:s[i].city};var o=s[n.id].videos;r={prevCity:t,currentCity:n,nextCity:e,selectedVideoId:0,currentCityVideoList:o},(0,a.triggerRefreshApp)()},l=function(){var e=r.currentCity,t=r.prevCity,n=void 0,i=r.prevCity.id-1;if(i<0){var o=s.length-1;n={label:s[o].city,id:o}}else n={id:i,label:s[i].city};var c=s[t.id].videos;r={prevCity:n,currentCity:t,nextCity:e,selectedVideoId:0,currentCityVideoList:c},(0,a.triggerRefreshApp)()},d=function(){document.addEventListener(a.nextVideoClickedEventName,m),document.addEventListener(a.prevVideoClickedEventName,f)},m=function(){var e=r.selectedVideoId+1;e===r.currentCityVideoList.length&&(e=0),r=i(i({},r),{selectedVideoId:e}),(0,a.triggerRefreshApp)()},f=function(){var e=r.selectedVideoId-1;e<0&&(e=r.currentCityVideoList.length-1),r=i(i({},r),{selectedVideoId:e}),(0,a.triggerRefreshApp)()}},626:e=>{e.exports=JSON.parse('[{"city":"Montreal","videos":[{"id":602739285,"musician":"Dustin Finer ","musicianSite":"https://dustinfiner.com/ ","address":"Parc Vinet, 550 Rue Vinet, Montréal, QC H3J 2L5 ","extraInfo":"Recording, mixing, and mastering by Ricardo Morejon "},{"id":602740339,"musician":"Nick Kuepfer","musicianSite":"https://nickkuepfer.bandcamp.com/","address":"4141 Av. Pierre-de Coubertin, Montréal, QC H1V 3N7"},{"id":602743917,"musician":"Smileswithteeth","musicianSite":"https://smileswithteeth.bandcamp.com/","address":"890 Rue Saint Maurice, Montréal, QC H3C 1L7"},{"id":602745046,"musician":"Desert Bloom","musicianSite":"https://soundcloud.com/desertbloom","address":"4515 Boulevard Rosemont, Montréal, QC H1T 2E1"},{"id":602747993,"musician":"Racine","musicianSite":"https://racine.bandcamp.com","address":"967 Rue Wellington, Montréal, QC"},{"id":602757723,"musician":"TODDLER","musicianSite":"https://toddler.bandcamp.com/","address":"5788 Blvd. St Laurent, Montréal, QC H2T 1S9"},{"id":602760225,"musician":"Róża","musicianSite":"https://emilyroslynhoppe.bandcamp.com","address":"75 Blvd. René-Lévesque O, Montréal, QC H2Z 1A4"},{"id":602762140,"musician":"Les Elohims","musicianSite":"https://leselohims.bandcamp.com/","address":"3284 Rue Ontario E, Montréal, QC H1W 1P6","extraInfo":"and W. Crosson"},{"id":602765375,"musician":"Ziya Tabassian","musicianSite":"http://www.ziyatabassian.com/","address":"400 Rue de Malines, Montréal, QC H2L 4P4"},{"id":602766743,"musician":"Kyle Bobby Dunn","musicianSite":"https://kylebobbydunn.bandcamp.com/","address":"357 Rue de la Commune O, Montréal, QC H2Y 2E2"},{"id":602769709,"musician":"joni void","musicianSite":"https://jonivoid.bandcamp.com/","address":"4483 Blvd. St Laurent, Montréal, QC H2W 1Z8"},{"id":602771703,"musician":"Namoo Nara","musicianSite":"https://open.spotify.com/artist/6Iij5022xBupynFqNYjdD9","address":"251 Rue Saint-Jacques, Montréal, QC H2Y 1M6, Canada"},{"id":602773380,"musician":"Felicia Lush","musicianSite":"https://soundcloud.com/felicia_lush","address":"11 Rue Saint-Catherine O, Montréal, QC H2X 1Z5"},{"id":602775074,"musician":"Mediteranos","musicianSite":"https://mediteranos.bandcamp.com/","address":"1097-1063 Rue Saint-Gregoire Montréal, QC H2J 3K3"},{"id":602777439,"musician":"Anomalie","musicianSite":"https://anomaliebeats.com/","address":"L\'Astral, 305 Rue Sainte-Catherine O, Montréal, QC H2X 2A3"},{"id":602779097,"musician":"Christian Carrière","musicianSite":"http://christiancarriere.com","address":"465 Rue Saint Jean, Montréal, QC H2Y 1V8"},{"id":602782622,"musician":"Echo Beach","musicianSite":"https://echobeach.bandcamp.com/","address":"Les Appartements Square Angus, 3300 Rue William-Tremblay, Montréal, QC H1Y 3P5"},{"id":602785405,"musician":"Balsam County","musicianSite":"https://balsamcounty.bandcamp.com/","address":"9594 Rue Notre-Dame Est, Montréal, QC H1L 3P4","extraInfo":"Written and performed by Corey Tardiff and Matt Gardiner"},{"id":602788109,"musician":"Red Crescent Moon","musicianSite":"https://redcrescentmoon.bandcamp.com/","address":"612 Rue St Jacques, Montréal, QC H3C 4M8"},{"id":602789873,"musician":"Lonely Boa","musicianSite":"https://lonelyboa.bandcamp.com/","address":"Boulevard Robert-Bourassa, Montréal, QC,"},{"id":602791657,"musician":"Amir Amiri","musicianSite":"https://amiramiri.com/","address":"Complexe Desjardins, 150 Rue Saint-Catherine O, Montréal, QC H2X 3Y2"},{"id":602796017,"musician":"Blue Odeur","musicianSite":"https://blueodeur.bandcamp.com","address":"5112 Avenue du Parc, Montréal, QC H2V 4G5"},{"id":602797402,"musician":"Kyle Bobby Dunn","musicianSite":"https://kylebobbydunn.bandcamp.com","address":"262 Rue St Jacques, Montréal, QC H2Y 2S4"},{"id":602799273,"musician":"Black Givre","musicianSite":"https://blackgivre.bandcamp.com/","address":"4545 Av. Pierre-de Coubertin, Montréal, QC H1V 3N7"},{"id":602799901,"musician":"Orlando Gloom","musicianSite":"https://orlandogloom.bandcamp.com/","address":"24 Avenue-du-Mont-Royal O, Montréal, QC H2T 2S2"},{"id":610680955,"musician":"Anthony Salvo","musicianSite":"https://www.salvosound.com/","address":"1230 Blvd St-Laurent, Montréal, QC H2X 2S5"},{"id":610694704,"musician":"Mr. Pöng","musicianSite":"https://www.mstrpong.com","address":"3535 Rue St Denis, Montréal, QC H2X 3P1","extraInfo":"Artist: Mr. Pöng </br> Steelpan: Mr. Pöng </br> Bass Guitar: Mathieu Lefebvre </br>  Producer: Moodboards\\""},{"id":610685415,"musician":"Hellenica","musicianSite":"https://hellenicamusic.com","address":"1700 Rue Jean Talon E, Montréal, QC H2E 1T2"},{"id":610700219,"musician":"Above the Snow Line","musicianSite":"https://www.abovethesnowline.com/","address":"9345 Rue Notre-Dame Est, Montréal, QC H1L 3N7"}]},{"city":"Quebec","videos":[{"id":695083503,"musician":"Michel Poudrier","musicianSite":"https://miguiz.bandcamp.com","address":"1224 Av. Taché, Québec, QC, G1R 3B4"}]},{"city":"New York","videos":[{"id":602699692,"musician":"Dylan Nowik","musicianSite":"http://www.dylannowik.com/","address":"Georgetown Plaza, 60 E 8th St., New York, NY, 10003, "},{"id":602698441,"musician":"Dylan Nowik","musicianSite":"http://www.dylannowik.com/","address":"Kimmel Center for University Life, 60 Washington Square S, New York, NY 10012"}]},{"city":"Afyon","videos":[{"id":604967814,"musician":"Ahmet Ali Arslan","musicianSite":"https://open.spotify.com/artist/2fyKy2t7OhlAGDzFSBTxC9","address":"Cahardudayev Cd., 03000 Merkez/Afyonkarahisar"}]},{"city":"Vancouver","videos":[{"id":604960904,"musician":"Iain Howie","musicianSite":"https://soundcloud.com/iainhowi","address":"Creekside Park, 1455 Quebec ST, Vancouver, BC, V6A 3Z7"}]},{"city":"Istanbul","videos":[{"id":604952661,"musician":"Yiğit Soner","musicianSite":"https://soundcloud.com/yigit-soner","address":"Akyol Sokak No: 10, Beyoğlu, İstanbul, 34427","extraInfo":"& Uğur Küpeli"}]},{"city":"Amasya","videos":[{"id":604967893,"musician":"Sumatran Black","musicianSite":"https://sumatranblack.bandcamp.com","address":"Şehzadeler Gezi Yolu, Ziya Paşa Blv., Amasya, 05100"}]},{"city":"Toronto","videos":[{"id":604980383,"musician":"Zaddi Pesino","musicianSite":"https://spectrehearts.bandcamp.com/","address":"61 Centre Island Dock, Toronto, ON, M5J 2E9","overlay":"TLFsmall.png"},{"id":605028385,"musician":"Ammara Wasim & Ismael Ghanim","musicianSite":"","address":"Hanlan\'s Point Ferry Dock, Toronto, ON, M5V 1A1","overlay":"TLFsmall.png"},{"id":605014796,"musician":"Ammara Wasim & Ismael Ghanim","musicianSite":"","address":"Hanlan\'s Point Ferry Dock, Toronto, ON, M5V 1A1","overlay":"TLFsmall.png"},{"id":604995387,"musician":"Sam Tudor","musicianSite":"https://samtudormusic.com/","address":"114 Bond St, Toronto, ON, MB5 1Y2","overlay":"TLFsmall.png"},{"id":604968404,"musician":"Surya Krishnan","musicianSite":"","address":"16 Gould St, Toronto, ON, M5B 1W1","overlay":"TLFsmall.png"},{"id":605000173,"musician":"Andrew Timar","musicianSite":"https://soundcloud.com/vekdinxouolf","address":"300 Victoria St, Toronto, ON, M5B 1W1","overlay":"TLFsmall.png"},{"id":610668025,"musician":"Kerem Ataman","musicianSite":"","address":"Victoria St Lane, Toronto, ON, M5B 1X8","overlay":"TLFsmall.png"},{"id":610639378,"musician":"Dennis Kane","musicianSite":"https://soundcloud.com/denniskane","address":"Victoria St Lane, Toronto, ON, M5B 1X8","overlay":"TLFsmall.png"},{"id":605004760,"musician":"Lenny Cerrone","musicianSite":"http://spyaudio.net","address":"340 University Avenue, Toronto, ON, M5G 1S4","overlay":"TLFsmall.png"},{"id":610716125,"musician":"Pantayo","musicianSite":"https://pantayo.bandcamp.com/","address":"Ryerson Centre for Architecture, 325 Church St, Toronto, ON, M5B 2M2","overlay":"TLFsmall.png"},{"id":610713442,"musician":"Brahny","musicianSite":"https://soundcloud.com/brahny","address":"Ryerson Centre for Architecture, 325 Church St, Toronto, ON, M5B 2M2","overlay":"TLFsmall.png"},{"id":605012558,"musician":"Chris Lozinski","musicianSite":"https://open.spotify.com/artist/2ihtL5TnMkWg31qUCw8PyT","address":"DNA 3 Condos, 1030 King Street West, Toronto, ON, M6K OB4","overlay":"TLFsmall.png"},{"id":605017191,"musician":"Alex Widder","musicianSite":"https://soundcloud.com/alexwidder","address":"Hanlan\'s Point Ferry Dock, Toronto, ON, M5V 1A1","overlay":"TLFsmall.png"},{"id":605020978,"musician":"Bénédicte","musicianSite":"https://benedicte.xyz/","address":"Hanlan\'s Point Ferry Dock, Toronto, ON, M5V 1A1","overlay":"TLFsmall.png"},{"id":604974145,"musician":"MaryCarl Guiao","musicianSite":"https://soundcloud.com/luyosmarycarl","address":"61 Centre Island Dock, Toronto, ON, M5J 2E9","overlay":"TLFsmall.png"},{"id":610655250,"musician":"Andrew Huang","musicianSite":"https://andrewhuang.bandcamp.com/","address":"Lookout Toronto, Toronto, ON, M5J 2E9","overlay":"TLFsmall.png"},{"id":604975797,"musician":"Christine Bougie","musicianSite":"http://www.christinebougie.com/","address":"61 Centre Island Dock, Toronto, ON, M5J 2E9","overlay":"TLFsmall.png"},{"id":605010142,"musician":"Alex Widder","musicianSite":"https://soundcloud.com/alexwidder","address":"Centre Island Dock, Toronto, ON, M5J 2E9","overlay":"TLFsmall.png"},{"id":605005980,"musician":"Alex Widder","musicianSite":"https://soundcloud.com/alexwidder","address":"Centre Island Dock, Toronto, ON, M5J 2E9","overlay":"TLFsmall.png"},{"id":605007859,"musician":"Kayla Milmine","musicianSite":"https://kaylamilmine.bandcamp.com/","address":"Centre Island Dock, Toronto, ON, M5J 2E9","overlay":"TLFsmall.png"},{"id":610673959,"musician":"Of","musicianSite":"https://soundcloud.com/of-of-of","address":"100 Western Battery Road, Toronto, ON, M6K 3R5","overlay":"TLFsmall.png"},{"id":604986571,"musician":"Lenny Cerrone","musicianSite":"http://spyaudio.net","address":"Battery Park Condos, 50 Lynn Williams St, Toronto, ON, M6K 3R9","overlay":"TLFsmall.png"},{"id":610652112,"musician":"Eggplant Purple moves","musicianSite":"https://soundcloud.com/eggplantpurplemoves","address":"Hanna Avenue, Liberty Village, Toronto, ON, M6K 1X4","overlay":"TLFsmall.png"},{"id":604982936,"musician":"Bea Labikova","musicianSite":"http://www.bealabikova.com/","address":"68 Douro St, Toronto, ON M6K 3N4","overlay":"TLFsmall.png"},{"id":604984060,"musician":"Falcxne","musicianSite":"https://soundcloud.com/falcxne","address":"70 Douro St, Toronto, ON M6K 3N4","overlay":"TLFsmall.png"}]}]')}},s={};function c(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return a[e].call(n.exports,n,n.exports,c),n.exports}c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=c(143),t=c(242),n=c(865),i=c(251),r=c(367),o=function(){(0,i.resumeVideo)()},function(){(0,e.appendStyle)(),(0,n.setMouseMoveEvent)(),(0,e.setRefreshAppListener)(),(0,t.setNavigationsEvents)(),(0,r.initState)();var a=(0,r.getState)().currentCityVideoList[0];(0,i.initializePlayer)(a.id),document.body.addEventListener("click",o),(0,e.populateDomFields)(),window.scrollTo(0,document.body.scrollHeight)}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7dUJBQUEsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUVNQSxtQkNMTixTQUFTQyxFQUFnQkMsRUFBVUMsR0FDakMsS0FBTUQsYUFBb0JDLEdBQ3hCLE1BQU0sSUFBSUMsVUFBVSxxQ0FJeEIsU0FBU0MsRUFBa0JDLEVBQVFDLEdBQ2pDLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFLLENBQ3JDLElBQUlFLEVBQWFILEVBQU1DLEdBQ3ZCRSxFQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQ2pERCxFQUFXRSxjQUFlLEVBQ3RCLFVBQVdGLElBQVlBLEVBQVdHLFVBQVcsR0FDakRDLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLGtDQW9CbEQsSUFBSU8sT0FBMkIsSUFBWCxFQUFBQyxHQUF1RCxvQkFBN0IsR0FBR0MsU0FBU0MsS0FBSyxFQUFBRixHQVMvRCxTQUFTRyxFQUFjQyxFQUFNQyxHQUMzQixPQUF5QyxJQUFyQ0QsRUFBS0UsUUFBUUQsRUFBS0UsZUFDYkgsRUFHRixHQUFHSSxPQUFPSCxFQUFLRSxlQUFlQyxPQUFPSixFQUFLSyxPQUFPLEVBQUcsR0FBR0MsZUFBZUYsT0FBT0osRUFBS0ssT0FBTyxJQVNsRyxTQUFTRSxFQUFhQyxHQUNwQixPQUFPQyxRQUFRRCxHQUFnQyxJQUFyQkEsRUFBUUUsVUFBa0IsYUFBY0YsR0FBV0EsRUFBUUcsZUFBaUJILEVBQVFHLGNBQWNDLGFBVzlILFNBQVNDLEVBQVVDLEdBRWpCLE9BQVFDLE1BQU1DLFdBQVdGLEtBQVdHLFNBQVNILElBQVVJLEtBQUtDLE1BQU1MLElBQVVBLEVBUzlFLFNBQVNNLEVBQVdDLEdBQ2xCLE1BQU8scURBQXFEQyxLQUFLRCxHQVVuRSxTQUFTRSxJQUNQLElBQUlDLEVBQW1CQyxVQUFVdEMsT0FBUyxRQUFzQnVDLElBQWpCRCxVQUFVLEdBQW1CQSxVQUFVLEdBQUssR0FDdkZFLEVBQUtILEVBQWlCRyxHQUN0Qk4sRUFBTUcsRUFBaUJILElBQ3ZCTyxFQUFVRCxHQUFNTixFQUVwQixJQUFLTyxFQUNILE1BQU0sSUFBSUMsTUFBTSwrR0FHbEIsR0FBSWhCLEVBQVVlLEdBQ1osTUFBTyxxQkFBcUJ4QixPQUFPd0IsR0FHckMsR0FBSVIsRUFBV1EsR0FDYixPQUFPQSxFQUFRRSxRQUFRLFFBQVMsVUFHbEMsR0FBSUgsRUFDRixNQUFNLElBQUk3QyxVQUFVLElBQVNzQixPQUFPdUIsRUFBSSwrQkFHMUMsTUFBTSxJQUFJN0MsVUFBVSxJQUFTc0IsT0FBT3dCLEVBQVMsOEJBRy9DLElBQUlHLE9BQXlELElBQTVCQyxNQUFNQyxVQUFVL0IsUUFDN0NnQyxFQUF1QyxvQkFBWEMsYUFBd0QsSUFBdkJBLE9BQU9DLFlBRXhFLEtBQUt6QyxHQUFZb0MsR0FBd0JHLEdBQ3ZDLE1BQU0sSUFBSUwsTUFBTSxpRUFHbEIsSUFBSVEsRUFBdUMsb0JBQWZDLFdBQTZCQSxXQUErQixvQkFBWEgsT0FBeUJBLFlBQTJCLElBQVgsRUFBQXZDLEVBQXlCLEVBQUFBLEVBQXlCLG9CQUFUMkMsS0FBdUJBLEtBQU8sSUFZN0wsU0FBV0EsR0FFVCxJQUFJQSxFQUFLQyxRQUFULENBSUEsSUFBSUMsRUFBaUJqRCxPQUFPeUMsVUFBVVEsZUFFbENoRCxFQUFpQixTQUFVaUQsRUFBUUMsRUFBTTdCLEdBQ3ZDdEIsT0FBT0MsZUFDVEQsT0FBT0MsZUFBZWlELEVBQVFDLEVBQU0sQ0FDbENyRCxjQUFjLEVBQ2RDLFVBQVUsRUFDVnVCLE1BQU9BLElBR1Q0QixFQUFPQyxHQUFRN0IsR0FJbkJ5QixFQUFLQyxRQUFVLFdBRWIsU0FBU0EsSUFDUCxRQUFhLElBQVRJLEtBQ0YsTUFBTSxJQUFJOUQsVUFBVSxzQ0FLdEIsR0FGQVcsRUFBZW1ELEtBQU0sTUFBT0MsRUFBTSxhQUU5QnBCLFVBQVV0QyxPQUFTLEVBRXJCLE1BQU0sSUFBSUwsVUFBVSxxQ0F3RXhCLFNBQVNnRSxFQUFjQyxFQUFHQyxHQUN4QixJQUFLQyxFQUFTRixLQUFPTixFQUFlM0MsS0FBS2lELEVBQUcsT0FDMUMsTUFBTSxJQUFJakUsVUFBVWtFLEVBQWEsa0RBQW9ERCxHQUl6RixTQUFTRixFQUFNSyxHQUNiLE9BQU9BLEVBQVMsSUFBTUMsSUFBUyxJQUFNQSxJQUd2QyxTQUFTQSxJQUNQLE9BQU9qQyxLQUFLa0MsU0FBU3ZELFdBQVd3RCxVQUFVLEdBSTVDLE9BbEZBNUQsRUFBZStDLEVBQVFQLFVBQVcsVUFBVSxTQUFVdkMsR0FHcEQsR0FGQW9ELEVBQWNGLEtBQU0sV0FFZkssRUFBU3ZELEdBQ1osT0FBTyxFQUdULElBQUk0RCxFQUFRNUQsRUFBSWtELEtBQUtXLEtBRXJCLFNBQUlELEdBQVNBLEVBQU0sS0FBTzVELFdBQ2pCQSxFQUFJa0QsS0FBS1csS0FDVCxPQU1YOUQsRUFBZStDLEVBQVFQLFVBQVcsT0FBTyxTQUFVdkMsR0FHakQsR0FGQW9ELEVBQWNGLEtBQU0sT0FFZkssRUFBU3ZELEdBQWQsQ0FJQSxJQUFJNEQsRUFBUTVELEVBQUlrRCxLQUFLVyxLQUVyQixPQUFJRCxHQUFTQSxFQUFNLEtBQU81RCxFQUNqQjRELEVBQU0sUUFEZixNQU9GN0QsRUFBZStDLEVBQVFQLFVBQVcsT0FBTyxTQUFVdkMsR0FHakQsR0FGQW9ELEVBQWNGLEtBQU0sUUFFZkssRUFBU3ZELEdBQ1osT0FBTyxFQUdULElBQUk0RCxFQUFRNUQsRUFBSWtELEtBQUtXLEtBRXJCLFNBQUlELEdBQVNBLEVBQU0sS0FBTzVELE1BTzVCRCxFQUFlK0MsRUFBUVAsVUFBVyxPQUFPLFNBQVV2QyxFQUFLb0IsR0FHdEQsR0FGQWdDLEVBQWNGLEtBQU0sUUFFZkssRUFBU3ZELEdBQ1osTUFBTSxJQUFJWixVQUFVLHNDQUd0QixJQUFJd0UsRUFBUTVELEVBQUlrRCxLQUFLVyxLQUVyQixPQUFJRCxHQUFTQSxFQUFNLEtBQU81RCxHQUN4QjRELEVBQU0sR0FBS3hDLEVBQ0o4QixPQUdUbkQsRUFBZUMsRUFBS2tELEtBQUtXLElBQUssQ0FBQzdELEVBQUtvQixJQUM3QjhCLFNBaUJUbkQsRUFBZStDLEVBQVMsYUFBYSxHQUM5QkEsRUFsR00sR0FxR2YsU0FBU1MsRUFBU0YsR0FDaEIsT0FBT3ZELE9BQU91RCxLQUFPQSxHQTFIekIsQ0E0SG1CLG9CQUFUUixLQUF1QkEsS0FBeUIsb0JBQVhKLE9BQXlCQSxPQUFpREUsR0FFekgsSUF4SThCbUIsRUFBSUMsRUF3STlCQyxHQXhJMEJGLEVBd0lLLFNBQVVDLEdBSzdDLElBQWNkLEVBQU1nQixFQUFTQyxFQUFBQSxFQU95RCxXQUVwRixJQUFJQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUFXeEUsT0FBT3lDLFVBQVVwQyxTQUM1Qm9FLEVBQStCLG9CQUFoQkMsYUFBOEIsU0FBZVYsR0FDOUQsT0FBT1UsYUFBYVYsSUFDbEJXLFdBRUosSUFDRTNFLE9BQU9DLGVBQWUsR0FBSSxJQUFLLElBRS9Cb0UsRUFBYyxTQUFxQk8sRUFBS3pCLEVBQU0wQixFQUFLQyxHQUNqRCxPQUFPOUUsT0FBT0MsZUFBZTJFLEVBQUt6QixFQUFNLENBQ3RDN0IsTUFBT3VELEVBQ1A5RSxVQUFVLEVBQ1ZELGNBQXlCLElBQVhnRixLQUdsQixNQUFPQyxHQUNQVixFQUFjLFNBQXFCTyxFQUFLekIsRUFBTTBCLEdBRTVDLE9BREFELEVBQUl6QixHQUFRMEIsRUFDTEQsR0F1Q1gsU0FBU0ksRUFBU2hCLEVBQUlqQixHQUNwQndCLEVBQWlCVSxJQUFJakIsRUFBSWpCLEdBRXBCdUIsSUFDSEEsRUFBUUcsRUFBTUYsRUFBaUJXLFFBS25DLFNBQVNDLEVBQVdDLEdBQ2xCLElBQUlDLEVBQ0FDLFNBQWdCRixFQU1wQixPQUpTLE1BQUxBLEdBQXdCLFVBQVZFLEdBQWdDLFlBQVZBLElBQ3RDRCxFQUFRRCxFQUFFRyxNQUdXLG1CQUFURixHQUFzQkEsRUFHdEMsU0FBU0csSUFDUCxJQUFLLElBQUk5RixFQUFJLEVBQUdBLEVBQUkwRCxLQUFLcUMsTUFBTTlGLE9BQVFELElBQ3JDZ0csRUFBZXRDLEtBQXFCLElBQWZBLEtBQUt1QyxNQUFjdkMsS0FBS3FDLE1BQU0vRixHQUFHa0csUUFBVXhDLEtBQUtxQyxNQUFNL0YsR0FBR21HLFFBQVN6QyxLQUFLcUMsTUFBTS9GLElBR3BHMEQsS0FBS3FDLE1BQU05RixPQUFTLEVBTXRCLFNBQVMrRixFQUFlM0MsRUFBTStDLEVBQUlMLEdBQ2hDLElBQUlNLEVBQUtWLEVBRVQsS0FDYSxJQUFQUyxFQUNGTCxFQUFNTyxPQUFPakQsRUFBS2tELE1BR2hCRixHQURTLElBQVBELEVBQ0kvQyxFQUFLa0QsSUFFTEgsRUFBR3hGLFVBQUssRUFBUXlDLEVBQUtrRCxRQUdqQlIsRUFBTVMsUUFDaEJULEVBQU1PLE9BQU8xRyxVQUFVLHlCQUNkK0YsRUFBUUYsRUFBV1ksSUFDNUJWLEVBQU0vRSxLQUFLeUYsRUFBS04sRUFBTVUsUUFBU1YsRUFBTU8sUUFFckNQLEVBQU1VLFFBQVFKLEdBR2xCLE1BQU9oQixHQUNQVSxFQUFNTyxPQUFPakIsSUFJakIsU0FBU29CLEVBQVFGLEdBQ2YsSUFBSVosRUFDQXRDLEVBQU9LLEtBR1gsSUFBSUwsRUFBS3FELFVBQVQsQ0FJQXJELEVBQUtxRCxXQUFZLEVBRWJyRCxFQUFLc0QsTUFDUHRELEVBQU9BLEVBQUtzRCxLQUdkLEtBQ01oQixFQUFRRixFQUFXYyxJQUNyQmpCLEdBQVMsV0FDUCxJQUFJc0IsRUFBYyxJQUFJQyxFQUFleEQsR0FFckMsSUFDRXNDLEVBQU0vRSxLQUFLMkYsR0FBSyxXQUNkRSxFQUFRSyxNQUFNRixFQUFhckUsY0FDMUIsV0FDRCtELEVBQU9RLE1BQU1GLEVBQWFyRSxjQUU1QixNQUFPOEMsR0FDUGlCLEVBQU8xRixLQUFLZ0csRUFBYXZCLFFBSTdCaEMsRUFBS2tELElBQU1BLEVBQ1hsRCxFQUFLNEMsTUFBUSxFQUVUNUMsRUFBSzBDLE1BQU05RixPQUFTLEdBQ3RCcUYsRUFBU1EsRUFBUXpDLElBR3JCLE1BQU9nQyxHQUNQaUIsRUFBTzFGLEtBQUssSUFBSWlHLEVBQWV4RCxHQUFPZ0MsS0FJMUMsU0FBU2lCLEVBQU9DLEdBQ2QsSUFBSWxELEVBQU9LLEtBRVBMLEVBQUtxRCxZQUlUckQsRUFBS3FELFdBQVksRUFFYnJELEVBQUtzRCxNQUNQdEQsRUFBT0EsRUFBS3NELEtBR2R0RCxFQUFLa0QsSUFBTUEsRUFDWGxELEVBQUs0QyxNQUFRLEVBRVQ1QyxFQUFLMEMsTUFBTTlGLE9BQVMsR0FDdEJxRixFQUFTUSxFQUFRekMsSUFJckIsU0FBUzBELEVBQWdCcEgsRUFBYXFILEVBQUtDLEVBQVVDLEdBQ25ELElBQUssSUFBSUMsRUFBTSxFQUFHQSxFQUFNSCxFQUFJL0csT0FBUWtILEtBQ2xDLFNBQWVBLEdBQ2J4SCxFQUFZOEcsUUFBUU8sRUFBSUcsSUFBTXRCLE1BQUssU0FBb0JVLEdBQ3JEVSxFQUFTRSxFQUFLWixLQUNiVyxHQUhMLENBSUdDLEdBSVAsU0FBU04sRUFBZXhELEdBQ3RCSyxLQUFLaUQsSUFBTXRELEVBQ1hLLEtBQUtnRCxXQUFZLEVBR25CLFNBQVNVLEVBQVEvRCxHQUNmSyxLQUFLOEMsUUFBVW5ELEVBQ2ZLLEtBQUt1QyxNQUFRLEVBQ2J2QyxLQUFLZ0QsV0FBWSxFQUNqQmhELEtBQUtxQyxNQUFRLEdBQ2JyQyxLQUFLNkMsU0FBTSxFQUdiLFNBQVNjLEVBQVFDLEdBQ2YsR0FBdUIsbUJBQVpBLEVBQ1QsTUFBTTFILFVBQVUsa0JBR2xCLEdBQXFCLElBQWpCOEQsS0FBSzZELFFBQ1AsTUFBTTNILFVBQVUsaUJBS2xCOEQsS0FBSzZELFFBQVUsRUFDZixJQUFJWixFQUFNLElBQUlTLEVBQVExRCxNQUV0QkEsS0FBVyxLQUFJLFNBQWN3QyxFQUFTQyxHQUNwQyxJQUFJVCxFQUFJLENBQ05RLFFBQTJCLG1CQUFYQSxHQUF3QkEsRUFDeENDLFFBQTJCLG1CQUFYQSxHQUF3QkEsR0FtQjFDLE9BZEFULEVBQUVjLFFBQVUsSUFBSTlDLEtBQUs4RCxhQUFZLFNBQXNCZixFQUFTSCxHQUM5RCxHQUFzQixtQkFBWEcsR0FBMEMsbUJBQVZILEVBQ3pDLE1BQU0xRyxVQUFVLGtCQUdsQjhGLEVBQUVlLFFBQVVBLEVBQ1pmLEVBQUVZLE9BQVNBLEtBRWJLLEVBQUlaLE1BQU0wQixLQUFLL0IsR0FFRyxJQUFkaUIsRUFBSVYsT0FDTlgsRUFBU1EsRUFBUWEsR0FHWmpCLEVBQUVjLFNBR1g5QyxLQUFZLE1BQUksU0FBaUJ5QyxHQUMvQixPQUFPekMsS0FBS21DLFVBQUssRUFBUU0sSUFHM0IsSUFDRW1CLEVBQVMxRyxVQUFLLEdBQVEsU0FBdUIyRixHQUMzQ0UsRUFBUTdGLEtBQUsrRixFQUFLSixNQUNqQixTQUFzQkEsR0FDdkJELEVBQU8xRixLQUFLK0YsRUFBS0osTUFFbkIsTUFBT2xCLEdBQ1BpQixFQUFPMUYsS0FBSytGLEVBQUt0QixJQXBPckJSLEVBQW1CLFdBQ2pCLElBQUk2QyxFQUFPQyxFQUFNQyxFQUVqQixTQUFTQyxFQUFLdkQsRUFBSWpCLEdBQ2hCSyxLQUFLWSxHQUFLQSxFQUNWWixLQUFLTCxLQUFPQSxFQUNaSyxLQUFLb0UsVUFBTyxFQUdkLE1BQU8sQ0FDTHZDLElBQUssU0FBYWpCLEVBQUlqQixHQUNwQnVFLEVBQU8sSUFBSUMsRUFBS3ZELEVBQUlqQixHQUVoQnNFLEVBQ0ZBLEVBQUtHLEtBQU9GLEVBRVpGLEVBQVFFLEVBR1ZELEVBQU9DLEVBQ1BBLE9BQU8sR0FFVHBDLE1BQU8sV0FDTCxJQUFJdUMsRUFBSUwsRUFHUixJQUZBQSxFQUFRQyxFQUFPL0MsT0FBUSxFQUVoQm1ELEdBQ0xBLEVBQUV6RCxHQUFHMUQsS0FBS21ILEVBQUUxRSxNQUNaMEUsRUFBSUEsRUFBRUQsT0E1QkssR0F3T25CLElBQUlFLEVBQW1CckQsRUFBWSxHQUFJLGNBQWUwQyxHQUV0RCxHQTZFQSxPQTNFQUEsRUFBUXRFLFVBQVlpRixFQUVwQnJELEVBQVlxRCxFQUFrQixVQUFXLEdBRXpDLEdBQ0FyRCxFQUFZMEMsRUFBUyxXQUFXLFNBQXlCZCxHQUl2RCxPQUFJQSxHQUFxQixpQkFBUEEsR0FBbUMsSUFBaEJBLEVBQUlnQixRQUNoQ2hCLEVBR0YsSUFQVzdDLE1BT0ssU0FBa0IrQyxFQUFTSCxHQUNoRCxHQUFzQixtQkFBWEcsR0FBMEMsbUJBQVZILEVBQ3pDLE1BQU0xRyxVQUFVLGtCQUdsQjZHLEVBQVFGLFNBR1o1QixFQUFZMEMsRUFBUyxVQUFVLFNBQXdCZCxHQUNyRCxPQUFPLElBQUk3QyxNQUFLLFNBQWtCK0MsRUFBU0gsR0FDekMsR0FBc0IsbUJBQVhHLEdBQTBDLG1CQUFWSCxFQUN6QyxNQUFNMUcsVUFBVSxrQkFHbEIwRyxFQUFPQyxTQUdYNUIsRUFBWTBDLEVBQVMsT0FBTyxTQUFxQkwsR0FDL0MsSUFBSXJILEVBQWMrRCxLQUVsQixNQUEwQixrQkFBdEJvQixFQUFTbEUsS0FBS29HLEdBQ1RySCxFQUFZMkcsT0FBTzFHLFVBQVUsaUJBR25CLElBQWZvSCxFQUFJL0csT0FDQ04sRUFBWThHLFFBQVEsSUFHdEIsSUFBSTlHLEdBQVksU0FBa0I4RyxFQUFTSCxHQUNoRCxHQUFzQixtQkFBWEcsR0FBMEMsbUJBQVZILEVBQ3pDLE1BQU0xRyxVQUFVLGtCQUdsQixJQUFJcUksRUFBTWpCLEVBQUkvRyxPQUNWaUksRUFBT3BGLE1BQU1tRixHQUNiRSxFQUFRLEVBQ1pwQixFQUFnQnBILEVBQWFxSCxHQUFLLFNBQWtCRyxFQUFLWixHQUN2RDJCLEVBQUtmLEdBQU9aLElBRU40QixJQUFVRixHQUNkeEIsRUFBUXlCLEtBRVQ1QixTQUdQM0IsRUFBWTBDLEVBQVMsUUFBUSxTQUFzQkwsR0FDakQsSUFBSXJILEVBQWMrRCxLQUVsQixNQUEwQixrQkFBdEJvQixFQUFTbEUsS0FBS29HLEdBQ1RySCxFQUFZMkcsT0FBTzFHLFVBQVUsaUJBRy9CLElBQUlELEdBQVksU0FBa0I4RyxFQUFTSCxHQUNoRCxHQUFzQixtQkFBWEcsR0FBMEMsbUJBQVZILEVBQ3pDLE1BQU0xRyxVQUFVLGtCQUdsQm1ILEVBQWdCcEgsRUFBYXFILEdBQUssU0FBa0JHLEVBQUtaLEdBQ3ZERSxFQUFRRixLQUNQRCxTQUdBZSxJQTFWVzVDLEVBT2lDdEIsR0FQdkNNLEVBT1gsV0FMZWdCLEVBQVFoQixJQUFTaUIsSUFFN0JILEVBQU82RCxVQUNUN0QsRUFBTzZELFFBQVUzRCxFQUFRaEIsS0FqSkthLEVBQTFCQyxFQUFTLENBQUU2RCxRQUFTLEtBQWtDN0QsRUFBTzZELFNBNmVqRUMsRUFBYyxJQUFJL0UsUUFXdEIsU0FBU2dGLEVBQWNDLEVBQVE5RSxFQUFNK0UsR0FDbkMsSUFBSUMsRUFBa0JKLEVBQVlLLElBQUlILEVBQU9qSCxVQUFZLEdBRW5EbUMsS0FBUWdGLElBQ1pBLEVBQWdCaEYsR0FBUSxJQUcxQmdGLEVBQWdCaEYsR0FBTWdFLEtBQUtlLEdBQzNCSCxFQUFZTSxJQUFJSixFQUFPakgsUUFBU21ILEdBVWxDLFNBQVNHLEVBQWFMLEVBQVE5RSxHQUU1QixPQURzQjRFLEVBQVlLLElBQUlILEVBQU9qSCxVQUFZLElBQ2xDbUMsSUFBUyxHQVdsQyxTQUFTb0YsRUFBZU4sRUFBUTlFLEVBQU0rRSxHQUNwQyxJQUFJQyxFQUFrQkosRUFBWUssSUFBSUgsRUFBT2pILFVBQVksR0FFekQsSUFBS21ILEVBQWdCaEYsR0FDbkIsT0FBTyxFQUlULElBQUsrRSxFQUdILE9BRkFDLEVBQWdCaEYsR0FBUSxHQUN4QjRFLEVBQVlNLElBQUlKLEVBQU9qSCxRQUFTbUgsSUFDekIsRUFHVCxJQUFJSyxFQUFRTCxFQUFnQmhGLEdBQU16QyxRQUFRd0gsR0FPMUMsT0FMZSxJQUFYTSxHQUNGTCxFQUFnQmhGLEdBQU1zRixPQUFPRCxFQUFPLEdBR3RDVCxFQUFZTSxJQUFJSixFQUFPakgsUUFBU21ILEdBQ3pCQSxFQUFnQmhGLElBQTBDLElBQWpDZ0YsRUFBZ0JoRixHQUFNeEQsT0E2QnhELFNBQVMrSSxFQUFjQyxFQUFZQyxHQUNqQyxJQUFJVCxFQUFrQkosRUFBWUssSUFBSU8sR0FDdENaLEVBQVlNLElBQUlPLEVBQVlULEdBQzVCSixFQUFZYyxPQUFPRixHQU1yQixJQUFJM0csRUFBbUIsQ0FBQyxZQUFhLFdBQVksYUFBYyxTQUFVLFFBQVMsV0FBWSxNQUFPLFNBQVUsS0FBTSxxQkFBc0IsV0FBWSxPQUFRLFlBQWEsV0FBWSxRQUFTLGNBQWUsV0FBWSxhQUFjLFFBQVMsWUFBYSxRQUFTLGNBQWUsTUFBTyxTQVMvUixTQUFTOEcsRUFBb0I5SCxHQUMzQixJQUFJK0gsRUFBVzlHLFVBQVV0QyxPQUFTLFFBQXNCdUMsSUFBakJELFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxHQUNuRixPQUFPRCxFQUFpQmdILFFBQU8sU0FBVUMsRUFBUUMsR0FDL0MsSUFBSTVILEVBQVFOLEVBQVFtSSxhQUFhLGNBQWN2SSxPQUFPc0ksSUFNdEQsT0FKSTVILEdBQW1CLEtBQVZBLEtBQ1gySCxFQUFPQyxHQUFtQixLQUFWNUgsRUFBZSxFQUFJQSxHQUc5QjJILElBQ05GLEdBVUwsU0FBU0ssRUFBWUMsRUFBTXJJLEdBQ3pCLElBQUlzSSxFQUFPRCxFQUFLQyxLQUVoQixJQUFLdEksRUFDSCxNQUFNLElBQUkxQixVQUFVLCtCQUd0QixHQUF1RCxPQUFuRDBCLEVBQVFtSSxhQUFhLDBCQUN2QixPQUFPbkksRUFBUXVJLGNBQWMsVUFHL0IsSUFBSUMsRUFBTUMsU0FBU0MsY0FBYyxPQUlqQyxPQUhBRixFQUFJRyxVQUFZTCxFQUNoQnRJLEVBQVE0SSxZQUFZSixFQUFJSyxZQUN4QjdJLEVBQVE4SSxhQUFhLHlCQUEwQixRQUN4QzlJLEVBQVF1SSxjQUFjLFVBVy9CLFNBQVNRLEVBQWNDLEdBQ3JCLElBQUlmLEVBQVNoSCxVQUFVdEMsT0FBUyxRQUFzQnVDLElBQWpCRCxVQUFVLEdBQW1CQSxVQUFVLEdBQUssR0FDN0VqQixFQUFVaUIsVUFBVXRDLE9BQVMsRUFBSXNDLFVBQVUsUUFBS0MsRUFDcEQsT0FBTyxJQUFJNkUsU0FBUSxTQUFVWixFQUFTSCxHQUNwQyxJQUFLcEUsRUFBV29JLEdBQ2QsTUFBTSxJQUFJMUssVUFBVSxJQUFTc0IsT0FBT29KLEVBQVUsOEJBR2hELElBQUluSSxFQUFNLHlDQUF5Q2pCLE9BQU9xSixtQkFBbUJELElBRTdFLElBQUssSUFBSWQsS0FBU0QsRUFDWkEsRUFBT2hHLGVBQWVpRyxLQUN4QnJILEdBQU8sSUFBSWpCLE9BQU9zSSxFQUFPLEtBQUt0SSxPQUFPcUosbUJBQW1CaEIsRUFBT0MsTUFJbkUsSUFBSWdCLEVBQU0sbUJBQW9CdkgsT0FBUyxJQUFJd0gsZUFBbUIsSUFBSUMsZUFDbEVGLEVBQUlHLEtBQUssTUFBT3hJLEdBQUssR0FFckJxSSxFQUFJSSxPQUFTLFdBQ1gsR0FBbUIsTUFBZkosRUFBSUssT0FLUixHQUFtQixNQUFmTCxFQUFJSyxPQUtSLElBQ0UsSUFBSUMsRUFBT0MsS0FBS0MsTUFBTVIsRUFBSVMsY0FFMUIsR0FBZ0MsTUFBNUJILEVBQUtJLG1CQUlQLE9BRkF4QixFQUFZb0IsRUFBTXhKLFFBQ2xCZ0YsRUFBTyxJQUFJM0QsTUFBTSxJQUFTekIsT0FBT29KLEVBQVUsMEJBSTdDN0QsRUFBUXFFLEdBQ1IsTUFBT0ssR0FDUDdFLEVBQU82RSxRQWhCUDdFLEVBQU8sSUFBSTNELE1BQU0sSUFBU3pCLE9BQU9vSixFQUFVLCtCQUwzQ2hFLEVBQU8sSUFBSTNELE1BQU0sSUFBU3pCLE9BQU9vSixFQUFVLHVCQXlCL0NFLEVBQUlZLFFBQVUsV0FDWixJQUFJUCxFQUFTTCxFQUFJSyxPQUFTLEtBQUszSixPQUFPc0osRUFBSUssT0FBUSxLQUFPLEdBQ3pEdkUsRUFBTyxJQUFJM0QsTUFBTSx3REFBd0R6QixPQUFPMkosRUFBUSxRQUcxRkwsRUFBSWEsVUE0RlIsU0FBU0MsRUFBaUJDLEdBQ3hCLEdBQW9CLGlCQUFUQSxFQUNULElBQ0VBLEVBQU9SLEtBQUtDLE1BQU1PLEdBQ2xCLE1BQU9KLEdBR1AsT0FEQUssUUFBUUMsS0FBS04sR0FDTixHQUlYLE9BQU9JLEVBV1QsU0FBU3JJLEVBQVlxRixFQUFRbUQsRUFBUW5DLEdBQ25DLEdBQUtoQixFQUFPakgsUUFBUXFLLGVBQWtCcEQsRUFBT2pILFFBQVFxSyxjQUFjekksWUFBbkUsQ0FJQSxJQUFJMEksRUFBVSxDQUNaRixPQUFRQSxRQUdLbEosSUFBWCtHLElBQ0ZxQyxFQUFRaEssTUFBUTJILEdBSWxCLElBQUlzQyxFQUFZL0osV0FBV2dLLFVBQVVDLFVBQVU5SyxjQUFjMkIsUUFBUSxtQkFBb0IsT0FFckZpSixHQUFhLEdBQUtBLEVBQVksS0FDaENELEVBQVViLEtBQUtpQixVQUFVSixJQUczQnJELEVBQU9qSCxRQUFRcUssY0FBY3pJLFlBQVkwSSxFQUFTckQsRUFBTzBELFNBVTNELFNBQVNDLEVBQVkzRCxFQUFRZ0QsR0FFM0IsSUFDSS9CLEVBREEyQyxFQUFZLEdBR2hCLElBSkFaLEVBQU9ELEVBQWlCQyxJQUlmYSxNQUNZLFVBQWZiLEVBQUthLE9BQ1F4RCxFQUFhTCxFQUFRZ0QsRUFBS0EsS0FBS0csUUFDckNXLFNBQVEsU0FBVTdGLEdBQ3pCLElBQUkyRSxFQUFRLElBQUl4SSxNQUFNNEksRUFBS0EsS0FBS0ssU0FDaENULEVBQU0xSCxLQUFPOEgsRUFBS0EsS0FBSzlILEtBQ3ZCK0MsRUFBUUYsT0FBTzZFLEdBQ2Z0QyxFQUFlTixFQUFRZ0QsRUFBS0EsS0FBS0csT0FBUWxGLE1BSTdDMkYsRUFBWXZELEVBQWFMLEVBQVEsU0FBU3JILE9BQU9xSyxFQUFLYSxRQUN0RDVDLEVBQVErQixFQUFLQSxVQUNSLEdBQUlBLEVBQUtHLE9BQVEsQ0FDdEIsSUFBSWxELEVBelNSLFNBQXdCRCxFQUFROUUsR0FDOUIsSUFBSWdGLEVBQWtCRyxFQUFhTCxFQUFROUUsR0FFM0MsR0FBSWdGLEVBQWdCeEksT0FBUyxFQUMzQixPQUFPLEVBR1QsSUFBSXVJLEVBQVdDLEVBQWdCNkQsUUFFL0IsT0FEQXpELEVBQWVOLEVBQVE5RSxFQUFNK0UsR0FDdEJBLEVBZ1NVK0QsQ0FBZWhFLEVBQVFnRCxFQUFLRyxRQUV2Q2xELElBQ0YyRCxFQUFVMUUsS0FBS2UsR0FDZmdCLEVBQVErQixFQUFLM0osT0FJakJ1SyxFQUFVRSxTQUFRLFNBQVU3RCxHQUMxQixJQUNFLEdBQXdCLG1CQUFiQSxFQUVULFlBREFBLEVBQVM1SCxLQUFLMkgsRUFBUWlCLEdBSXhCaEIsRUFBUy9CLFFBQVErQyxHQUNqQixNQUFPZ0QsUUF1SGIsSUFBSUMsRUFBWSxJQUFJbkosUUFDaEJvSixFQUFXLElBQUlwSixRQUNmcUosRUFBYSxHQUViQyxFQUFzQixXQVN4QixTQUFTQSxFQUFPdEwsR0FDZCxJQUFJdUwsRUFBUW5KLEtBRVJvSixFQUFVdkssVUFBVXRDLE9BQVMsUUFBc0J1QyxJQUFqQkQsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEdBbUJsRixHQWpCQTlDLEVBQWdCaUUsS0FBTWtKLEdBR2xCM0osT0FBTzhKLFFBQVV6TCxhQUFtQnlMLFNBQ2xDekwsRUFBUXJCLE9BQVMsR0FBS2dELE9BQU91SSxTQUFXQSxRQUFRQyxNQUNsREQsUUFBUUMsS0FBSywrRUFHZm5LLEVBQVVBLEVBQVEsSUFJSSxvQkFBYnlJLFVBQStDLGlCQUFaekksSUFDNUNBLEVBQVV5SSxTQUFTaUQsZUFBZTFMLEtBSS9CRCxFQUFhQyxHQUNoQixNQUFNLElBQUkxQixVQUFVLHVEQUl0QixHQUF5QixXQUFyQjBCLEVBQVEyTCxTQUF1QixDQUNqQyxJQUFJQyxFQUFTNUwsRUFBUXVJLGNBQWMsVUFFL0JxRCxJQUNGNUwsRUFBVTRMLEdBS2QsR0FBeUIsV0FBckI1TCxFQUFRMkwsV0FBMEIvSyxFQUFXWixFQUFRbUksYUFBYSxRQUFVLElBQzlFLE1BQU0sSUFBSTlHLE1BQU0sa0RBSWxCLEdBQUk4SixFQUFVVSxJQUFJN0wsR0FDaEIsT0FBT21MLEVBQVUvRCxJQUFJcEgsR0FHdkJvQyxLQUFLMEosUUFBVTlMLEVBQVFHLGNBQWNDLFlBQ3JDZ0MsS0FBS3BDLFFBQVVBLEVBQ2ZvQyxLQUFLdUksT0FBUyxJQUNkLElBQUlvQixFQUFlLElBQUk3SSxHQUFRLFNBQVVpQyxFQUFTSCxHQW9DaEQsR0FuQ0F1RyxFQUFNUyxXQUFhLFNBQVVsQixHQUMzQixHQUFLbEssRUFBV2tLLEVBQU1ILFNBQVdZLEVBQU12TCxRQUFRcUssZ0JBQWtCUyxFQUFNbUIsT0FBdkUsQ0FJcUIsTUFBakJWLEVBQU1aLFNBQ1JZLEVBQU1aLE9BQVNHLEVBQU1ILFFBR3ZCLElBQUlWLEVBQU9ELEVBQWlCYyxFQUFNYixNQUlsQyxHQUhjQSxHQUF1QixVQUFmQSxFQUFLYSxPQUNHYixFQUFLQSxNQUE2QixVQUFyQkEsRUFBS0EsS0FBS0csT0FFbkMsQ0FDaEIsSUFBSVAsRUFBUSxJQUFJeEksTUFBTTRJLEVBQUtBLEtBQUtLLFNBR2hDLE9BRkFULEVBQU0xSCxLQUFPOEgsRUFBS0EsS0FBSzlILFVBQ3ZCNkMsRUFBTzZFLEdBSVQsSUFBSXFDLEVBQWVqQyxHQUF1QixVQUFmQSxFQUFLYSxNQUM1QnFCLEVBQWlCbEMsR0FBd0IsU0FBaEJBLEVBQUtHLE9BRWxDLEdBQUk4QixHQUFnQkMsRUFJbEIsT0FIQVosRUFBTXZMLFFBQVE4SSxhQUFhLGFBQWMsYUFFekMzRCxJQUlGeUYsRUFBWVcsRUFBT3RCLEtBR3JCc0IsRUFBTU8sUUFBUU0saUJBQWlCLFVBQVdiLEVBQU1TLFlBRWpCLFdBQTNCVCxFQUFNdkwsUUFBUTJMLFNBQXVCLENBQ3ZDLElBQUkxRCxFQUFTSCxFQUFvQjlILEVBQVN3TCxHQUUxQ3pDLEVBRFVoSSxFQUFZa0gsR0FDSEEsRUFBUWpJLEdBQVN1RSxNQUFLLFNBQVUwRixHQUNqRCxJQUFJMkIsRUFBU3hELEVBQVk2QixFQUFNakssR0FPL0IsT0FKQXVMLEVBQU12TCxRQUFVNEwsRUFDaEJMLEVBQU1jLGlCQUFtQnJNLEVBQ3pCMEgsRUFBYzFILEVBQVM0TCxHQUN2QlQsRUFBVTlELElBQUlrRSxFQUFNdkwsUUFBU3VMLEdBQ3RCdEIsS0FDTnFDLE1BQU10SCxPQVliLEdBUkFvRyxFQUFTL0QsSUFBSWpGLEtBQU0ySixHQUNuQlosRUFBVTlELElBQUlqRixLQUFLcEMsUUFBU29DLE1BR0UsV0FBMUJBLEtBQUtwQyxRQUFRMkwsVUFDZi9KLEVBQVlRLEtBQU0sUUFHaEJpSixFQUFXa0IsVUFBVyxDQUN4QixJQUFJQyxFQUFpQixXQUNuQixPQUFPbkIsRUFBV29CLFFBR3BCckssS0FBS3NLLHdCQUEwQixXQUN6QnJCLEVBQVdzQixhQUNiM0YsRUFBY3VFLEVBQU8sdUJBQXdCaUIsR0FFN0NqRixFQUFlZ0UsRUFBTyx1QkFBd0JpQixHQUloRGpCLEVBQU1xQixRQUFRckksTUFBSyxXQUNqQjNDLEVBQVkySixFQUFPLG1CQUFvQkYsRUFBV3NCLGtCQUl0RHRCLEVBQVd3QixHQUFHLG1CQUFvQnpLLEtBQUtzSyx5QkFHekMsT0FBT3RLLEtBaHVDWCxJQUFzQi9ELEVBQWF5TyxFQWs3RWpDLE9BbDdFb0J6TyxFQTJ1Q1BpTixFQTN1Q29Cd0IsRUEydUNaLENBQUMsQ0FDcEI1TixJQUFLLGFBQ0xvQixNQUFPLFNBQW9CNkIsR0FDekIsSUFBSTRLLEVBQVMzSyxLQUVUNEssRUFBTy9MLFVBQVV0QyxPQUFTLFFBQXNCdUMsSUFBakJELFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxHQUMvRSxPQUFPLElBQUlpQyxHQUFRLFNBQVVpQyxFQUFTSCxHQUlwQyxPQUFPK0gsRUFBT0gsUUFBUXJJLE1BQUssV0FDekJ5QyxFQUFjK0YsRUFBUTVLLEVBQU0sQ0FDMUJnRCxRQUFTQSxFQUNUSCxPQUFRQSxJQUVWcEQsRUFBWW1MLEVBQVE1SyxFQUFNNkssTUFDekJWLE1BQU10SCxRQVVaLENBQ0Q5RixJQUFLLE1BQ0xvQixNQUFPLFNBQWE2QixHQUNsQixJQUFJOEssRUFBUzdLLEtBRWIsT0FBTyxJQUFJYyxHQUFRLFNBQVVpQyxFQUFTSCxHQUtwQyxPQUpBN0MsRUFBTzVDLEVBQWM0QyxFQUFNLE9BSXBCOEssRUFBT0wsUUFBUXJJLE1BQUssV0FDekJ5QyxFQUFjaUcsRUFBUTlLLEVBQU0sQ0FDMUJnRCxRQUFTQSxFQUNUSCxPQUFRQSxJQUVWcEQsRUFBWXFMLEVBQVE5SyxNQUNuQm1LLE1BQU10SCxRQVdaLENBQ0Q5RixJQUFLLE1BQ0xvQixNQUFPLFNBQWE2QixFQUFNN0IsR0FDeEIsSUFBSTRNLEVBQVM5SyxLQUViLE9BQU8sSUFBSWMsR0FBUSxTQUFVaUMsRUFBU0gsR0FHcEMsR0FGQTdDLEVBQU81QyxFQUFjNEMsRUFBTSxPQUV2QjdCLE1BQUFBLEVBQ0YsTUFBTSxJQUFJaEMsVUFBVSxpQ0FNdEIsT0FBTzRPLEVBQU9OLFFBQVFySSxNQUFLLFdBQ3pCeUMsRUFBY2tHLEVBQVEvSyxFQUFNLENBQzFCZ0QsUUFBU0EsRUFDVEgsT0FBUUEsSUFFVnBELEVBQVlzTCxFQUFRL0ssRUFBTTdCLE1BQ3pCZ00sTUFBTXRILFFBYVosQ0FDRDlGLElBQUssS0FDTG9CLE1BQU8sU0FBWTZNLEVBQVdqRyxHQUM1QixJQUFLaUcsRUFDSCxNQUFNLElBQUk3TyxVQUFVLGdDQUd0QixJQUFLNEksRUFDSCxNQUFNLElBQUk1SSxVQUFVLHNDQUd0QixHQUF3QixtQkFBYjRJLEVBQ1QsTUFBTSxJQUFJNUksVUFBVSxvQ0FLRyxJQUZUZ0osRUFBYWxGLEtBQU0sU0FBU3hDLE9BQU91TixJQUVyQ3hPLFFBQ1p5RCxLQUFLZ0wsV0FBVyxtQkFBb0JELEdBQVdiLE9BQU0sZUFLdkR0RixFQUFjNUUsS0FBTSxTQUFTeEMsT0FBT3VOLEdBQVlqRyxLQVlqRCxDQUNEaEksSUFBSyxNQUNMb0IsTUFBTyxTQUFhNk0sRUFBV2pHLEdBQzdCLElBQUtpRyxFQUNILE1BQU0sSUFBSTdPLFVBQVUsZ0NBR3RCLEdBQUk0SSxHQUFnQyxtQkFBYkEsRUFDckIsTUFBTSxJQUFJNUksVUFBVSxvQ0FHSGlKLEVBQWVuRixLQUFNLFNBQVN4QyxPQUFPdU4sR0FBWWpHLElBR2xFOUUsS0FBS2dMLFdBQVcsc0JBQXVCRCxHQUFXYixPQUFNLFNBQVVwQixTQXNCckUsQ0FDRGhNLElBQUssWUFDTG9CLE1BQU8sU0FBbUJrTCxHQUN4QixPQUFPcEosS0FBS2dMLFdBQVcsWUFBYTVCLEtBa0JyQyxDQUNEdE0sSUFBSyxRQUNMb0IsTUFBTyxXQUNMLElBQUl5TCxFQUFlWCxFQUFTaEUsSUFBSWhGLE9BQVMsSUFBSWMsR0FBUSxTQUFVaUMsRUFBU0gsR0FDdEVBLEVBQU8sSUFBSTNELE1BQU0sMENBRW5CLE9BQU82QixFQUFRaUMsUUFBUTRHLEtBcUJ4QixDQUNEN00sSUFBSyxjQUNMb0IsTUFBTyxTQUFxQitNLEdBQzFCLElBQUlwRCxFQUFPaEosVUFBVXRDLE9BQVMsUUFBc0J1QyxJQUFqQkQsVUFBVSxHQUFtQkEsVUFBVSxHQUFLLEdBQy9FLE9BQU9tQixLQUFLZ0wsV0FBVyxjQUFlLENBQ3BDQyxLQUFNQSxFQUNOcEQsS0FBTUEsTUFxQlQsQ0FDRC9LLElBQUssaUJBQ0xvQixNQUFPLFNBQXdCYSxHQUM3QixPQUFPaUIsS0FBS2dMLFdBQVcsaUJBQWtCak0sS0FrQzFDLENBQ0RqQyxJQUFLLGtCQUNMb0IsTUFBTyxTQUF5QmdOLEVBQVVDLEdBQ3hDLElBQUtELEVBQ0gsTUFBTSxJQUFJaFAsVUFBVSw2QkFHdEIsT0FBTzhELEtBQUtnTCxXQUFXLGtCQUFtQixDQUN4Q0UsU0FBVUEsRUFDVkMsS0FBTUEsTUFnQlQsQ0FDRHJPLElBQUssbUJBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnTCxXQUFXLHNCQWV4QixDQUNEbE8sSUFBSyxRQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0wsV0FBVyxXQWtCeEIsQ0FDRGxPLElBQUssT0FDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dMLFdBQVcsVUFPeEIsQ0FDRGxPLElBQUssb0JBQ0xvQixNQUFPLFdBQ0wsT0FBSStLLEVBQVdrQixVQUNObEIsRUFBV21DLFFBQVFwTCxLQUFLcEMsU0FHMUJvQyxLQUFLZ0wsV0FBVyx1QkFPeEIsQ0FDRGxPLElBQUssaUJBQ0xvQixNQUFPLFdBQ0wsT0FBSStLLEVBQVdrQixVQUNObEIsRUFBV29CLE9BR2JySyxLQUFLZ0wsV0FBVyxvQkFPeEIsQ0FDRGxPLElBQUssZ0JBQ0xvQixNQUFPLFdBQ0wsT0FBSStLLEVBQVdrQixVQUNOckosRUFBUWlDLFFBQVFrRyxFQUFXc0IsY0FHN0J2SyxLQUFLZ0YsSUFBSSxnQkFPakIsQ0FDRGxJLElBQUssMEJBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnTCxXQUFXLDZCQU94QixDQUNEbE8sSUFBSyx1QkFDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dMLFdBQVcsMEJBT3hCLENBQ0RsTyxJQUFLLHNCQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxzQkFlakIsQ0FDRGxJLElBQUssU0FDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dMLFdBQVcsWUFXeEIsQ0FDRGxPLElBQUssVUFDTG9CLE1BQU8sV0FDTCxJQUFJbU4sRUFBU3JMLEtBRWIsT0FBTyxJQUFJYyxHQUFRLFNBQVVpQyxHQXNCM0IsR0FyQkFpRyxFQUFTdkQsT0FBTzRGLEdBQ2hCdEMsRUFBVXRELE9BQU80RixFQUFPek4sU0FFcEJ5TixFQUFPcEIsbUJBQ1RsQixFQUFVdEQsT0FBTzRGLEVBQU9wQixrQkFFeEJvQixFQUFPcEIsaUJBQWlCcUIsZ0JBQWdCLDJCQUd0Q0QsRUFBT3pOLFNBQXVDLFdBQTVCeU4sRUFBT3pOLFFBQVEyTCxVQUF5QjhCLEVBQU96TixRQUFRMk4sYUFHdkVGLEVBQU96TixRQUFRMk4sV0FBV0EsWUFBY0YsRUFBT3BCLGtCQUFvQm9CLEVBQU9wQixtQkFBcUJvQixFQUFPek4sUUFBUTJOLFdBQ2hIRixFQUFPek4sUUFBUTJOLFdBQVdBLFdBQVdDLFlBQVlILEVBQU96TixRQUFRMk4sWUFFaEVGLEVBQU96TixRQUFRMk4sV0FBV0MsWUFBWUgsRUFBT3pOLFVBTTdDeU4sRUFBT3pOLFNBQXVDLFFBQTVCeU4sRUFBT3pOLFFBQVEyTCxVQUFzQjhCLEVBQU96TixRQUFRMk4sV0FBWSxDQUNwRkYsRUFBT3pOLFFBQVEwTixnQkFBZ0IsMEJBRS9CLElBQUk5QixFQUFTNkIsRUFBT3pOLFFBQVF1SSxjQUFjLFVBRXRDcUQsR0FBVUEsRUFBTytCLGFBR2YvQixFQUFPK0IsV0FBV0EsWUFBY0YsRUFBT3BCLGtCQUFvQm9CLEVBQU9wQixtQkFBcUJULEVBQU8rQixXQUNoRy9CLEVBQU8rQixXQUFXQSxXQUFXQyxZQUFZaEMsRUFBTytCLFlBRWhEL0IsRUFBTytCLFdBQVdDLFlBQVloQyxJQUtwQzZCLEVBQU8zQixRQUFRK0Isb0JBQW9CLFVBQVdKLEVBQU96QixZQUVqRFgsRUFBV2tCLFdBQ2JsQixFQUFXeUMsSUFBSSxtQkFBb0JMLEVBQU9mLHlCQUc1Q3ZILFNBa0JILENBQ0RqRyxJQUFLLGVBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLGVBdUJqQixDQUNEbEksSUFBSyxlQUNMb0IsTUFBTyxTQUFzQnlOLEdBQzNCLE9BQU8zTCxLQUFLaUYsSUFBSSxZQUFhMEcsS0FlOUIsQ0FDRDdPLElBQUssY0FDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksY0F1QmpCLENBQ0RsSSxJQUFLLGlCQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxpQkFpQmpCLENBQ0RsSSxJQUFLLGlCQUNMb0IsTUFBTyxTQUF3QjBOLEdBQzdCLE9BQU81TCxLQUFLaUYsSUFBSSxjQUFlMkcsS0F3QmhDLENBQ0Q5TyxJQUFLLGNBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLGNBZWpCLENBQ0RsSSxJQUFLLG9CQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxvQkFlakIsQ0FDRGxJLElBQUssV0FDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksV0F1QmpCLENBQ0RsSSxJQUFLLFdBQ0xvQixNQUFPLFNBQWtCMk4sR0FDdkIsT0FBTzdMLEtBQUtpRixJQUFJLFFBQVM0RyxLQTBCMUIsQ0FDRC9PLElBQUssZUFDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksZUFlakIsQ0FDRGxJLElBQUssaUJBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLGlCQXdCakIsQ0FDRGxJLElBQUssaUJBQ0xvQixNQUFPLFNBQXdCNE4sR0FDN0IsT0FBTzlMLEtBQUtpRixJQUFJLGNBQWU2RyxLQWlCaEMsQ0FDRGhQLElBQUssY0FDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksY0FnQmpCLENBQ0RsSSxJQUFLLFdBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLFdBZWpCLENBQ0RsSSxJQUFLLFVBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLFVBaUJqQixDQUNEbEksSUFBSyxVQUNMb0IsTUFBTyxTQUFpQjZOLEdBQ3RCLE9BQU8vTCxLQUFLaUYsSUFBSSxPQUFROEcsS0FpQnpCLENBQ0RqUCxJQUFLLFdBQ0xvQixNQUFPLFNBQWtCOE4sR0FDdkIsT0FBT2hNLEtBQUtpRixJQUFJLFFBQVMrRyxLQWUxQixDQUNEbFAsSUFBSyxXQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxXQWVqQixDQUNEbEksSUFBSyxZQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxZQWVqQixDQUNEbEksSUFBSyxrQkFDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksa0JBbUJqQixDQUNEbEksSUFBSyxrQkFDTG9CLE1BQU8sU0FBeUIrTixHQUM5QixPQUFPak0sS0FBS2lGLElBQUksZUFBZ0JnSCxLQWVqQyxDQUNEblAsSUFBSyxZQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxZQWVqQixDQUNEbEksSUFBSyxlQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxlQWVqQixDQUNEbEksSUFBSyxhQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxhQWlCakIsQ0FDRGxJLElBQUssYUFDTG9CLE1BQU8sU0FBb0JnTyxHQUN6QixPQUFPbE0sS0FBS2lGLElBQUksVUFBV2lILEtBZTVCLENBQ0RwUCxJQUFLLGNBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLGNBZWpCLENBQ0RsSSxJQUFLLGFBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLGFBZWpCLENBQ0RsSSxJQUFLLGdCQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxnQkFlakIsQ0FDRGxJLElBQUssb0JBQ0xvQixNQUFPLFdBQ0wsT0FBTzhCLEtBQUtnRixJQUFJLG9CQWVqQixDQUNEbEksSUFBSyxhQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxhQWVqQixDQUNEbEksSUFBSyxnQkFDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksZ0JBZ0JqQixDQUNEbEksSUFBSyxnQkFDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksZ0JBZ0JqQixDQUNEbEksSUFBSyxpQkFDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksaUJBZ0JqQixDQUNEbEksSUFBSyxjQUNMb0IsTUFBTyxXQUNMLE9BQU84QixLQUFLZ0YsSUFBSSxjQWtCakIsQ0FDRGxJLElBQUssWUFDTG9CLE1BQU8sV0FDTCxPQUFPOEIsS0FBS2dGLElBQUksWUFzQmpCLENBQ0RsSSxJQUFLLFlBQ0xvQixNQUFPLFNBQW1CaU8sR0FDeEIsT0FBT25NLEtBQUtpRixJQUFJLFNBQVVrSCxNQTc2RTFCekIsR0FBWXZPLEVBQWtCRixFQUFZb0QsVUFBV3FMLEdBaTdFbER4QixFQTUxQ2lCLEdBZzJDckJuTSxJQUNIa00sRUE3OENGLFdBQ0UsSUFBSXJJLEVBQUssV0FTUCxJQVJBLElBQUlhLEVBQ0EySyxFQUFRLENBQUMsQ0FBQyxvQkFBcUIsaUJBQWtCLG9CQUFxQixvQkFBcUIsbUJBQW9CLG1CQUNuSCxDQUFDLDBCQUEyQix1QkFBd0IsMEJBQTJCLDBCQUEyQix5QkFBMEIseUJBQ3BJLENBQUMsMEJBQTJCLHlCQUEwQixpQ0FBa0MseUJBQTBCLHlCQUEwQix5QkFBMEIsQ0FBQyx1QkFBd0Isc0JBQXVCLHVCQUF3Qix1QkFBd0Isc0JBQXVCLHNCQUF1QixDQUFDLHNCQUF1QixtQkFBb0Isc0JBQXVCLHNCQUF1QixxQkFBc0Isc0JBQ2hhOVAsRUFBSSxFQUNKK1AsRUFBSUQsRUFBTTdQLE9BQ1ZvRyxFQUFNLEdBRUhyRyxFQUFJK1AsRUFBRy9QLElBR1osSUFGQW1GLEVBQU0ySyxFQUFNOVAsS0FFRG1GLEVBQUksS0FBTTRFLFNBQVUsQ0FDN0IsSUFBSy9KLEVBQUksRUFBR0EsRUFBSW1GLEVBQUlsRixPQUFRRCxJQUMxQnFHLEVBQUl5SixFQUFNLEdBQUc5UCxJQUFNbUYsRUFBSW5GLEdBR3pCLE9BQU9xRyxFQUlYLE9BQU8sRUFyQkEsR0F3QkwySixFQUFlLENBQ2pCQyxpQkFBa0IzTCxFQUFHMkwsaUJBQ3JCQyxnQkFBaUI1TCxFQUFHNEwsaUJBRWxCdkQsRUFBYSxDQUNmbUMsUUFBUyxTQUFpQnhOLEdBQ3hCLE9BQU8sSUFBSStGLFNBQVEsU0FBVVosRUFBU0gsR0FDcEMsSUFBSTZKLEVBQXNCLFNBQVNBLElBQ2pDeEQsRUFBV3lDLElBQUksbUJBQW9CZSxHQUNuQzFKLEtBR0ZrRyxFQUFXd0IsR0FBRyxtQkFBb0JnQyxHQUVsQyxJQUFJQyxHQURKOU8sRUFBVUEsR0FBV3lJLFNBQVNzRyxpQkFDRi9MLEVBQUdnTSxxQkFFM0JGLGFBQXlCL0ksU0FDM0IrSSxFQUFjdkssS0FBS3NLLEdBQXFCdkMsTUFBTXRILE9BSXBEeUgsS0FBTSxXQUNKLE9BQU8sSUFBSTFHLFNBQVEsU0FBVVosRUFBU0gsR0FDcEMsR0FBS3FHLEVBQVdzQixhQUFoQixDQUtBLElBQUlzQyxFQUFtQixTQUFTQSxJQUM5QjVELEVBQVd5QyxJQUFJLG1CQUFvQm1CLEdBQ25DOUosS0FHRmtHLEVBQVd3QixHQUFHLG1CQUFvQm9DLEdBQ2xDLElBQUlILEVBQWdCckcsU0FBU3pGLEVBQUd3SixrQkFFNUJzQyxhQUF5Qi9JLFNBQzNCK0ksRUFBY3ZLLEtBQUswSyxHQUFrQjNDLE1BQU10SCxRQWIzQ0csUUFpQk4wSCxHQUFJLFNBQVkvQixFQUFPNUQsR0FDckIsSUFBSWlHLEVBQVl1QixFQUFhNUQsR0FFekJxQyxHQUNGMUUsU0FBUzJELGlCQUFpQmUsRUFBV2pHLElBR3pDNEcsSUFBSyxTQUFhaEQsRUFBTzVELEdBQ3ZCLElBQUlpRyxFQUFZdUIsRUFBYTVELEdBRXpCcUMsR0FDRjFFLFNBQVNvRixvQkFBb0JWLEVBQVdqRyxLQXdCOUMsT0FwQkFsSSxPQUFPa1EsaUJBQWlCN0QsRUFBWSxDQUNsQ3NCLGFBQWMsQ0FDWnZGLElBQUssV0FDSCxPQUFPbkgsUUFBUXdJLFNBQVN6RixFQUFHbU0sc0JBRy9CblAsUUFBUyxDQUNQbkIsWUFBWSxFQUNadUksSUFBSyxXQUNILE9BQU9xQixTQUFTekYsRUFBR21NLHFCQUd2QjVDLFVBQVcsQ0FDVDFOLFlBQVksRUFDWnVJLElBQUssV0FFSCxPQUFPbkgsUUFBUXdJLFNBQVN6RixFQUFHb00sd0JBSTFCL0QsRUF3MkNNZ0UsR0Fyb0RmLFdBQ0UsSUFBSUMsRUFBU3JPLFVBQVV0QyxPQUFTLFFBQXNCdUMsSUFBakJELFVBQVUsR0FBbUJBLFVBQVUsR0FBS3dILFNBQzdFOEcsRUFBVyxHQUFHQyxNQUFNbFEsS0FBS2dRLEVBQU9HLGlCQUFpQixzQ0FFakRDLEVBQWMsU0FBcUI3RixHQUNqQyxZQUFhbEksUUFBVXVJLFFBQVFMLE9BQ2pDSyxRQUFRTCxNQUFNLHlDQUF5Q2pLLE9BQU9pSyxLQUlsRTBGLEVBQVN4RSxTQUFRLFNBQVUvSyxHQUN6QixJQUVFLEdBQWlELE9BQTdDQSxFQUFRbUksYUFBYSxvQkFDdkIsT0FHRixJQUFJRixFQUFTSCxFQUFvQjlILEdBRWpDK0ksRUFEVWhJLEVBQVlrSCxHQUNIQSxFQUFRakksR0FBU3VFLE1BQUssU0FBVTBGLEdBQ2pELE9BQU83QixFQUFZNkIsRUFBTWpLLE1BQ3hCc00sTUFBTW9ELEdBQ1QsTUFBTzdGLEdBQ1A2RixFQUFZN0YsT0ErbURoQjhGLEdBcG1ERixXQUNFLElBQUlMLEVBQVNyTyxVQUFVdEMsT0FBUyxRQUFzQnVDLElBQWpCRCxVQUFVLEdBQW1CQSxVQUFVLEdBQUt3SCxTQUdqRixJQUFJOUcsT0FBT2lPLHlCQUFYLENBSUFqTyxPQUFPaU8sMEJBQTJCLEVBRWxDLElBQUlDLEVBQVksU0FBbUIvRSxHQUNqQyxHQUFLbEssRUFBV2tLLEVBQU1ILFNBS2pCRyxFQUFNYixNQUE2QixnQkFBckJhLEVBQU1iLEtBQUthLE1BTTlCLElBRkEsSUFBSWdGLEVBQVVSLEVBQU9HLGlCQUFpQixVQUU3Qi9RLEVBQUksRUFBR0EsRUFBSW9SLEVBQVFuUixPQUFRRCxJQUNsQyxHQUFJb1IsRUFBUXBSLEdBQUcyTCxnQkFBa0JTLEVBQU1tQixPQUF2QyxDQU1ZNkQsRUFBUXBSLEdBQUdxUixjQUNqQkMsTUFBTUMsY0FBZ0IsR0FBR3JRLE9BQU9rTCxFQUFNYixLQUFLQSxLQUFLLEdBQUdpRyxPQUFRLE1BQ2pFLFFBSUp2TyxPQUFPeUssaUJBQWlCLFVBQVd5RCxJQWtrRG5DTSxJQUdGLHVCQzU4RUFySixFQUFRc0osWUFBYSxFQUNyQnRKLEVBQVF1SixrQkFBZSxFQUl2QnZKLEVBQVF1SixhQUhXLFdBQ2YsT0FBTzdGLGdDQ0hYLElBQUk4RixFQUFtQmxPLE1BQVFBLEtBQUtrTyxrQkFBcUJ0UixPQUFPdVIsT0FBUyxTQUFVbk0sRUFBR29NLEVBQUdDLEVBQUdDLFFBQzdFeFAsSUFBUHdQLElBQWtCQSxFQUFLRCxHQUMzQixJQUFJRSxFQUFPM1IsT0FBTzRSLHlCQUF5QkosRUFBR0MsR0FDekNFLEtBQVMsUUFBU0EsR0FBUUgsRUFBRUosV0FBYU8sRUFBSzVSLFVBQVk0UixFQUFLN1IsZ0JBQ2xFNlIsRUFBTyxDQUFFOVIsWUFBWSxFQUFNdUksSUFBSyxXQUFhLE9BQU9vSixFQUFFQyxNQUV4RHpSLE9BQU9DLGVBQWVtRixFQUFHc00sRUFBSUMsSUFDNUIsU0FBVXZNLEVBQUdvTSxFQUFHQyxFQUFHQyxRQUNUeFAsSUFBUHdQLElBQWtCQSxFQUFLRCxHQUMzQnJNLEVBQUVzTSxHQUFNRixFQUFFQyxLQUVWSSxFQUFnQnpPLE1BQVFBLEtBQUt5TyxjQUFpQixTQUFTTCxFQUFHMUosR0FDMUQsSUFBSyxJQUFJZ0ssS0FBS04sRUFBYSxZQUFOTSxHQUFvQjlSLE9BQU95QyxVQUFVUSxlQUFlM0MsS0FBS3dILEVBQVNnSyxJQUFJUixFQUFnQnhKLEVBQVMwSixFQUFHTSxJQUUzSGhLLEVBQVFzSixZQUFhLEVBQ3JCUyxFQUFhLEVBQVEsS0FBZS9KLHdCQ2ZwQyxJQUFJd0osRUFBbUJsTyxNQUFRQSxLQUFLa08sa0JBQXFCdFIsT0FBT3VSLE9BQVMsU0FBVW5NLEVBQUdvTSxFQUFHQyxFQUFHQyxRQUM3RXhQLElBQVB3UCxJQUFrQkEsRUFBS0QsR0FDM0IsSUFBSUUsRUFBTzNSLE9BQU80Uix5QkFBeUJKLEVBQUdDLEdBQ3pDRSxLQUFTLFFBQVNBLEdBQVFILEVBQUVKLFdBQWFPLEVBQUs1UixVQUFZNFIsRUFBSzdSLGdCQUNsRTZSLEVBQU8sQ0FBRTlSLFlBQVksRUFBTXVJLElBQUssV0FBYSxPQUFPb0osRUFBRUMsTUFFeER6UixPQUFPQyxlQUFlbUYsRUFBR3NNLEVBQUlDLElBQzVCLFNBQVV2TSxFQUFHb00sRUFBR0MsRUFBR0MsUUFDVHhQLElBQVB3UCxJQUFrQkEsRUFBS0QsR0FDM0JyTSxFQUFFc00sR0FBTUYsRUFBRUMsS0FFZDNKLEVBQVFzSixZQUFhLEVBQ3JCdEosRUFBUWlLLGNBQVcsRUFFbkJULEVBQWdCeEosRUFEQyxFQUFRLEtBQ1ksMkJDZHJDQSxFQUFRc0osWUFBYSxFQUNyQnRKLEVBQVFpSyxjQUFXLEVBQ25CLElBQUlDLEVBQWMsRUFBUSxLQUkxQmxLLEVBQVFpSyxTQUhPLFdBQ1gsTUFBTyxpRUFBaUVqUSxNQUFLLEVBQUlrUSxFQUFZWCxnQkFBZ0I1Riw2SUNMakgsYUFFQSxTQUNBLFNBWUEsU0FFYSxFQUFBd0csa0JBQW9CLFdBQy9CLElBQU10TSxHQUFRLElBQUF1TSxZQUNSQyxFQUFnQnhNLEVBQU15TSxxQkFBcUJ6TSxFQUFNME0saUJBQ3ZEQyxFQUFZSCxFQUFjSSxTQUMxQkMsRUFBZUwsR0FDZk0sRUFBYzlNLEdBQ2QrTSxFQUFzQi9NLEdBQ3RCZ04sS0FHVyxFQUFBQyxzQkFBd0IsV0FDbkNuSixTQUFTMkQsaUJBQWlCLEVBQUF5Rix5QkFBMEIsRUFBQVosb0JBR3pDLEVBQUFhLFlBQWMsWUFDckIsSUFBQWYsWUFDRmdCLEtBRUFDLElBQ0FDLE1BSUosSUFBTUEsRUFBbUIsV0FDdkJDLEVBQWMsRUFBQUMsc0JBR1ZKLEVBQXNCLFdBQzFCRyxFQUFjLEVBQUFFLHlCQUdWSixFQUF1QixXQUMzQkUsRUFBYyxFQUFBRywwQkFHVkgsRUFBZ0IsU0FBQ0ksR0FDckIsSUFBTUMsRUFBZTlKLFNBQVNDLGNBQWMsUUFDNUM2SixFQUFhQyxJQUFNLGFBQ25CRCxFQUFhRCxLQUFPQSxFQUNwQjdKLFNBQVNnSyxLQUFLN0osWUFBWTJKLElBR3RCakIsRUFBYyxTQUFDQyxHQUNuQjlJLFNBQVNpRCxlQUFlLEVBQUFnSCxZQUFZQyxVQUFZcEIsR0FHNUNJLEVBQXFCLFdBQ3pCLElBQU1pQixFQUFpQm5LLFNBQVNpRCxlQUM5QixFQUFBbUgsZ0JBRUlDLEdBQVUsSUFBQUMsbUJBQWtCRCxRQUM5QkEsR0FDRkYsRUFBZUksSUFBTSxxQkFBY0YsR0FDbkNGLEVBQWVLLFVBQVVDLE9BQU8sV0FFaENOLEVBQWVLLFVBQVVoUCxJQUFJLFdBSTNCdU4sRUFBaUIsU0FBQzJCLEdBQ3RCLElBQUk3SyxFQUFPLDRCQUFxQjZLLEVBQUtDLGFBQVksNkJBQXFCRCxFQUFLRSxTQUFRLFFBQy9FRixFQUFLRyxZQUNQaEwsR0FBUSxxQkFBYzZLLEVBQUtHLFVBQVMsZ0JBR3RDN0ssU0FBU2lELGVBQWUsRUFBQTZILFdBQVc1SyxVQUFZTCxHQUczQ21KLEVBQWdCLFNBQUM5TSxHQUNyQjZPLEVBQWEsRUFBQUMsbUJBQW9COU8sRUFBTStPLFNBQVNDLE9BQ2hESCxFQUFhLEVBQUFJLG1CQUFvQmpQLEVBQU1rUCxTQUFTRixRQUc1Q0gsRUFBZSxTQUFDTSxFQUFrQkgsR0FDdENsTCxTQUFTaUQsZUFBZW9JLEdBQVVuQixVQUFZZ0IsR0FHMUNqQyxFQUF3QixTQUFDL00sR0FDekJBLEVBQU15TSxxQkFBcUJ6UyxPQUFTLEVBQ3RDb1YsSUFFQUMsS0FJRUQsRUFBYyxXQUNsQkUsRUFBVyxFQUFBQyxlQUNYRCxFQUFXLEVBQUFFLGdCQUdQRixFQUFhLFNBQUNILEdBQ2xCckwsU0FBU2lELGVBQWVvSSxHQUFVYixVQUFVaFAsSUFBSSxXQUc1QytQLEVBQWMsV0FDbEJJLEVBQVcsRUFBQUYsZUFDWEUsRUFBVyxFQUFBRCxnQkFHUEMsRUFBYSxTQUFDTixHQUNsQnJMLFNBQVNpRCxlQUFlb0ksR0FBVWIsVUFBVUMsT0FBTyxrUUNySHJELGFBT2EsRUFBQW1CLHVCQUF5QixvQkFDekIsRUFBQUMsdUJBQXlCLG9CQUN6QixFQUFBQywwQkFBNEIscUJBQzVCLEVBQUFDLDBCQUE0QixxQkFJNUIsRUFBQUMscUJBQXVCLFdBQ2xDLElBQU1DLEVBQWtCLElBQUlDLFlBQWtCLEVBQUFOLHdCQUN4Q08sRUFBa0IsSUFBSUQsWUFBa0IsRUFBQUwsd0JBQ3hDTyxFQUFtQixJQUFJRixZQUFrQixFQUFBSiwyQkFDekNPLEVBQW1CLElBQUlILFlBQWtCLEVBQUFILDJCQUUvQ08sRUFBbUIsRUFBQUMsb0JBQXFCTixHQUN4Q0ssRUFBbUIsRUFBQUUsb0JBQXFCTCxHQUN4Q0csRUFBbUIsRUFBQVosY0FBZVUsR0FDbENFLEVBQW1CLEVBQUFiLGNBQWVZLElBR3BDLElBQU1DLEVBQXFCLFNBQUNqQixFQUFrQm9CLEdBQzVDek0sU0FBU2lELGVBQWVvSSxHQUFVcUIsUUFBVSxTQUFDQyxHQUMzQ0EsRUFBR0MsaUJBQ0g1TSxTQUFTNk0sY0FBY0osS0FJZCxFQUFBckQseUJBQTJCLG9CQUUzQixFQUFBMEQsa0JBQW9CLFdBQy9CLElBQU1ILEVBQUssSUFBSVQsWUFBa0IsRUFBQTlDLDBCQUNqQ3BKLFNBQVM2TSxjQUFjRiw2RkNyQ3pCLElBRUlJLEVBRkEvUixFQUFRLEVBSU5nUyxFQUFhLFVBRU4sRUFBQUMsa0JBQW9CLFdBQy9CL1QsT0FBT2dVLFlBQWMsV0FDbkJDLElBQ0FuUyxFQUFRLEVBQ0orUixHQUNGN1QsT0FBT2tVLGFBQWFMLEdBRXRCTSxNQUlKLElBQU1BLEVBQWEsV0FDakJOLEVBQVU3UixZQUFXLFdBQ0wsSUFBVkYsRUFDRnNTLEtBRUF0UyxJQUNBcVMsT0FFRCxNQUdDQyxFQUFVLFdBQ2QsSUFBTWpELEVBQVVySyxTQUFTaUQsZUFBZStKLEdBQ3hDM0MsRUFBUUcsVUFBVUMsT0FBTyxXQUN6QkosRUFBUUcsVUFBVWhQLElBQUksYUFHbEIyUixFQUFTLFdBQ2IsSUFBTTlDLEVBQVVySyxTQUFTaUQsZUFBZStKLEdBQ3hDM0MsRUFBUUcsVUFBVWhQLElBQUksV0FDdEI2TyxFQUFRRyxVQUFVQyxPQUFPLHFIQ3JDM0IsSUFJSTlVLEVBSkosU0FDQSxTQUNBLFNBSUk0WCxHQUFZLEVBQ1pDLEdBQVUsRUFFRCxFQUFBQyxpQkFBbUIsU0FBQ0MsR0FDL0IsSUFBTTNLLEVBQVUsQ0FDZHJLLEdBQUlnVixFQUNKaEksTUFBTSxFQUNOaUksVUFBVSxFQUNWQyxVQUFVLEVBQ1ZDLFlBQVksR0FFZGxZLEVBQVcsSUFBSSxVQUFPLFNBQVVvTixHQUNoQy9DLFNBQVMyRCxpQkFBaUIsRUFBQXlGLHlCQUEwQjBFLEdBQ3BEblksRUFBU3dPLFFBQVFySSxNQUFLLFdBQ3BCMFIsR0FBVSxFQUNWN1gsRUFBU29ZLFdBSUEsRUFBQUMsWUFBYyxXQUNwQlIsSUFDREQsR0FDRjVYLEVBQVNzWSxRQUNUVixHQUFhQSxJQUViNVgsRUFBU29ZLE9BQ1RSLEdBQWFBLEtBSWpCLElBQU1PLEVBQWMsV0FDbEIsSUFBTTVSLEdBQVEsSUFBQXVNLFlBQ1J5RixFQUFRaFMsRUFBTXlNLHFCQUFxQnpNLEVBQU0wTSxpQkFDL0NqVCxFQUFTd1ksVUFBVUQsRUFBTXhWLElBQ3pCL0MsRUFBU29ZLHNUQ3hDRSxFQUFBOUQsV0FBYSxVQUNiLEVBQUFhLFVBQVksYUFDWixFQUFBSyxtQkFBcUIsa0JBQ3JCLEVBQUFILG1CQUFxQixrQkFDckIsRUFBQXVCLG9CQUFzQixZQUN0QixFQUFBQyxvQkFBc0IsWUFDdEIsRUFBQWQsY0FBZ0IsWUFDaEIsRUFBQUQsY0FBZ0IsWUFDaEIsRUFBQXJCLGVBQWlCLGNBQ2pCLEVBQUFSLHdCQUEwQixjQUMxQixFQUFBRCx1QkFBeUIsYUFDekIsRUFBQUQsb0JBQXNCLHlXQ1ZuQyxJQXdCSXhOLEVBeEJKLFNBQ0EsU0FRSXNGLEVBQWUsR0FpQk4sRUFBQTRNLFVBQVksV0FDdkIvUyxFQUFPZ1QsS0FBSSxTQUFDQyxHQUNWOU0sRUFBSzlELEtBQUssQ0FBRTZRLEtBQU1ELEVBQUlDLEtBQU1DLE9BQVFGLEVBQUlFLFlBRTFDLElBQU1DLEVBQWMsQ0FBRXZELE1BQU8xSixFQUFLLEdBQUcrTSxLQUFNN1YsR0FBSSxHQUN6QzBTLEVBQVcsQ0FBRUYsTUFBTzFKLEVBQUssR0FBRytNLEtBQU03VixHQUFJLEdBQ3RDdVMsRUFBVyxDQUFFQyxNQUFPMUosRUFBS0EsRUFBS3RMLE9BQVMsR0FBR3FZLEtBQU03VixHQUFJOEksRUFBS3RMLE9BQVMsR0FFbEV5UyxFQUF1Qm5ILEVBQUssR0FBR2dOLE9BQ3JDdFMsRUFBUSxDQUNOdVMsWUFBVyxFQUNYckQsU0FBUSxFQUNSSCxTQUFRLEVBQ1JyQyxnQkFOc0IsRUFPdEJELHFCQUFvQixHQUV0QitGLElBQ0FDLEtBR1csRUFBQWxHLFNBQVcsV0FDdEIsT0FBT3ZNLEdBR0ksRUFBQW9PLGdCQUFrQixXQUM3QixJQUFNbE4sRUFBTWxCLEVBQU0wTSxnQkFDbEIsT0FBTzFNLEVBQU15TSxxQkFBcUJ2TCxJQUdwQyxJQUFNc1IsRUFBeUIsV0FDN0IxTyxTQUFTMkQsaUJBQWlCLEVBQUFpSSx1QkFBd0JSLEdBQ2xEcEwsU0FBUzJELGlCQUFpQixFQUFBa0ksdUJBQXdCWixJQUc5Q0csRUFBVyxXQUNmLElBRUlBLEVBRkVILEVBQVcvTyxFQUFNdVMsWUFDakJBLEVBQWN2UyxFQUFNa1AsU0FFcEJ3RCxFQUFhMVMsRUFBTWtQLFNBQVMxUyxHQUFLLEVBR3JDMFMsRUFGRXdELElBQWVwTixFQUFLdEwsT0FFWCxDQUFFZ1YsTUFBTzFKLEVBQUssR0FBRytNLEtBQU03VixHQUFJLEdBRTNCLENBQUVBLEdBQUlrVyxFQUFZMUQsTUFBTzFKLEVBQUtvTixHQUFZTCxNQUV2RCxJQUNNNUYsRUFBdUJuSCxFQUFLaU4sRUFBWS9WLElBQUk4VixPQUNsRHRTLEVBQVEsQ0FDTitPLFNBQVEsRUFDUndELFlBQVcsRUFDWHJELFNBQVEsRUFDUnhDLGdCQU5zQixFQU90QkQscUJBQW9CLElBRXRCLElBQUFtRSxzQkFHSTdCLEVBQVcsV0FDZixJQUFNRyxFQUFXbFAsRUFBTXVTLFlBQ2pCQSxFQUFjdlMsRUFBTStPLFNBQ3RCQSxPQUFXeFMsRUFDVG9XLEVBQWEzUyxFQUFNK08sU0FBU3ZTLEdBQUssRUFDdkMsR0FBSW1XLEVBQWEsRUFBRyxDQUVsQixJQUFNQyxFQUFVdE4sRUFBS3RMLE9BQVMsRUFDOUIrVSxFQUFXLENBQUVDLE1BQU8xSixFQUFLc04sR0FBU1AsS0FBTTdWLEdBQUlvVyxRQUU1QzdELEVBQVcsQ0FBRXZTLEdBQUltVyxFQUFZM0QsTUFBTzFKLEVBQUtxTixHQUFZTixNQUV2RCxJQUNNNUYsRUFBdUJuSCxFQUFLaU4sRUFBWS9WLElBQUk4VixPQUNsRHRTLEVBQVEsQ0FDTitPLFNBQVEsRUFDUndELFlBQVcsRUFDWHJELFNBQVEsRUFDUnhDLGdCQU5zQixFQU90QkQscUJBQW9CLElBRXRCLElBQUFtRSxzQkFHSTZCLEVBQTBCLFdBQzlCM08sU0FBUzJELGlCQUFpQixFQUFBbUksMEJBQTJCaUQsR0FDckQvTyxTQUFTMkQsaUJBQWlCLEVBQUFvSSwwQkFBMkJpRCxJQUdqREQsRUFBWSxXQUNoQixJQUFJRSxFQUFjL1MsRUFBTTBNLGdCQUFrQixFQUN0Q3FHLElBQWdCL1MsRUFBTXlNLHFCQUFxQnpTLFNBQzdDK1ksRUFBYyxHQUVoQi9TLEVBQVEsRUFBSCxLQUFRQSxHQUFLLENBQUUwTSxnQkFBaUJxRyxLQUNyQyxJQUFBbkMsc0JBR0lrQyxFQUFZLFdBQ2hCLElBQUlFLEVBQWNoVCxFQUFNME0sZ0JBQWtCLEVBQ3RDc0csRUFBYyxJQUNoQkEsRUFBY2hULEVBQU15TSxxQkFBcUJ6UyxPQUFTLEdBRXBEZ0csRUFBUSxFQUFILEtBQVFBLEdBQUssQ0FBRTBNLGdCQUFpQnNHLEtBQ3JDLElBQUFwQywwcFVDL0hFcUMsRUFBMkIsR0FHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQjVXLElBQWpCNlcsRUFDSCxPQUFPQSxFQUFhalIsUUFHckIsSUFBSTdELEVBQVMyVSxFQUF5QkUsR0FBWSxDQUdqRGhSLFFBQVMsSUFPVixPQUhBa1IsRUFBb0JGLEdBQVV4WSxLQUFLMkQsRUFBTzZELFFBQVM3RCxFQUFRQSxFQUFPNkQsUUFBUytRLEdBR3BFNVUsRUFBTzZELFFDcEJmK1EsRUFBb0JJLEVBQUksQ0FBQ25SLEVBQVMxRCxLQUNqQyxJQUFJLElBQUlsRSxLQUFPa0UsRUFDWHlVLEVBQW9CelQsRUFBRWhCLEVBQVlsRSxLQUFTMlksRUFBb0J6VCxFQUFFMEMsRUFBUzVILElBQzVFRixPQUFPQyxlQUFlNkgsRUFBUzVILEVBQUssQ0FBRUwsWUFBWSxFQUFNdUksSUFBS2hFLEVBQVdsRSxNQ0ozRTJZLEVBQW9CelksRUFBSSxXQUN2QixHQUEwQixpQkFBZjBDLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBT00sTUFBUSxJQUFJOFYsU0FBUyxjQUFiLEdBQ2QsTUFBT2hOLEdBQ1IsR0FBc0IsaUJBQVh2SixPQUFxQixPQUFPQSxRQUxqQixHQ0F4QmtXLEVBQW9CelQsRUFBSSxDQUFDUixFQUFLcEUsSUFBVVIsT0FBT3lDLFVBQVVRLGVBQWUzQyxLQUFLc0UsRUFBS3BFLEdDQ2xGcVksRUFBb0JNLEVBQUtyUixJQUNILG9CQUFYc1IsUUFBMEJBLE9BQU9DLGFBQzFDclosT0FBT0MsZUFBZTZILEVBQVNzUixPQUFPQyxZQUFhLENBQUUvWCxNQUFPLFdBRTdEdEIsT0FBT0MsZUFBZTZILEVBQVMsYUFBYyxDQUFFeEcsT0FBTyxLaEJMdkQsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUVNcEMsRUFBYyxZQUNsQixJQUFBdVksZ0JBR1csWUFDWCxJQUFBM0UsZ0JBQ0EsSUFBQTRELHNCQUNBLElBQUE5RCwwQkFDQSxJQUFBNkMseUJBQ0EsSUFBQW9DLGFBRUEsSUFBTUYsR0FBUSxJQUFBekYsWUFBV0UscUJBQXFCLElBRTlDLElBQUE4RSxrQkFBaUJTLEVBQU14VixJQUN2QnNILFNBQVM2UCxLQUFLbE0saUJBQWlCLFFBQVNsTyxJQUV4QyxJQUFBK1MscUJBQ0F0UCxPQUFPNFcsU0FBUyxFQUFHOVAsU0FBUzZQLEtBQUtFLGNBR25DQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NpZ2h0dW5oZWFyZC8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly9zaWdodHVuaGVhcmQvLi9ub2RlX21vZHVsZXMvQHZpbWVvL3BsYXllci9kaXN0L3BsYXllci5lcy5qcyIsIndlYnBhY2s6Ly9zaWdodHVuaGVhcmQvLi9ub2RlX21vZHVsZXMvbWl0Y2hwYWluLXdlYi1saWJzL2xpYi9oZWxwZXIvbmF2aWdhdG9yLmpzIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC8uL25vZGVfbW9kdWxlcy9taXRjaHBhaW4td2ViLWxpYnMvbGliL2luZGV4LmpzIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC8uL25vZGVfbW9kdWxlcy9taXRjaHBhaW4td2ViLWxpYnMvbGliL2lzTW9iaWxlL2luZGV4LmpzIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC8uL25vZGVfbW9kdWxlcy9taXRjaHBhaW4td2ViLWxpYnMvbGliL2lzTW9iaWxlL2lzTW9iaWxlLmpzIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC8uL3NyYy9kb20udHMiLCJ3ZWJwYWNrOi8vc2lnaHR1bmhlYXJkLy4vc3JjL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9zaWdodHVuaGVhcmQvLi9zcmMvZmFkZXMudHMiLCJ3ZWJwYWNrOi8vc2lnaHR1bmhlYXJkLy4vc3JjL3BsYXllci50cyIsIndlYnBhY2s6Ly9zaWdodHVuaGVhcmQvLi9zcmMvc2VsZWN0b3IudHMiLCJ3ZWJwYWNrOi8vc2lnaHR1bmhlYXJkLy4vc3JjL3N0YXRlLnRzIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zaWdodHVuaGVhcmQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3NpZ2h0dW5oZWFyZC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBvcHVsYXRlRG9tRmllbGRzLCBhcHBlbmRTdHlsZSwgc2V0UmVmcmVzaEFwcExpc3RlbmVyIH0gZnJvbSBcIi4vZG9tXCI7XHJcbmltcG9ydCB7IHNldE5hdmlnYXRpb25zRXZlbnRzIH0gZnJvbSBcIi4vZXZlbnRzXCI7XHJcbmltcG9ydCB7IHNldE1vdXNlTW92ZUV2ZW50IH0gZnJvbSBcIi4vZmFkZXNcIjtcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZVBsYXllciwgcmVzdW1lVmlkZW8gfSBmcm9tIFwiLi9wbGF5ZXJcIjtcclxuaW1wb3J0IHsgZ2V0U3RhdGUsIGluaXRTdGF0ZSB9IGZyb20gXCIuL3N0YXRlXCI7XHJcblxyXG5jb25zdCBwbGF5T25DbGljayA9ICgpID0+IHtcclxuICByZXN1bWVWaWRlbygpO1xyXG59O1xyXG5cclxuY29uc3QgaW5pdCA9ICgpID0+IHtcclxuICBhcHBlbmRTdHlsZSgpO1xyXG4gIHNldE1vdXNlTW92ZUV2ZW50KCk7XHJcbiAgc2V0UmVmcmVzaEFwcExpc3RlbmVyKCk7XHJcbiAgc2V0TmF2aWdhdGlvbnNFdmVudHMoKTtcclxuICBpbml0U3RhdGUoKTtcclxuXHJcbiAgY29uc3QgdmlkZW8gPSBnZXRTdGF0ZSgpLmN1cnJlbnRDaXR5VmlkZW9MaXN0WzBdO1xyXG5cclxuICBpbml0aWFsaXplUGxheWVyKHZpZGVvLmlkKTtcclxuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwbGF5T25DbGljayk7XHJcblxyXG4gIHBvcHVsYXRlRG9tRmllbGRzKCk7XHJcbiAgd2luZG93LnNjcm9sbFRvKDAsIGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KTtcclxufTtcclxuXHJcbmluaXQoKTtcclxuIiwiLyohIEB2aW1lby9wbGF5ZXIgdjIuMTYuNCB8IChjKSAyMDIyIFZpbWVvIHwgTUlUIExpY2Vuc2UgfCBodHRwczovL2dpdGh1Yi5jb20vdmltZW8vcGxheWVyLmpzICovXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbi8qKlxuICogQG1vZHVsZSBsaWIvZnVuY3Rpb25zXG4gKi9cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgdGhpcyBpcyBhIG5vZGUgZW52aXJvbm1lbnQuXG4gKiBAdHlwZSB7Qm9vbGVhbn1cbiAqL1xuXG4vKiBnbG9iYWwgZ2xvYmFsICovXG52YXIgaXNOb2RlID0gdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYge30udG9TdHJpbmcuY2FsbChnbG9iYWwpID09PSAnW29iamVjdCBnbG9iYWxdJztcbi8qKlxuICogR2V0IHRoZSBuYW1lIG9mIHRoZSBtZXRob2QgZm9yIGEgZ2l2ZW4gZ2V0dGVyIG9yIHNldHRlci5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFaXRoZXIg4oCcZ2V04oCdIG9yIOKAnHNldOKAnS5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBnZXRNZXRob2ROYW1lKHByb3AsIHR5cGUpIHtcbiAgaWYgKHByb3AuaW5kZXhPZih0eXBlLnRvTG93ZXJDYXNlKCkpID09PSAwKSB7XG4gICAgcmV0dXJuIHByb3A7XG4gIH1cblxuICByZXR1cm4gXCJcIi5jb25jYXQodHlwZS50b0xvd2VyQ2FzZSgpKS5jb25jYXQocHJvcC5zdWJzdHIoMCwgMSkudG9VcHBlckNhc2UoKSkuY29uY2F0KHByb3Auc3Vic3RyKDEpKTtcbn1cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBvYmplY3QgaXMgYSBET00gRWxlbWVudC5cbiAqXG4gKiBAcGFyYW0geyp9IGVsZW1lbnQgVGhlIG9iamVjdCB0byBjaGVjay5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNEb21FbGVtZW50KGVsZW1lbnQpIHtcbiAgcmV0dXJuIEJvb2xlYW4oZWxlbWVudCAmJiBlbGVtZW50Lm5vZGVUeXBlID09PSAxICYmICdub2RlTmFtZScgaW4gZWxlbWVudCAmJiBlbGVtZW50Lm93bmVyRG9jdW1lbnQgJiYgZWxlbWVudC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbn1cbi8qKlxuICogQ2hlY2sgdG8gc2VlIHdoZXRoZXIgdGhlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICpcbiAqIEBzZWUgaHR0cDovL2RsLmRyb3Bib3h1c2VyY29udGVudC5jb20vdS8zNTE0Ni9qcy90ZXN0cy9pc051bWJlci5odG1sXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50ZWdlciBDaGVjayBpZiB0aGUgdmFsdWUgaXMgYW4gaW50ZWdlci5cbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKHZhbHVlKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcbiAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KHZhbHVlKSkgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09IHZhbHVlO1xufVxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIFVSTCBpcyBhIFZpbWVvIHVybC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgc3RyaW5nLlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBpc1ZpbWVvVXJsKHVybCkge1xuICByZXR1cm4gL14oaHR0cHM/Oik/XFwvXFwvKChwbGF5ZXJ8d3d3KVxcLik/dmltZW9cXC5jb20oPz0kfFxcLykvLnRlc3QodXJsKTtcbn1cbi8qKlxuICogR2V0IHRoZSBWaW1lbyBVUkwgZnJvbSBhbiBlbGVtZW50LlxuICogVGhlIGVsZW1lbnQgbXVzdCBoYXZlIGVpdGhlciBhIGRhdGEtdmltZW8taWQgb3IgZGF0YS12aW1lby11cmwgYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvRW1iZWRQYXJhbWV0ZXJzIFRoZSBvRW1iZWQgcGFyYW1ldGVycy5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuXG5mdW5jdGlvbiBnZXRWaW1lb1VybCgpIHtcbiAgdmFyIG9FbWJlZFBhcmFtZXRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICB2YXIgaWQgPSBvRW1iZWRQYXJhbWV0ZXJzLmlkO1xuICB2YXIgdXJsID0gb0VtYmVkUGFyYW1ldGVycy51cmw7XG4gIHZhciBpZE9yVXJsID0gaWQgfHwgdXJsO1xuXG4gIGlmICghaWRPclVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQW4gaWQgb3IgdXJsIG11c3QgYmUgcGFzc2VkLCBlaXRoZXIgaW4gYW4gb3B0aW9ucyBvYmplY3Qgb3IgYXMgYSBkYXRhLXZpbWVvLWlkIG9yIGRhdGEtdmltZW8tdXJsIGF0dHJpYnV0ZS4nKTtcbiAgfVxuXG4gIGlmIChpc0ludGVnZXIoaWRPclVybCkpIHtcbiAgICByZXR1cm4gXCJodHRwczovL3ZpbWVvLmNvbS9cIi5jb25jYXQoaWRPclVybCk7XG4gIH1cblxuICBpZiAoaXNWaW1lb1VybChpZE9yVXJsKSkge1xuICAgIHJldHVybiBpZE9yVXJsLnJlcGxhY2UoJ2h0dHA6JywgJ2h0dHBzOicpO1xuICB9XG5cbiAgaWYgKGlkKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQoaWQsIFwiXFx1MjAxRCBpcyBub3QgYSB2YWxpZCB2aWRlbyBpZC5cIikpO1xuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlxcdTIwMUNcIi5jb25jYXQoaWRPclVybCwgXCJcXHUyMDFEIGlzIG5vdCBhIHZpbWVvLmNvbSB1cmwuXCIpKTtcbn1cblxudmFyIGFycmF5SW5kZXhPZlN1cHBvcnQgPSB0eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgIT09ICd1bmRlZmluZWQnO1xudmFyIHBvc3RNZXNzYWdlU3VwcG9ydCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cucG9zdE1lc3NhZ2UgIT09ICd1bmRlZmluZWQnO1xuXG5pZiAoIWlzTm9kZSAmJiAoIWFycmF5SW5kZXhPZlN1cHBvcnQgfHwgIXBvc3RNZXNzYWdlU3VwcG9ydCkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdTb3JyeSwgdGhlIFZpbWVvIFBsYXllciBBUEkgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGJyb3dzZXIuJyk7XG59XG5cbnZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxuLyohXG4gKiB3ZWFrbWFwLXBvbHlmaWxsIHYyLjAuMSAtIEVDTUFTY3JpcHQ2IFdlYWtNYXAgcG9seWZpbGxcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9wb2x5Z29ucGxhbmV0L3dlYWttYXAtcG9seWZpbGxcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDIwIFBvbHlnb24gUGxhbmV0IDxwb2x5Z29uLnBsYW5ldC5hcXVhQGdtYWlsLmNvbT5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG4oZnVuY3Rpb24gKHNlbGYpIHtcblxuICBpZiAoc2VsZi5XZWFrTWFwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuICB2YXIgZGVmaW5lUHJvcGVydHkgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCB2YWx1ZSkge1xuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIG5hbWUsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqZWN0W25hbWVdID0gdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIHNlbGYuV2Vha01hcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBFQ01BLTI2MiAyMy4zIFdlYWtNYXAgT2JqZWN0c1xuICAgIGZ1bmN0aW9uIFdlYWtNYXAoKSB7XG4gICAgICBpZiAodGhpcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciBXZWFrTWFwIHJlcXVpcmVzICduZXcnXCIpO1xuICAgICAgfVxuXG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX2lkJywgZ2VuSWQoJ19XZWFrTWFwJykpOyAvLyBFQ01BLTI2MiAyMy4zLjEuMSBXZWFrTWFwKFtpdGVyYWJsZV0pXG5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBDdXJyZW50bHksIFdlYWtNYXAgYGl0ZXJhYmxlYCBhcmd1bWVudCBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1dlYWtNYXAgaXRlcmFibGUgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgfVxuICAgIH0gLy8gRUNNQS0yNjIgMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcblxuXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdkZWxldGUnLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBjaGVja0luc3RhbmNlKHRoaXMsICdkZWxldGUnKTtcblxuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0ga2V5W3RoaXMuX2lkXTtcblxuICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5WzBdID09PSBrZXkpIHtcbiAgICAgICAgZGVsZXRlIGtleVt0aGlzLl9pZF07XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7IC8vIEVDTUEtMjYyIDIzLjMuMy4zIFdlYWtNYXAucHJvdG90eXBlLmdldChrZXkpXG5cbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2dldCcsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGNoZWNrSW5zdGFuY2UodGhpcywgJ2dldCcpO1xuXG4gICAgICBpZiAoIWlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0ga2V5W3RoaXMuX2lkXTtcblxuICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5WzBdID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5WzFdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0pOyAvLyBFQ01BLTI2MiAyMy4zLjMuNCBXZWFrTWFwLnByb3RvdHlwZS5oYXMoa2V5KVxuXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdoYXMnLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBjaGVja0luc3RhbmNlKHRoaXMsICdoYXMnKTtcblxuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0ga2V5W3RoaXMuX2lkXTtcblxuICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5WzBdID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTsgLy8gRUNNQS0yNjIgMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG5cbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ3NldCcsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBjaGVja0luc3RhbmNlKHRoaXMsICdzZXQnKTtcblxuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdmFsdWUgdXNlZCBhcyB3ZWFrIG1hcCBrZXknKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0ga2V5W3RoaXMuX2lkXTtcblxuICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5WzBdID09PSBrZXkpIHtcbiAgICAgICAgZW50cnlbMV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGRlZmluZVByb3BlcnR5KGtleSwgdGhpcy5faWQsIFtrZXksIHZhbHVlXSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGNoZWNrSW5zdGFuY2UoeCwgbWV0aG9kTmFtZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh4KSB8fCAhaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX2lkJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtZXRob2ROYW1lICsgJyBtZXRob2QgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlciAnICsgdHlwZW9mIHgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbklkKHByZWZpeCkge1xuICAgICAgcmV0dXJuIHByZWZpeCArICdfJyArIHJhbmQoKSArICcuJyArIHJhbmQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYW5kKCkge1xuICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMik7XG4gICAgfVxuXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcCwgJ19wb2x5ZmlsbCcsIHRydWUpO1xuICAgIHJldHVybiBXZWFrTWFwO1xuICB9KCk7XG5cbiAgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiBPYmplY3QoeCkgPT09IHg7XG4gIH1cbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBjb21tb25qc0dsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBjb21tb25qc0dsb2JhbCA6IGNvbW1vbmpzR2xvYmFsKTtcblxudmFyIG5wb19zcmMgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4vKiEgTmF0aXZlIFByb21pc2UgT25seVxuICAgIHYwLjguMSAoYykgS3lsZSBTaW1wc29uXG4gICAgTUlUIExpY2Vuc2U6IGh0dHA6Ly9nZXRpZnkubWl0LWxpY2Vuc2Uub3JnXG4qL1xuKGZ1bmN0aW9uIFVNRChuYW1lLCBjb250ZXh0LCBkZWZpbml0aW9uKSB7XG4gIC8vIHNwZWNpYWwgZm9ybSBvZiBVTUQgZm9yIHBvbHlmaWxsaW5nIGFjcm9zcyBldmlyb25tZW50c1xuICBjb250ZXh0W25hbWVdID0gY29udGV4dFtuYW1lXSB8fCBkZWZpbml0aW9uKCk7XG5cbiAgaWYgKG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBjb250ZXh0W25hbWVdO1xuICB9XG59KShcIlByb21pc2VcIiwgdHlwZW9mIGNvbW1vbmpzR2xvYmFsICE9IFwidW5kZWZpbmVkXCIgPyBjb21tb25qc0dsb2JhbCA6IGNvbW1vbmpzR2xvYmFsLCBmdW5jdGlvbiBERUYoKSB7XG5cbiAgdmFyIGJ1aWx0SW5Qcm9wLFxuICAgICAgY3ljbGUsXG4gICAgICBzY2hlZHVsaW5nX3F1ZXVlLFxuICAgICAgVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLFxuICAgICAgdGltZXIgPSB0eXBlb2Ygc2V0SW1tZWRpYXRlICE9IFwidW5kZWZpbmVkXCIgPyBmdW5jdGlvbiB0aW1lcihmbikge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGUoZm4pO1xuICB9IDogc2V0VGltZW91dDsgLy8gZGFtbWl0LCBJRTguXG5cbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwieFwiLCB7fSk7XG5cbiAgICBidWlsdEluUHJvcCA9IGZ1bmN0aW9uIGJ1aWx0SW5Qcm9wKG9iaiwgbmFtZSwgdmFsLCBjb25maWcpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG4gICAgICAgIHZhbHVlOiB2YWwsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IGNvbmZpZyAhPT0gZmFsc2VcbiAgICAgIH0pO1xuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGJ1aWx0SW5Qcm9wID0gZnVuY3Rpb24gYnVpbHRJblByb3Aob2JqLCBuYW1lLCB2YWwpIHtcbiAgICAgIG9ialtuYW1lXSA9IHZhbDtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgfSAvLyBOb3RlOiB1c2luZyBhIHF1ZXVlIGluc3RlYWQgb2YgYXJyYXkgZm9yIGVmZmljaWVuY3lcblxuXG4gIHNjaGVkdWxpbmdfcXVldWUgPSBmdW5jdGlvbiBRdWV1ZSgpIHtcbiAgICB2YXIgZmlyc3QsIGxhc3QsIGl0ZW07XG5cbiAgICBmdW5jdGlvbiBJdGVtKGZuLCBzZWxmKSB7XG4gICAgICB0aGlzLmZuID0gZm47XG4gICAgICB0aGlzLnNlbGYgPSBzZWxmO1xuICAgICAgdGhpcy5uZXh0ID0gdm9pZCAwO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChmbiwgc2VsZikge1xuICAgICAgICBpdGVtID0gbmV3IEl0ZW0oZm4sIHNlbGYpO1xuXG4gICAgICAgIGlmIChsYXN0KSB7XG4gICAgICAgICAgbGFzdC5uZXh0ID0gaXRlbTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaXJzdCA9IGl0ZW07XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0ID0gaXRlbTtcbiAgICAgICAgaXRlbSA9IHZvaWQgMDtcbiAgICAgIH0sXG4gICAgICBkcmFpbjogZnVuY3Rpb24gZHJhaW4oKSB7XG4gICAgICAgIHZhciBmID0gZmlyc3Q7XG4gICAgICAgIGZpcnN0ID0gbGFzdCA9IGN5Y2xlID0gdm9pZCAwO1xuXG4gICAgICAgIHdoaWxlIChmKSB7XG4gICAgICAgICAgZi5mbi5jYWxsKGYuc2VsZik7XG4gICAgICAgICAgZiA9IGYubmV4dDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0oKTtcblxuICBmdW5jdGlvbiBzY2hlZHVsZShmbiwgc2VsZikge1xuICAgIHNjaGVkdWxpbmdfcXVldWUuYWRkKGZuLCBzZWxmKTtcblxuICAgIGlmICghY3ljbGUpIHtcbiAgICAgIGN5Y2xlID0gdGltZXIoc2NoZWR1bGluZ19xdWV1ZS5kcmFpbik7XG4gICAgfVxuICB9IC8vIHByb21pc2UgZHVjayB0eXBpbmdcblxuXG4gIGZ1bmN0aW9uIGlzVGhlbmFibGUobykge1xuICAgIHZhciBfdGhlbixcbiAgICAgICAgb190eXBlID0gdHlwZW9mIG87XG5cbiAgICBpZiAobyAhPSBudWxsICYmIChvX3R5cGUgPT0gXCJvYmplY3RcIiB8fCBvX3R5cGUgPT0gXCJmdW5jdGlvblwiKSkge1xuICAgICAgX3RoZW4gPSBvLnRoZW47XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiBfdGhlbiA9PSBcImZ1bmN0aW9uXCIgPyBfdGhlbiA6IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aWZ5KCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFpbi5sZW5ndGg7IGkrKykge1xuICAgICAgbm90aWZ5SXNvbGF0ZWQodGhpcywgdGhpcy5zdGF0ZSA9PT0gMSA/IHRoaXMuY2hhaW5baV0uc3VjY2VzcyA6IHRoaXMuY2hhaW5baV0uZmFpbHVyZSwgdGhpcy5jaGFpbltpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5jaGFpbi5sZW5ndGggPSAwO1xuICB9IC8vIE5PVEU6IFRoaXMgaXMgYSBzZXBhcmF0ZSBmdW5jdGlvbiB0byBpc29sYXRlXG4gIC8vIHRoZSBgdHJ5Li5jYXRjaGAgc28gdGhhdCBvdGhlciBjb2RlIGNhbiBiZVxuICAvLyBvcHRpbWl6ZWQgYmV0dGVyXG5cblxuICBmdW5jdGlvbiBub3RpZnlJc29sYXRlZChzZWxmLCBjYiwgY2hhaW4pIHtcbiAgICB2YXIgcmV0LCBfdGhlbjtcblxuICAgIHRyeSB7XG4gICAgICBpZiAoY2IgPT09IGZhbHNlKSB7XG4gICAgICAgIGNoYWluLnJlamVjdChzZWxmLm1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY2IgPT09IHRydWUpIHtcbiAgICAgICAgICByZXQgPSBzZWxmLm1zZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXQgPSBjYi5jYWxsKHZvaWQgMCwgc2VsZi5tc2cpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJldCA9PT0gY2hhaW4ucHJvbWlzZSkge1xuICAgICAgICAgIGNoYWluLnJlamVjdChUeXBlRXJyb3IoXCJQcm9taXNlLWNoYWluIGN5Y2xlXCIpKTtcbiAgICAgICAgfSBlbHNlIGlmIChfdGhlbiA9IGlzVGhlbmFibGUocmV0KSkge1xuICAgICAgICAgIF90aGVuLmNhbGwocmV0LCBjaGFpbi5yZXNvbHZlLCBjaGFpbi5yZWplY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYWluLnJlc29sdmUocmV0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2hhaW4ucmVqZWN0KGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZShtc2cpIHtcbiAgICB2YXIgX3RoZW4sXG4gICAgICAgIHNlbGYgPSB0aGlzOyAvLyBhbHJlYWR5IHRyaWdnZXJlZD9cblxuXG4gICAgaWYgKHNlbGYudHJpZ2dlcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi50cmlnZ2VyZWQgPSB0cnVlOyAvLyB1bndyYXBcblxuICAgIGlmIChzZWxmLmRlZikge1xuICAgICAgc2VsZiA9IHNlbGYuZGVmO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAoX3RoZW4gPSBpc1RoZW5hYmxlKG1zZykpIHtcbiAgICAgICAgc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBkZWZfd3JhcHBlciA9IG5ldyBNYWtlRGVmV3JhcHBlcihzZWxmKTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBfdGhlbi5jYWxsKG1zZywgZnVuY3Rpb24gJHJlc29sdmUkKCkge1xuICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KGRlZl93cmFwcGVyLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gJHJlamVjdCQoKSB7XG4gICAgICAgICAgICAgIHJlamVjdC5hcHBseShkZWZfd3JhcHBlciwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmVqZWN0LmNhbGwoZGVmX3dyYXBwZXIsIGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYubXNnID0gbXNnO1xuICAgICAgICBzZWxmLnN0YXRlID0gMTtcblxuICAgICAgICBpZiAoc2VsZi5jaGFpbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2NoZWR1bGUobm90aWZ5LCBzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmVqZWN0LmNhbGwobmV3IE1ha2VEZWZXcmFwcGVyKHNlbGYpLCBlcnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlamVjdChtc2cpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7IC8vIGFscmVhZHkgdHJpZ2dlcmVkP1xuXG4gICAgaWYgKHNlbGYudHJpZ2dlcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2VsZi50cmlnZ2VyZWQgPSB0cnVlOyAvLyB1bndyYXBcblxuICAgIGlmIChzZWxmLmRlZikge1xuICAgICAgc2VsZiA9IHNlbGYuZGVmO1xuICAgIH1cblxuICAgIHNlbGYubXNnID0gbXNnO1xuICAgIHNlbGYuc3RhdGUgPSAyO1xuXG4gICAgaWYgKHNlbGYuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgc2NoZWR1bGUobm90aWZ5LCBzZWxmKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRlUHJvbWlzZXMoQ29uc3RydWN0b3IsIGFyciwgcmVzb2x2ZXIsIHJlamVjdGVyKSB7XG4gICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgYXJyLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgIChmdW5jdGlvbiBJSUZFKGlkeCkge1xuICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGFycltpZHhdKS50aGVuKGZ1bmN0aW9uICRyZXNvbHZlciQobXNnKSB7XG4gICAgICAgICAgcmVzb2x2ZXIoaWR4LCBtc2cpO1xuICAgICAgICB9LCByZWplY3Rlcik7XG4gICAgICB9KShpZHgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIE1ha2VEZWZXcmFwcGVyKHNlbGYpIHtcbiAgICB0aGlzLmRlZiA9IHNlbGY7XG4gICAgdGhpcy50cmlnZ2VyZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIE1ha2VEZWYoc2VsZikge1xuICAgIHRoaXMucHJvbWlzZSA9IHNlbGY7XG4gICAgdGhpcy5zdGF0ZSA9IDA7XG4gICAgdGhpcy50cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICB0aGlzLmNoYWluID0gW107XG4gICAgdGhpcy5tc2cgPSB2b2lkIDA7XG4gIH1cblxuICBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9fTlBPX18gIT09IDApIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIHByb21pc2VcIik7XG4gICAgfSAvLyBpbnN0YW5jZSBzaGFkb3dpbmcgdGhlIGluaGVyaXRlZCBcImJyYW5kXCJcbiAgICAvLyB0byBzaWduYWwgYW4gYWxyZWFkeSBcImluaXRpYWxpemVkXCIgcHJvbWlzZVxuXG5cbiAgICB0aGlzLl9fTlBPX18gPSAxO1xuICAgIHZhciBkZWYgPSBuZXcgTWFrZURlZih0aGlzKTtcblxuICAgIHRoaXNbXCJ0aGVuXCJdID0gZnVuY3Rpb24gdGhlbihzdWNjZXNzLCBmYWlsdXJlKSB7XG4gICAgICB2YXIgbyA9IHtcbiAgICAgICAgc3VjY2VzczogdHlwZW9mIHN1Y2Nlc3MgPT0gXCJmdW5jdGlvblwiID8gc3VjY2VzcyA6IHRydWUsXG4gICAgICAgIGZhaWx1cmU6IHR5cGVvZiBmYWlsdXJlID09IFwiZnVuY3Rpb25cIiA/IGZhaWx1cmUgOiBmYWxzZVxuICAgICAgfTsgLy8gTm90ZTogYHRoZW4oLi4pYCBpdHNlbGYgY2FuIGJlIGJvcnJvd2VkIHRvIGJlIHVzZWQgYWdhaW5zdFxuICAgICAgLy8gYSBkaWZmZXJlbnQgcHJvbWlzZSBjb25zdHJ1Y3RvciBmb3IgbWFraW5nIHRoZSBjaGFpbmVkIHByb21pc2UsXG4gICAgICAvLyBieSBzdWJzdGl0dXRpbmcgYSBkaWZmZXJlbnQgYHRoaXNgIGJpbmRpbmcuXG5cbiAgICAgIG8ucHJvbWlzZSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGZ1bmN0aW9uIGV4dHJhY3RDaGFpbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXNvbHZlICE9IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgcmVqZWN0ICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRocm93IFR5cGVFcnJvcihcIk5vdCBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgby5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgby5yZWplY3QgPSByZWplY3Q7XG4gICAgICB9KTtcbiAgICAgIGRlZi5jaGFpbi5wdXNoKG8pO1xuXG4gICAgICBpZiAoZGVmLnN0YXRlICE9PSAwKSB7XG4gICAgICAgIHNjaGVkdWxlKG5vdGlmeSwgZGVmKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG8ucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdGhpc1tcImNhdGNoXCJdID0gZnVuY3Rpb24gJGNhdGNoJChmYWlsdXJlKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgZmFpbHVyZSk7XG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBleGVjdXRvci5jYWxsKHZvaWQgMCwgZnVuY3Rpb24gcHVibGljUmVzb2x2ZShtc2cpIHtcbiAgICAgICAgcmVzb2x2ZS5jYWxsKGRlZiwgbXNnKTtcbiAgICAgIH0sIGZ1bmN0aW9uIHB1YmxpY1JlamVjdChtc2cpIHtcbiAgICAgICAgcmVqZWN0LmNhbGwoZGVmLCBtc2cpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZWplY3QuY2FsbChkZWYsIGVycik7XG4gICAgfVxuICB9XG5cbiAgdmFyIFByb21pc2VQcm90b3R5cGUgPSBidWlsdEluUHJvcCh7fSwgXCJjb25zdHJ1Y3RvclwiLCBQcm9taXNlLFxuICAvKmNvbmZpZ3VyYWJsZT0qL1xuICBmYWxzZSk7IC8vIE5vdGU6IEFuZHJvaWQgNCBjYW5ub3QgdXNlIGBPYmplY3QuZGVmaW5lUHJvcGVydHkoLi4pYCBoZXJlXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUgPSBQcm9taXNlUHJvdG90eXBlOyAvLyBidWlsdC1pbiBcImJyYW5kXCIgdG8gc2lnbmFsIGFuIFwidW5pbml0aWFsaXplZFwiIHByb21pc2VcblxuICBidWlsdEluUHJvcChQcm9taXNlUHJvdG90eXBlLCBcIl9fTlBPX19cIiwgMCxcbiAgLypjb25maWd1cmFibGU9Ki9cbiAgZmFsc2UpO1xuICBidWlsdEluUHJvcChQcm9taXNlLCBcInJlc29sdmVcIiwgZnVuY3Rpb24gUHJvbWlzZSRyZXNvbHZlKG1zZykge1xuICAgIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7IC8vIHNwZWMgbWFuZGF0ZWQgY2hlY2tzXG4gICAgLy8gbm90ZTogYmVzdCBcImlzUHJvbWlzZVwiIGNoZWNrIHRoYXQncyBwcmFjdGljYWwgZm9yIG5vd1xuXG4gICAgaWYgKG1zZyAmJiB0eXBlb2YgbXNnID09IFwib2JqZWN0XCIgJiYgbXNnLl9fTlBPX18gPT09IDEpIHtcbiAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIHJlc29sdmUobXNnKTtcbiAgICB9KTtcbiAgfSk7XG4gIGJ1aWx0SW5Qcm9wKFByb21pc2UsIFwicmVqZWN0XCIsIGZ1bmN0aW9uIFByb21pc2UkcmVqZWN0KG1zZykge1xuICAgIHJldHVybiBuZXcgdGhpcyhmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChtc2cpO1xuICAgIH0pO1xuICB9KTtcbiAgYnVpbHRJblByb3AoUHJvbWlzZSwgXCJhbGxcIiwgZnVuY3Rpb24gUHJvbWlzZSRhbGwoYXJyKSB7XG4gICAgdmFyIENvbnN0cnVjdG9yID0gdGhpczsgLy8gc3BlYyBtYW5kYXRlZCBjaGVja3NcblxuICAgIGlmIChUb1N0cmluZy5jYWxsKGFycikgIT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3IucmVqZWN0KFR5cGVFcnJvcihcIk5vdCBhbiBhcnJheVwiKSk7XG4gICAgfVxuXG4gICAgaWYgKGFyci5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBDb25zdHJ1Y3Rvci5yZXNvbHZlKFtdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKGZ1bmN0aW9uIGV4ZWN1dG9yKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKHR5cGVvZiByZXNvbHZlICE9IFwiZnVuY3Rpb25cIiB8fCB0eXBlb2YgcmVqZWN0ICE9IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJOb3QgYSBmdW5jdGlvblwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGgsXG4gICAgICAgICAgbXNncyA9IEFycmF5KGxlbiksXG4gICAgICAgICAgY291bnQgPSAwO1xuICAgICAgaXRlcmF0ZVByb21pc2VzKENvbnN0cnVjdG9yLCBhcnIsIGZ1bmN0aW9uIHJlc29sdmVyKGlkeCwgbXNnKSB7XG4gICAgICAgIG1zZ3NbaWR4XSA9IG1zZztcblxuICAgICAgICBpZiAoKytjb3VudCA9PT0gbGVuKSB7XG4gICAgICAgICAgcmVzb2x2ZShtc2dzKTtcbiAgICAgICAgfVxuICAgICAgfSwgcmVqZWN0KTtcbiAgICB9KTtcbiAgfSk7XG4gIGJ1aWx0SW5Qcm9wKFByb21pc2UsIFwicmFjZVwiLCBmdW5jdGlvbiBQcm9taXNlJHJhY2UoYXJyKSB7XG4gICAgdmFyIENvbnN0cnVjdG9yID0gdGhpczsgLy8gc3BlYyBtYW5kYXRlZCBjaGVja3NcblxuICAgIGlmIChUb1N0cmluZy5jYWxsKGFycikgIT0gXCJbb2JqZWN0IEFycmF5XVwiKSB7XG4gICAgICByZXR1cm4gQ29uc3RydWN0b3IucmVqZWN0KFR5cGVFcnJvcihcIk5vdCBhbiBhcnJheVwiKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBDb25zdHJ1Y3RvcihmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVzb2x2ZSAhPSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJlamVjdCAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiTm90IGEgZnVuY3Rpb25cIik7XG4gICAgICB9XG5cbiAgICAgIGl0ZXJhdGVQcm9taXNlcyhDb25zdHJ1Y3RvciwgYXJyLCBmdW5jdGlvbiByZXNvbHZlcihpZHgsIG1zZykge1xuICAgICAgICByZXNvbHZlKG1zZyk7XG4gICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2U7XG59KTtcbn0pO1xuXG4vKipcbiAqIEBtb2R1bGUgbGliL2NhbGxiYWNrc1xuICovXG52YXIgY2FsbGJhY2tNYXAgPSBuZXcgV2Vha01hcCgpO1xuLyoqXG4gKiBTdG9yZSBhIGNhbGxiYWNrIGZvciBhIG1ldGhvZCBvciBldmVudCBmb3IgYSBwbGF5ZXIuXG4gKlxuICogQHBhcmFtIHtQbGF5ZXJ9IHBsYXllciBUaGUgcGxheWVyIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBtZXRob2Qgb3IgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7KGZ1bmN0aW9uKHRoaXM6UGxheWVyLCAqKTogdm9pZHx7cmVzb2x2ZTogZnVuY3Rpb24sIHJlamVjdDogZnVuY3Rpb259KX0gY2FsbGJhY2tcbiAqICAgICAgICBUaGUgY2FsbGJhY2sgdG8gY2FsbCBvciBhbiBvYmplY3Qgd2l0aCByZXNvbHZlIGFuZCByZWplY3QgZnVuY3Rpb25zIGZvciBhIHByb21pc2UuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHN0b3JlQ2FsbGJhY2socGxheWVyLCBuYW1lLCBjYWxsYmFjaykge1xuICB2YXIgcGxheWVyQ2FsbGJhY2tzID0gY2FsbGJhY2tNYXAuZ2V0KHBsYXllci5lbGVtZW50KSB8fCB7fTtcblxuICBpZiAoIShuYW1lIGluIHBsYXllckNhbGxiYWNrcykpIHtcbiAgICBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gPSBbXTtcbiAgfVxuXG4gIHBsYXllckNhbGxiYWNrc1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgY2FsbGJhY2tNYXAuc2V0KHBsYXllci5lbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xufVxuLyoqXG4gKiBHZXQgdGhlIGNhbGxiYWNrcyBmb3IgYSBwbGF5ZXIgYW5kIGV2ZW50IG9yIG1ldGhvZC5cbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyIFRoZSBwbGF5ZXIgb2JqZWN0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG1ldGhvZCBvciBldmVudCBuYW1lXG4gKiBAcmV0dXJuIHtmdW5jdGlvbltdfVxuICovXG5cbmZ1bmN0aW9uIGdldENhbGxiYWNrcyhwbGF5ZXIsIG5hbWUpIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG4gIHJldHVybiBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gfHwgW107XG59XG4vKipcbiAqIFJlbW92ZSBhIHN0b3JlZCBjYWxsYmFjayBmb3IgYSBtZXRob2Qgb3IgZXZlbnQgZm9yIGEgcGxheWVyLlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbWV0aG9kIG9yIGV2ZW50IG5hbWVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gVGhlIHNwZWNpZmljIGNhbGxiYWNrIHRvIHJlbW92ZS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdhcyB0aGlzIHRoZSBsYXN0IGNhbGxiYWNrP1xuICovXG5cbmZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKHBsYXllciwgbmFtZSwgY2FsbGJhY2spIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGNhbGxiYWNrTWFwLmdldChwbGF5ZXIuZWxlbWVudCkgfHwge307XG5cbiAgaWYgKCFwbGF5ZXJDYWxsYmFja3NbbmFtZV0pIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBJZiBubyBjYWxsYmFjayBpcyBwYXNzZWQsIHJlbW92ZSBhbGwgY2FsbGJhY2tzIGZvciB0aGUgZXZlbnRcblxuXG4gIGlmICghY2FsbGJhY2spIHtcbiAgICBwbGF5ZXJDYWxsYmFja3NbbmFtZV0gPSBbXTtcbiAgICBjYWxsYmFja01hcC5zZXQocGxheWVyLmVsZW1lbnQsIHBsYXllckNhbGxiYWNrcyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgaW5kZXggPSBwbGF5ZXJDYWxsYmFja3NbbmFtZV0uaW5kZXhPZihjYWxsYmFjayk7XG5cbiAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgIHBsYXllckNhbGxiYWNrc1tuYW1lXS5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG5cbiAgY2FsbGJhY2tNYXAuc2V0KHBsYXllci5lbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xuICByZXR1cm4gcGxheWVyQ2FsbGJhY2tzW25hbWVdICYmIHBsYXllckNhbGxiYWNrc1tuYW1lXS5sZW5ndGggPT09IDA7XG59XG4vKipcbiAqIFJldHVybiB0aGUgZmlyc3Qgc3RvcmVkIGNhbGxiYWNrIGZvciBhIHBsYXllciBhbmQgZXZlbnQgb3IgbWV0aG9kLlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbWV0aG9kIG9yIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNhbGxiYWNrLCBvciBmYWxzZSBpZiB0aGVyZSB3ZXJlIG5vbmVcbiAqL1xuXG5mdW5jdGlvbiBzaGlmdENhbGxiYWNrcyhwbGF5ZXIsIG5hbWUpIHtcbiAgdmFyIHBsYXllckNhbGxiYWNrcyA9IGdldENhbGxiYWNrcyhwbGF5ZXIsIG5hbWUpO1xuXG4gIGlmIChwbGF5ZXJDYWxsYmFja3MubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBjYWxsYmFjayA9IHBsYXllckNhbGxiYWNrcy5zaGlmdCgpO1xuICByZW1vdmVDYWxsYmFjayhwbGF5ZXIsIG5hbWUsIGNhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGxiYWNrO1xufVxuLyoqXG4gKiBNb3ZlIGNhbGxiYWNrcyBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCB0byBhbm90aGVyIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gb2xkRWxlbWVudCBUaGUgb2xkIGVsZW1lbnQuXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBuZXdFbGVtZW50IFRoZSBuZXcgZWxlbWVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cblxuZnVuY3Rpb24gc3dhcENhbGxiYWNrcyhvbGRFbGVtZW50LCBuZXdFbGVtZW50KSB7XG4gIHZhciBwbGF5ZXJDYWxsYmFja3MgPSBjYWxsYmFja01hcC5nZXQob2xkRWxlbWVudCk7XG4gIGNhbGxiYWNrTWFwLnNldChuZXdFbGVtZW50LCBwbGF5ZXJDYWxsYmFja3MpO1xuICBjYWxsYmFja01hcC5kZWxldGUob2xkRWxlbWVudCk7XG59XG5cbi8qKlxuICogQG1vZHVsZSBsaWIvZW1iZWRcbiAqL1xudmFyIG9FbWJlZFBhcmFtZXRlcnMgPSBbJ2F1dG9wYXVzZScsICdhdXRvcGxheScsICdiYWNrZ3JvdW5kJywgJ2J5bGluZScsICdjb2xvcicsICdjb250cm9scycsICdkbnQnLCAnaGVpZ2h0JywgJ2lkJywgJ2ludGVyYWN0aXZlX3BhcmFtcycsICdrZXlib2FyZCcsICdsb29wJywgJ21heGhlaWdodCcsICdtYXh3aWR0aCcsICdtdXRlZCcsICdwbGF5c2lubGluZScsICdwb3J0cmFpdCcsICdyZXNwb25zaXZlJywgJ3NwZWVkJywgJ3RleHR0cmFjaycsICd0aXRsZScsICd0cmFuc3BhcmVudCcsICd1cmwnLCAnd2lkdGgnXTtcbi8qKlxuICogR2V0IHRoZSAnZGF0YS12aW1lbyctcHJlZml4ZWQgYXR0cmlidXRlcyBmcm9tIGFuIGVsZW1lbnQgYXMgYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gW2RlZmF1bHRzPXt9XSBUaGUgZGVmYXVsdCB2YWx1ZXMgdG8gdXNlLlxuICogQHJldHVybiB7T2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xuXG5mdW5jdGlvbiBnZXRPRW1iZWRQYXJhbWV0ZXJzKGVsZW1lbnQpIHtcbiAgdmFyIGRlZmF1bHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgcmV0dXJuIG9FbWJlZFBhcmFtZXRlcnMucmVkdWNlKGZ1bmN0aW9uIChwYXJhbXMsIHBhcmFtKSB7XG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZpbWVvLVwiLmNvbmNhdChwYXJhbSkpO1xuXG4gICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgcGFyYW1zW3BhcmFtXSA9IHZhbHVlID09PSAnJyA/IDEgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFyYW1zO1xuICB9LCBkZWZhdWx0cyk7XG59XG4vKipcbiAqIENyZWF0ZSBhbiBlbWJlZCBmcm9tIG9FbWJlZCBkYXRhIGluc2lkZSBhbiBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIFRoZSBvRW1iZWQgZGF0YS5cbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gcHV0IHRoZSBpZnJhbWUgaW4uXG4gKiBAcmV0dXJuIHtIVE1MSUZyYW1lRWxlbWVudH0gVGhlIGlmcmFtZSBlbWJlZC5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbWJlZChfcmVmLCBlbGVtZW50KSB7XG4gIHZhciBodG1sID0gX3JlZi5odG1sO1xuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FuIGVsZW1lbnQgbXVzdCBiZSBwcm92aWRlZCcpO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZpbWVvLWluaXRpYWxpemVkJykgIT09IG51bGwpIHtcbiAgICByZXR1cm4gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKTtcbiAgfVxuXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcsICd0cnVlJyk7XG4gIHJldHVybiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xufVxuLyoqXG4gKiBNYWtlIGFuIG9FbWJlZCBjYWxsIGZvciB0aGUgc3BlY2lmaWVkIFVSTC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmlkZW9VcmwgVGhlIHZpbWVvLmNvbSB1cmwgZm9yIHRoZSB2aWRlby5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcGFyYW1zXSBQYXJhbWV0ZXJzIHRvIHBhc3MgdG8gb0VtYmVkLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudC5cbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKi9cblxuZnVuY3Rpb24gZ2V0T0VtYmVkRGF0YSh2aWRlb1VybCkge1xuICB2YXIgcGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIGVsZW1lbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGFyZ3VtZW50c1syXSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoIWlzVmltZW9VcmwodmlkZW9VcmwpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIGlzIG5vdCBhIHZpbWVvLmNvbSB1cmwuXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gXCJodHRwczovL3ZpbWVvLmNvbS9hcGkvb2VtYmVkLmpzb24/dXJsPVwiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodmlkZW9VcmwpKTtcblxuICAgIGZvciAodmFyIHBhcmFtIGluIHBhcmFtcykge1xuICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShwYXJhbSkpIHtcbiAgICAgICAgdXJsICs9IFwiJlwiLmNvbmNhdChwYXJhbSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW3BhcmFtXSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB4aHIgPSAnWERvbWFpblJlcXVlc3QnIGluIHdpbmRvdyA/IG5ldyBYRG9tYWluUmVxdWVzdCgpIDogbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIHdhcyBub3QgZm91bmQuXCIpKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDQwMykge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIGlzIG5vdCBlbWJlZGRhYmxlLlwiKSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTsgLy8gQ2hlY2sgYXBpIHJlc3BvbnNlIGZvciA0MDMgb24gb2VtYmVkXG5cbiAgICAgICAgaWYgKGpzb24uZG9tYWluX3N0YXR1c19jb2RlID09PSA0MDMpIHtcbiAgICAgICAgICAvLyBXZSBzdGlsbCB3YW50IHRvIGNyZWF0ZSB0aGUgZW1iZWQgdG8gZ2l2ZSB1c2VycyB2aXN1YWwgZmVlZGJhY2tcbiAgICAgICAgICBjcmVhdGVFbWJlZChqc29uLCBlbGVtZW50KTtcbiAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXFx1MjAxQ1wiLmNvbmNhdCh2aWRlb1VybCwgXCJcXHUyMDFEIGlzIG5vdCBlbWJlZGRhYmxlLlwiKSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlc29sdmUoanNvbik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzID8gXCIgKFwiLmNvbmNhdCh4aHIuc3RhdHVzLCBcIilcIikgOiAnJztcbiAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJUaGVyZSB3YXMgYW4gZXJyb3IgZmV0Y2hpbmcgdGhlIGVtYmVkIGNvZGUgZnJvbSBWaW1lb1wiLmNvbmNhdChzdGF0dXMsIFwiLlwiKSkpO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9KTtcbn1cbi8qKlxuICogSW5pdGlhbGl6ZSBhbGwgZW1iZWRzIHdpdGhpbiBhIHNwZWNpZmljIGVsZW1lbnRcbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50PWRvY3VtZW50XSBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIGluaXRpYWxpemVFbWJlZHMoKSB7XG4gIHZhciBwYXJlbnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGRvY3VtZW50O1xuICB2YXIgZWxlbWVudHMgPSBbXS5zbGljZS5jYWxsKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12aW1lby1pZF0sIFtkYXRhLXZpbWVvLXVybF0nKSk7XG5cbiAgdmFyIGhhbmRsZUVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAoJ2NvbnNvbGUnIGluIHdpbmRvdyAmJiBjb25zb2xlLmVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGNyZWF0aW5nIGFuIGVtYmVkOiBcIi5jb25jYXQoZXJyb3IpKTtcbiAgICB9XG4gIH07XG5cbiAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBTa2lwIGFueSB0aGF0IGhhdmUgZGF0YS12aW1lby1kZWZlclxuICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXZpbWVvLWRlZmVyJykgIT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFyYW1zID0gZ2V0T0VtYmVkUGFyYW1ldGVycyhlbGVtZW50KTtcbiAgICAgIHZhciB1cmwgPSBnZXRWaW1lb1VybChwYXJhbXMpO1xuICAgICAgZ2V0T0VtYmVkRGF0YSh1cmwsIHBhcmFtcywgZWxlbWVudCkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlRW1iZWQoZGF0YSwgZWxlbWVudCk7XG4gICAgICB9KS5jYXRjaChoYW5kbGVFcnJvcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBSZXNpemUgZW1iZWRzIHdoZW4gbWVzc2FnZWQgYnkgdGhlIHBsYXllci5cbiAqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbcGFyZW50PWRvY3VtZW50XSBUaGUgcGFyZW50IGVsZW1lbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHJlc2l6ZUVtYmVkcygpIHtcbiAgdmFyIHBhcmVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogZG9jdW1lbnQ7XG5cbiAgLy8gUHJldmVudCBleGVjdXRpb24gaWYgdXNlcnMgaW5jbHVkZSB0aGUgcGxheWVyLmpzIHNjcmlwdCBtdWx0aXBsZSB0aW1lcy5cbiAgaWYgKHdpbmRvdy5WaW1lb1BsYXllclJlc2l6ZUVtYmVkc18pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB3aW5kb3cuVmltZW9QbGF5ZXJSZXNpemVFbWJlZHNfID0gdHJ1ZTtcblxuICB2YXIgb25NZXNzYWdlID0gZnVuY3Rpb24gb25NZXNzYWdlKGV2ZW50KSB7XG4gICAgaWYgKCFpc1ZpbWVvVXJsKGV2ZW50Lm9yaWdpbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vICdzcGFjZWNoYW5nZScgaXMgZmlyZWQgb25seSBvbiBlbWJlZHMgd2l0aCBjYXJkc1xuXG5cbiAgICBpZiAoIWV2ZW50LmRhdGEgfHwgZXZlbnQuZGF0YS5ldmVudCAhPT0gJ3NwYWNlY2hhbmdlJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpZnJhbWVzID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lmcmFtZScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaWZyYW1lc1tpXS5jb250ZW50V2luZG93ICE9PSBldmVudC5zb3VyY2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIENoYW5nZSBwYWRkaW5nLWJvdHRvbSBvZiB0aGUgZW5jbG9zaW5nIGRpdiB0byBhY2NvbW1vZGF0ZVxuICAgICAgLy8gY2FyZCBjYXJvdXNlbCB3aXRob3V0IGRpc3RvcnRpbmcgYXNwZWN0IHJhdGlvXG5cblxuICAgICAgdmFyIHNwYWNlID0gaWZyYW1lc1tpXS5wYXJlbnRFbGVtZW50O1xuICAgICAgc3BhY2Uuc3R5bGUucGFkZGluZ0JvdHRvbSA9IFwiXCIuY29uY2F0KGV2ZW50LmRhdGEuZGF0YVswXS5ib3R0b20sIFwicHhcIik7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbk1lc3NhZ2UpO1xufVxuXG4vKipcbiAqIEBtb2R1bGUgbGliL3Bvc3RtZXNzYWdlXG4gKi9cbi8qKlxuICogUGFyc2UgYSBtZXNzYWdlIHJlY2VpdmVkIGZyb20gcG9zdE1lc3NhZ2UuXG4gKlxuICogQHBhcmFtIHsqfSBkYXRhIFRoZSBkYXRhIHJlY2VpdmVkIGZyb20gcG9zdE1lc3NhZ2UuXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gcGFyc2VNZXNzYWdlRGF0YShkYXRhKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIHRoZSBtZXNzYWdlIGNhbm5vdCBiZSBwYXJzZWQsIHRocm93IHRoZSBlcnJvciBhcyBhIHdhcm5pbmdcbiAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4vKipcbiAqIFBvc3QgYSBtZXNzYWdlIHRvIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSB7UGxheWVyfSBwbGF5ZXIgVGhlIHBsYXllciBvYmplY3QgdG8gdXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgQVBJIG1ldGhvZCB0byBjYWxsLlxuICogQHBhcmFtIHtvYmplY3R9IHBhcmFtcyBUaGUgcGFyYW1ldGVycyB0byBzZW5kIHRvIHRoZSBwbGF5ZXIuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5cbmZ1bmN0aW9uIHBvc3RNZXNzYWdlKHBsYXllciwgbWV0aG9kLCBwYXJhbXMpIHtcbiAgaWYgKCFwbGF5ZXIuZWxlbWVudC5jb250ZW50V2luZG93IHx8ICFwbGF5ZXIuZWxlbWVudC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1lc3NhZ2UgPSB7XG4gICAgbWV0aG9kOiBtZXRob2RcbiAgfTtcblxuICBpZiAocGFyYW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICBtZXNzYWdlLnZhbHVlID0gcGFyYW1zO1xuICB9IC8vIElFIDggYW5kIDkgZG8gbm90IHN1cHBvcnQgcGFzc2luZyBtZXNzYWdlcywgc28gc3RyaW5naWZ5IHRoZW1cblxuXG4gIHZhciBpZVZlcnNpb24gPSBwYXJzZUZsb2F0KG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eLiptc2llIChcXGQrKS4qJC8sICckMScpKTtcblxuICBpZiAoaWVWZXJzaW9uID49IDggJiYgaWVWZXJzaW9uIDwgMTApIHtcbiAgICBtZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSk7XG4gIH1cblxuICBwbGF5ZXIuZWxlbWVudC5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKG1lc3NhZ2UsIHBsYXllci5vcmlnaW4pO1xufVxuLyoqXG4gKiBQYXJzZSB0aGUgZGF0YSByZWNlaXZlZCBmcm9tIGEgbWVzc2FnZSBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1BsYXllcn0gcGxheWVyIFRoZSBwbGF5ZXIgdGhhdCByZWNlaXZlZCB0aGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7KE9iamVjdHxzdHJpbmcpfSBkYXRhIFRoZSBtZXNzYWdlIGRhdGEuIFN0cmluZ3Mgd2lsbCBiZSBwYXJzZWQgaW50byBKU09OLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuXG5mdW5jdGlvbiBwcm9jZXNzRGF0YShwbGF5ZXIsIGRhdGEpIHtcbiAgZGF0YSA9IHBhcnNlTWVzc2FnZURhdGEoZGF0YSk7XG4gIHZhciBjYWxsYmFja3MgPSBbXTtcbiAgdmFyIHBhcmFtO1xuXG4gIGlmIChkYXRhLmV2ZW50KSB7XG4gICAgaWYgKGRhdGEuZXZlbnQgPT09ICdlcnJvcicpIHtcbiAgICAgIHZhciBwcm9taXNlcyA9IGdldENhbGxiYWNrcyhwbGF5ZXIsIGRhdGEuZGF0YS5tZXRob2QpO1xuICAgICAgcHJvbWlzZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoZGF0YS5kYXRhLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5uYW1lID0gZGF0YS5kYXRhLm5hbWU7XG4gICAgICAgIHByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgcmVtb3ZlQ2FsbGJhY2socGxheWVyLCBkYXRhLmRhdGEubWV0aG9kLCBwcm9taXNlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNhbGxiYWNrcyA9IGdldENhbGxiYWNrcyhwbGF5ZXIsIFwiZXZlbnQ6XCIuY29uY2F0KGRhdGEuZXZlbnQpKTtcbiAgICBwYXJhbSA9IGRhdGEuZGF0YTtcbiAgfSBlbHNlIGlmIChkYXRhLm1ldGhvZCkge1xuICAgIHZhciBjYWxsYmFjayA9IHNoaWZ0Q2FsbGJhY2tzKHBsYXllciwgZGF0YS5tZXRob2QpO1xuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICBwYXJhbSA9IGRhdGEudmFsdWU7XG4gICAgfVxuICB9XG5cbiAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbChwbGF5ZXIsIHBhcmFtKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjYWxsYmFjay5yZXNvbHZlKHBhcmFtKTtcbiAgICB9IGNhdGNoIChlKSB7Ly8gZW1wdHlcbiAgICB9XG4gIH0pO1xufVxuXG4vKiBNSVQgTGljZW5zZVxuXG5Db3B5cmlnaHQgKGMpIFNpbmRyZSBTb3JodXMgPHNpbmRyZXNvcmh1c0BnbWFpbC5jb20+IChzaW5kcmVzb3JodXMuY29tKVxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5UZXJtcyAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZVNjcmVlbmZ1bGwoKSB7XG4gIHZhciBmbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsO1xuICAgIHZhciBmbk1hcCA9IFtbJ3JlcXVlc3RGdWxsc2NyZWVuJywgJ2V4aXRGdWxsc2NyZWVuJywgJ2Z1bGxzY3JlZW5FbGVtZW50JywgJ2Z1bGxzY3JlZW5FbmFibGVkJywgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCAnZnVsbHNjcmVlbmVycm9yJ10sIC8vIE5ldyBXZWJLaXRcbiAgICBbJ3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJywgJ3dlYmtpdEV4aXRGdWxsc2NyZWVuJywgJ3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50JywgJ3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJywgJ3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLCAnd2Via2l0ZnVsbHNjcmVlbmVycm9yJ10sIC8vIE9sZCBXZWJLaXRcbiAgICBbJ3dlYmtpdFJlcXVlc3RGdWxsU2NyZWVuJywgJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLCAnd2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50JywgJ3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLCAnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsICd3ZWJraXRmdWxsc2NyZWVuZXJyb3InXSwgWydtb3pSZXF1ZXN0RnVsbFNjcmVlbicsICdtb3pDYW5jZWxGdWxsU2NyZWVuJywgJ21vekZ1bGxTY3JlZW5FbGVtZW50JywgJ21vekZ1bGxTY3JlZW5FbmFibGVkJywgJ21vemZ1bGxzY3JlZW5jaGFuZ2UnLCAnbW96ZnVsbHNjcmVlbmVycm9yJ10sIFsnbXNSZXF1ZXN0RnVsbHNjcmVlbicsICdtc0V4aXRGdWxsc2NyZWVuJywgJ21zRnVsbHNjcmVlbkVsZW1lbnQnLCAnbXNGdWxsc2NyZWVuRW5hYmxlZCcsICdNU0Z1bGxzY3JlZW5DaGFuZ2UnLCAnTVNGdWxsc2NyZWVuRXJyb3InXV07XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsID0gZm5NYXAubGVuZ3RoO1xuICAgIHZhciByZXQgPSB7fTtcblxuICAgIGZvciAoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YWwgPSBmbk1hcFtpXTtcblxuICAgICAgaWYgKHZhbCAmJiB2YWxbMV0gaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHJldFtmbk1hcFswXVtpXV0gPSB2YWxbaV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfSgpO1xuXG4gIHZhciBldmVudE5hbWVNYXAgPSB7XG4gICAgZnVsbHNjcmVlbmNoYW5nZTogZm4uZnVsbHNjcmVlbmNoYW5nZSxcbiAgICBmdWxsc2NyZWVuZXJyb3I6IGZuLmZ1bGxzY3JlZW5lcnJvclxuICB9O1xuICB2YXIgc2NyZWVuZnVsbCA9IHtcbiAgICByZXF1ZXN0OiBmdW5jdGlvbiByZXF1ZXN0KGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBvbkZ1bGxTY3JlZW5FbnRlcmVkID0gZnVuY3Rpb24gb25GdWxsU2NyZWVuRW50ZXJlZCgpIHtcbiAgICAgICAgICBzY3JlZW5mdWxsLm9mZignZnVsbHNjcmVlbmNoYW5nZScsIG9uRnVsbFNjcmVlbkVudGVyZWQpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzY3JlZW5mdWxsLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuRW50ZXJlZCk7XG4gICAgICAgIGVsZW1lbnQgPSBlbGVtZW50IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgdmFyIHJldHVyblByb21pc2UgPSBlbGVtZW50W2ZuLnJlcXVlc3RGdWxsc2NyZWVuXSgpO1xuXG4gICAgICAgIGlmIChyZXR1cm5Qcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJldHVyblByb21pc2UudGhlbihvbkZ1bGxTY3JlZW5FbnRlcmVkKS5jYXRjaChyZWplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAoIXNjcmVlbmZ1bGwuaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvbkZ1bGxTY3JlZW5FeGl0ID0gZnVuY3Rpb24gb25GdWxsU2NyZWVuRXhpdCgpIHtcbiAgICAgICAgICBzY3JlZW5mdWxsLm9mZignZnVsbHNjcmVlbmNoYW5nZScsIG9uRnVsbFNjcmVlbkV4aXQpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzY3JlZW5mdWxsLm9uKCdmdWxsc2NyZWVuY2hhbmdlJywgb25GdWxsU2NyZWVuRXhpdCk7XG4gICAgICAgIHZhciByZXR1cm5Qcm9taXNlID0gZG9jdW1lbnRbZm4uZXhpdEZ1bGxzY3JlZW5dKCk7XG5cbiAgICAgICAgaWYgKHJldHVyblByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgcmV0dXJuUHJvbWlzZS50aGVuKG9uRnVsbFNjcmVlbkV4aXQpLmNhdGNoKHJlamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgb246IGZ1bmN0aW9uIG9uKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50TmFtZU1hcFtldmVudF07XG5cbiAgICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG9mZjogZnVuY3Rpb24gb2ZmKGV2ZW50LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGV2ZW50TmFtZSA9IGV2ZW50TmFtZU1hcFtldmVudF07XG5cbiAgICAgIGlmIChldmVudE5hbWUpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNjcmVlbmZ1bGwsIHtcbiAgICBpc0Z1bGxzY3JlZW46IHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRWxlbWVudF0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZWxlbWVudDoge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnRbZm4uZnVsbHNjcmVlbkVsZW1lbnRdO1xuICAgICAgfVxuICAgIH0sXG4gICAgaXNFbmFibGVkOiB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIC8vIENvZXJjZSB0byBib29sZWFuIGluIGNhc2Ugb2Ygb2xkIFdlYktpdFxuICAgICAgICByZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRW5hYmxlZF0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzY3JlZW5mdWxsO1xufVxuXG52YXIgcGxheWVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciByZWFkeU1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgc2NyZWVuZnVsbCA9IHt9O1xuXG52YXIgUGxheWVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFBsYXllci5cbiAgICpcbiAgICogQHBhcmFtIHsoSFRNTElGcmFtZUVsZW1lbnR8SFRNTEVsZW1lbnR8c3RyaW5nfGpRdWVyeSl9IGVsZW1lbnQgQSByZWZlcmVuY2UgdG8gdGhlIFZpbWVvXG4gICAqICAgICAgICBwbGF5ZXIgaWZyYW1lLCBhbmQgaWQsIG9yIGEgalF1ZXJ5IG9iamVjdC5cbiAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBvRW1iZWQgcGFyYW1ldGVycyB0byB1c2Ugd2hlbiBjcmVhdGluZyBhbiBlbWJlZCBpbiB0aGUgZWxlbWVudC5cbiAgICogQHJldHVybiB7UGxheWVyfVxuICAgKi9cbiAgZnVuY3Rpb24gUGxheWVyKGVsZW1lbnQpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBsYXllcik7XG5cbiAgICAvKiBnbG9iYWwgalF1ZXJ5ICovXG4gICAgaWYgKHdpbmRvdy5qUXVlcnkgJiYgZWxlbWVudCBpbnN0YW5jZW9mIGpRdWVyeSkge1xuICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMSAmJiB3aW5kb3cuY29uc29sZSAmJiBjb25zb2xlLndhcm4pIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdBIGpRdWVyeSBvYmplY3Qgd2l0aCBtdWx0aXBsZSBlbGVtZW50cyB3YXMgcGFzc2VkLCB1c2luZyB0aGUgZmlyc3QgZWxlbWVudC4nKTtcbiAgICAgIH1cblxuICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XG4gICAgfSAvLyBGaW5kIGFuIGVsZW1lbnQgYnkgSURcblxuXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCk7XG4gICAgfSAvLyBOb3QgYW4gZWxlbWVudCFcblxuXG4gICAgaWYgKCFpc0RvbUVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgZWl0aGVyIGEgdmFsaWQgZWxlbWVudCBvciBhIHZhbGlkIGlkLicpO1xuICAgIH0gLy8gQWxyZWFkeSBpbml0aWFsaXplZCBhbiBlbWJlZCBpbiB0aGlzIGRpdiwgc28gZ3JhYiB0aGUgaWZyYW1lXG5cblxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lICE9PSAnSUZSQU1FJykge1xuICAgICAgdmFyIGlmcmFtZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaWZyYW1lJyk7XG5cbiAgICAgIGlmIChpZnJhbWUpIHtcbiAgICAgICAgZWxlbWVudCA9IGlmcmFtZTtcbiAgICAgIH1cbiAgICB9IC8vIGlmcmFtZSB1cmwgaXMgbm90IGEgVmltZW8gdXJsXG5cblxuICAgIGlmIChlbGVtZW50Lm5vZGVOYW1lID09PSAnSUZSQU1FJyAmJiAhaXNWaW1lb1VybChlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJykgfHwgJycpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwbGF5ZXIgZWxlbWVudCBwYXNzZWQgaXNu4oCZdCBhIFZpbWVvIGVtYmVkLicpO1xuICAgIH0gLy8gSWYgdGhlcmUgaXMgYWxyZWFkeSBhIHBsYXllciBvYmplY3QgaW4gdGhlIG1hcCwgcmV0dXJuIHRoYXRcblxuXG4gICAgaWYgKHBsYXllck1hcC5oYXMoZWxlbWVudCkpIHtcbiAgICAgIHJldHVybiBwbGF5ZXJNYXAuZ2V0KGVsZW1lbnQpO1xuICAgIH1cblxuICAgIHRoaXMuX3dpbmRvdyA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMub3JpZ2luID0gJyonO1xuICAgIHZhciByZWFkeVByb21pc2UgPSBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfdGhpcy5fb25NZXNzYWdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghaXNWaW1lb1VybChldmVudC5vcmlnaW4pIHx8IF90aGlzLmVsZW1lbnQuY29udGVudFdpbmRvdyAhPT0gZXZlbnQuc291cmNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLm9yaWdpbiA9PT0gJyonKSB7XG4gICAgICAgICAgX3RoaXMub3JpZ2luID0gZXZlbnQub3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRhdGEgPSBwYXJzZU1lc3NhZ2VEYXRhKGV2ZW50LmRhdGEpO1xuICAgICAgICB2YXIgaXNFcnJvciA9IGRhdGEgJiYgZGF0YS5ldmVudCA9PT0gJ2Vycm9yJztcbiAgICAgICAgdmFyIGlzUmVhZHlFcnJvciA9IGlzRXJyb3IgJiYgZGF0YS5kYXRhICYmIGRhdGEuZGF0YS5tZXRob2QgPT09ICdyZWFkeSc7XG5cbiAgICAgICAgaWYgKGlzUmVhZHlFcnJvcikge1xuICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihkYXRhLmRhdGEubWVzc2FnZSk7XG4gICAgICAgICAgZXJyb3IubmFtZSA9IGRhdGEuZGF0YS5uYW1lO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzUmVhZHlFdmVudCA9IGRhdGEgJiYgZGF0YS5ldmVudCA9PT0gJ3JlYWR5JztcbiAgICAgICAgdmFyIGlzUGluZ1Jlc3BvbnNlID0gZGF0YSAmJiBkYXRhLm1ldGhvZCA9PT0gJ3BpbmcnO1xuXG4gICAgICAgIGlmIChpc1JlYWR5RXZlbnQgfHwgaXNQaW5nUmVzcG9uc2UpIHtcbiAgICAgICAgICBfdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1yZWFkeScsICd0cnVlJyk7XG5cbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJvY2Vzc0RhdGEoX3RoaXMsIGRhdGEpO1xuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgX3RoaXMuX29uTWVzc2FnZSk7XG5cbiAgICAgIGlmIChfdGhpcy5lbGVtZW50Lm5vZGVOYW1lICE9PSAnSUZSQU1FJykge1xuICAgICAgICB2YXIgcGFyYW1zID0gZ2V0T0VtYmVkUGFyYW1ldGVycyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgdmFyIHVybCA9IGdldFZpbWVvVXJsKHBhcmFtcyk7XG4gICAgICAgIGdldE9FbWJlZERhdGEodXJsLCBwYXJhbXMsIGVsZW1lbnQpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgaWZyYW1lID0gY3JlYXRlRW1iZWQoZGF0YSwgZWxlbWVudCk7IC8vIE92ZXJ3cml0ZSBlbGVtZW50IHdpdGggdGhlIG5ldyBpZnJhbWUsXG4gICAgICAgICAgLy8gYnV0IHN0b3JlIHJlZmVyZW5jZSB0byB0aGUgb3JpZ2luYWwgZWxlbWVudFxuXG4gICAgICAgICAgX3RoaXMuZWxlbWVudCA9IGlmcmFtZTtcbiAgICAgICAgICBfdGhpcy5fb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICBzd2FwQ2FsbGJhY2tzKGVsZW1lbnQsIGlmcmFtZSk7XG4gICAgICAgICAgcGxheWVyTWFwLnNldChfdGhpcy5lbGVtZW50LCBfdGhpcyk7XG4gICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7IC8vIFN0b3JlIGEgY29weSBvZiB0aGlzIFBsYXllciBpbiB0aGUgbWFwXG5cbiAgICByZWFkeU1hcC5zZXQodGhpcywgcmVhZHlQcm9taXNlKTtcbiAgICBwbGF5ZXJNYXAuc2V0KHRoaXMuZWxlbWVudCwgdGhpcyk7IC8vIFNlbmQgYSBwaW5nIHRvIHRoZSBpZnJhbWUgc28gdGhlIHJlYWR5IHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCBpZlxuICAgIC8vIHRoZSBwbGF5ZXIgaXMgYWxyZWFkeSByZWFkeS5cblxuICAgIGlmICh0aGlzLmVsZW1lbnQubm9kZU5hbWUgPT09ICdJRlJBTUUnKSB7XG4gICAgICBwb3N0TWVzc2FnZSh0aGlzLCAncGluZycpO1xuICAgIH1cblxuICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgdmFyIGV4aXRGdWxsc2NyZWVuID0gZnVuY3Rpb24gZXhpdEZ1bGxzY3JlZW4oKSB7XG4gICAgICAgIHJldHVybiBzY3JlZW5mdWxsLmV4aXQoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuZnVsbHNjcmVlbmNoYW5nZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbikge1xuICAgICAgICAgIHN0b3JlQ2FsbGJhY2soX3RoaXMsICdldmVudDpleGl0RnVsbHNjcmVlbicsIGV4aXRGdWxsc2NyZWVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVDYWxsYmFjayhfdGhpcywgJ2V2ZW50OmV4aXRGdWxsc2NyZWVuJywgZXhpdEZ1bGxzY3JlZW4pO1xuICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5cbiAgICAgICAgX3RoaXMucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwb3N0TWVzc2FnZShfdGhpcywgJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgc2NyZWVuZnVsbC5vbignZnVsbHNjcmVlbmNoYW5nZScsIHRoaXMuZnVsbHNjcmVlbmNoYW5nZUhhbmRsZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBwcm9taXNlIGZvciBhIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIEFQSSBtZXRob2QgdG8gY2FsbC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFthcmdzPXt9XSBBcmd1bWVudHMgdG8gc2VuZCB2aWEgcG9zdE1lc3NhZ2UuXG4gICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFBsYXllciwgW3tcbiAgICBrZXk6IFwiY2FsbE1ldGhvZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxsTWV0aG9kKG5hbWUpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvLyBXZSBhcmUgc3RvcmluZyB0aGUgcmVzb2x2ZS9yZWplY3QgaGFuZGxlcnMgdG8gY2FsbCBsYXRlciwgc28gd2VcbiAgICAgICAgLy8gY2Fu4oCZdCByZXR1cm4gaGVyZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvYWx3YXlzLXJldHVyblxuICAgICAgICByZXR1cm4gX3RoaXMyLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RvcmVDYWxsYmFjayhfdGhpczIsIG5hbWUsIHtcbiAgICAgICAgICAgIHJlc29sdmU6IHJlc29sdmUsXG4gICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHBvc3RNZXNzYWdlKF90aGlzMiwgbmFtZSwgYXJncyk7XG4gICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgcHJvbWlzZSBmb3IgdGhlIHZhbHVlIG9mIGEgcGxheWVyIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIHByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChuYW1lKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBucG9fc3JjKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgbmFtZSA9IGdldE1ldGhvZE5hbWUobmFtZSwgJ2dldCcpOyAvLyBXZSBhcmUgc3RvcmluZyB0aGUgcmVzb2x2ZS9yZWplY3QgaGFuZGxlcnMgdG8gY2FsbCBsYXRlciwgc28gd2VcbiAgICAgICAgLy8gY2Fu4oCZdCByZXR1cm4gaGVyZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByb21pc2UvYWx3YXlzLXJldHVyblxuXG4gICAgICAgIHJldHVybiBfdGhpczMucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9yZUNhbGxiYWNrKF90aGlzMywgbmFtZSwge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdE1lc3NhZ2UoX3RoaXMzLCBuYW1lKTtcbiAgICAgICAgfSkuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBwcm9taXNlIGZvciBzZXR0aW5nIHRoZSB2YWx1ZSBvZiBhIHBsYXllciBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBBUEkgbWV0aG9kIHRvIGNhbGwuXG4gICAgICogQHBhcmFtIHttaXhlZH0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgbnBvX3NyYyhmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIG5hbWUgPSBnZXRNZXRob2ROYW1lKG5hbWUsICdzZXQnKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZXJlIG11c3QgYmUgYSB2YWx1ZSB0byBzZXQuJyk7XG4gICAgICAgIH0gLy8gV2UgYXJlIHN0b3JpbmcgdGhlIHJlc29sdmUvcmVqZWN0IGhhbmRsZXJzIHRvIGNhbGwgbGF0ZXIsIHNvIHdlXG4gICAgICAgIC8vIGNhbuKAmXQgcmV0dXJuIGhlcmUuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcm9taXNlL2Fsd2F5cy1yZXR1cm5cblxuXG4gICAgICAgIHJldHVybiBfdGhpczQucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9yZUNhbGxiYWNrKF90aGlzNCwgbmFtZSwge1xuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcG9zdE1lc3NhZ2UoX3RoaXM0LCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0pLmNhdGNoKHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LiBXaWxsIGNhbGwgdGhlXG4gICAgICogY2FsbGJhY2sgd2l0aCBhIHNpbmdsZSBwYXJhbWV0ZXIsIGBkYXRhYCwgdGhhdCBjb250YWlucyB0aGUgZGF0YSBmb3JcbiAgICAgKiB0aGF0IGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigqKX0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgZXZlbnQgZmlyZXMuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghZXZlbnROYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYW4gZXZlbnQgbmFtZS4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgY2FsbGJhY2sgZnVuY3Rpb24uJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGxiYWNrcyA9IGdldENhbGxiYWNrcyh0aGlzLCBcImV2ZW50OlwiLmNvbmNhdChldmVudE5hbWUpKTtcblxuICAgICAgaWYgKGNhbGxiYWNrcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5jYWxsTWV0aG9kKCdhZGRFdmVudExpc3RlbmVyJywgZXZlbnROYW1lKS5jYXRjaChmdW5jdGlvbiAoKSB7Ly8gSWdub3JlIHRoZSBlcnJvci4gVGhlcmUgd2lsbCBiZSBhbiBlcnJvciBldmVudCBmaXJlZCB0aGF0XG4gICAgICAgICAgLy8gd2lsbCB0cmlnZ2VyIHRoZSBlcnJvciBjYWxsYmFjayBpZiB0aGV5IGFyZSBsaXN0ZW5pbmcuXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzdG9yZUNhbGxiYWNrKHRoaXMsIFwiZXZlbnQ6XCIuY29uY2F0KGV2ZW50TmFtZSksIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LiBXaWxsIHJlbW92ZSBhbGxcbiAgICAgKiBsaXN0ZW5lcnMgZm9yIHRoYXQgZXZlbnQgaWYgYSBgY2FsbGJhY2tgIGlzbuKAmXQgcGFzc2VkLCBvciBvbmx5IHRoYXRcbiAgICAgKiBzcGVjaWZpYyBjYWxsYmFjayBpZiBpdCBpcyBwYXNzZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBzcGVjaWZpYyBjYWxsYmFjayB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcIm9mZlwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgaWYgKCFldmVudE5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBldmVudCBuYW1lLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsYXN0Q2FsbGJhY2sgPSByZW1vdmVDYWxsYmFjayh0aGlzLCBcImV2ZW50OlwiLmNvbmNhdChldmVudE5hbWUpLCBjYWxsYmFjayk7IC8vIElmIHRoZXJlIGFyZSBubyBjYWxsYmFja3MgbGVmdCwgcmVtb3ZlIHRoZSBsaXN0ZW5lclxuXG4gICAgICBpZiAobGFzdENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuY2FsbE1ldGhvZCgncmVtb3ZlRXZlbnRMaXN0ZW5lcicsIGV2ZW50TmFtZSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsvLyBJZ25vcmUgdGhlIGVycm9yLiBUaGVyZSB3aWxsIGJlIGFuIGVycm9yIGV2ZW50IGZpcmVkIHRoYXRcbiAgICAgICAgICAvLyB3aWxsIHRyaWdnZXIgdGhlIGVycm9yIGNhbGxiYWNrIGlmIHRoZXkgYXJlIGxpc3RlbmluZy5cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBsb2FkIGEgbmV3IHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgTG9hZFZpZGVvUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSB2aWRlbyB3aXRoIHRoaXMgaWQgb3IgdXJsIHN1Y2Nlc3NmdWxseSBsb2FkZWQuXG4gICAgICogQHJlamVjdCB7VHlwZUVycm9yfSBUaGUgaWQgd2FzIG5vdCBhIG51bWJlci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIExvYWQgYSBuZXcgdmlkZW8gaW50byB0aGlzIGVtYmVkLiBUaGUgcHJvbWlzZSB3aWxsIGJlIHJlc29sdmVkIGlmXG4gICAgICogdGhlIHZpZGVvIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWQsIG9yIGl0IHdpbGwgYmUgcmVqZWN0ZWQgaWYgaXQgY291bGRcbiAgICAgKiBub3QgYmUgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfG9iamVjdH0gb3B0aW9ucyBUaGUgaWQgb2YgdGhlIHZpZGVvLCB0aGUgdXJsIG9mIHRoZSB2aWRlbywgb3IgYW4gb2JqZWN0IHdpdGggZW1iZWQgb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtMb2FkVmlkZW9Qcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwibG9hZFZpZGVvXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRWaWRlbyhvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdsb2FkVmlkZW8nLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHBlcmZvcm0gYW4gYWN0aW9uIHdoZW4gdGhlIFBsYXllciBpcyByZWFkeS5cbiAgICAgKlxuICAgICAqIEB0b2RvIGRvY3VtZW50IGVycm9yc1xuICAgICAqIEBwcm9taXNlIExvYWRWaWRlb1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXIgYSBmdW5jdGlvbiB3aGVuIHRoZSBwbGF5ZXIgaWZyYW1lIGhhcyBpbml0aWFsaXplZC4gWW91IGRvIG5vdFxuICAgICAqIG5lZWQgdG8gd2FpdCBmb3IgYHJlYWR5YCB0byB0cmlnZ2VyIHRvIGJlZ2luIGFkZGluZyBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiBvciBjYWxsaW5nIG90aGVyIG1ldGhvZHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZWFkeVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZWFkeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZWFkeSgpIHtcbiAgICAgIHZhciByZWFkeVByb21pc2UgPSByZWFkeU1hcC5nZXQodGhpcykgfHwgbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdVbmtub3duIHBsYXllci4gUHJvYmFibHkgdW5sb2FkZWQuJykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbnBvX3NyYy5yZXNvbHZlKHJlYWR5UHJvbWlzZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBhZGQgYSBjdWUgcG9pbnQgdG8gdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEFkZEN1ZVBvaW50UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBpZCBvZiB0aGUgY3VlIHBvaW50IHRvIHVzZSBmb3IgcmVtb3ZlQ3VlUG9pbnQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gdGhlIHRpbWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiAgICAgICAgIHZpZGVv4oCZcyBkdXJhdGlvbi5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBDdWUgcG9pbnRzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgIHBsYXllciBvciBicm93c2VyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY3VlIHBvaW50IHRvIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSBUaGUgdGltZSBmb3IgdGhlIGN1ZSBwb2ludC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2RhdGFdIEFyYml0cmFyeSBkYXRhIHRvIGJlIHJldHVybmVkIHdpdGggdGhlIGN1ZSBwb2ludC5cbiAgICAgKiBAcmV0dXJuIHtBZGRDdWVQb2ludFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJhZGRDdWVQb2ludFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRDdWVQb2ludCh0aW1lKSB7XG4gICAgICB2YXIgZGF0YSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdhZGRDdWVQb2ludCcsIHtcbiAgICAgICAgdGltZTogdGltZSxcbiAgICAgICAgZGF0YTogZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byByZW1vdmUgYSBjdWUgcG9pbnQgZnJvbSB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgQWRkQ3VlUG9pbnRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGlkIG9mIHRoZSBjdWUgcG9pbnQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKiBAcmVqZWN0IHtJbnZhbGlkQ3VlUG9pbnR9IFRoZSBjdWUgcG9pbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGlkIHdhcyBub3RcbiAgICAgKiAgICAgICAgIGZvdW5kLlxuICAgICAqIEByZWplY3Qge1Vuc3VwcG9ydGVkRXJyb3J9IEN1ZSBwb2ludHMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBjdWUgcG9pbnQgZnJvbSB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGlkIG9mIHRoZSBjdWUgcG9pbnQgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm4ge1JlbW92ZUN1ZVBvaW50UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZUN1ZVBvaW50XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUN1ZVBvaW50KGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdyZW1vdmVDdWVQb2ludCcsIGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByZXByZXNlbnRhdGlvbiBvZiBhIHRleHQgdHJhY2sgb24gYSB2aWRlby5cbiAgICAgKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFZpbWVvVGV4dFRyYWNrXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGxhbmd1YWdlIFRoZSBJU08gbGFuZ3VhZ2UgY29kZS5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30ga2luZCBUaGUga2luZCBvZiB0cmFjayBpdCBpcyAoY2FwdGlvbnMgb3Igc3VidGl0bGVzKS5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gbGFiZWwgVGhlIGh1bWFu4oCQcmVhZGFibGUgbGFiZWwgZm9yIHRoZSB0cmFjay5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBlbmFibGUgYSB0ZXh0IHRyYWNrLlxuICAgICAqXG4gICAgICogQHByb21pc2UgRW5hYmxlVGV4dFRyYWNrUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb1RleHRUcmFja30gVGhlIHRleHQgdHJhY2sgdGhhdCB3YXMgZW5hYmxlZC5cbiAgICAgKiBAcmVqZWN0IHtJbnZhbGlkVHJhY2tMYW5ndWFnZUVycm9yfSBObyB0cmFjayB3YXMgYXZhaWxhYmxlIHdpdGggdGhlXG4gICAgICogICAgICAgICBzcGVjaWZpZWQgbGFuZ3VhZ2UuXG4gICAgICogQHJlamVjdCB7SW52YWxpZFRyYWNrRXJyb3J9IE5vIHRyYWNrIHdhcyBhdmFpbGFibGUgd2l0aCB0aGUgc3BlY2lmaWVkXG4gICAgICogICAgICAgICBsYW5ndWFnZSBhbmQga2luZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0aGUgdGV4dCB0cmFjayB3aXRoIHRoZSBzcGVjaWZpZWQgbGFuZ3VhZ2UsIGFuZCBvcHRpb25hbGx5IHRoZVxuICAgICAqIHNwZWNpZmllZCBraW5kIChjYXB0aW9ucyBvciBzdWJ0aXRsZXMpLlxuICAgICAqXG4gICAgICogV2hlbiBzZXQgdmlhIHRoZSBBUEksIHRoZSB0cmFjayBsYW5ndWFnZSB3aWxsIG5vdCBjaGFuZ2UgdGhlIHZpZXdlcuKAmXNcbiAgICAgKiBzdG9yZWQgcHJlZmVyZW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZSBUaGUgdHdv4oCQbGV0dGVyIGxhbmd1YWdlIGNvZGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtraW5kXSBUaGUga2luZCBvZiB0cmFjayB0byBlbmFibGUgKGNhcHRpb25zIG9yIHN1YnRpdGxlcykuXG4gICAgICogQHJldHVybiB7RW5hYmxlVGV4dFRyYWNrUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImVuYWJsZVRleHRUcmFja1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGVUZXh0VHJhY2sobGFuZ3VhZ2UsIGtpbmQpIHtcbiAgICAgIGlmICghbGFuZ3VhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhIGxhbmd1YWdlLicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdlbmFibGVUZXh0VHJhY2snLCB7XG4gICAgICAgIGxhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgICAga2luZDoga2luZFxuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBkaXNhYmxlIHRoZSBhY3RpdmUgdGV4dCB0cmFjay5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIERpc2FibGVUZXh0VHJhY2tQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3ZvaWR9IFRoZSB0cmFjayB3YXMgZGlzYWJsZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlIHRoZSBjdXJyZW50bHktYWN0aXZlIHRleHQgdHJhY2suXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtEaXNhYmxlVGV4dFRyYWNrUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRpc2FibGVUZXh0VHJhY2tcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZVRleHRUcmFjaygpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2Rpc2FibGVUZXh0VHJhY2snKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHBhdXNlIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFBhdXNlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHt2b2lkfSBUaGUgdmlkZW8gd2FzIHBhdXNlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFBhdXNlIHRoZSB2aWRlbyBpZiBpdOKAmXMgcGxheWluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BhdXNlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInBhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncGF1c2UnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHBsYXkgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgUGxheVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7dm9pZH0gVGhlIHZpZGVvIHdhcyBwbGF5ZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBQbGF5IHRoZSB2aWRlbyBpZiBpdOKAmXMgcGF1c2VkLiAqKk5vdGU6Kiogb24gaU9TIGFuZCBzb21lIG90aGVyXG4gICAgICogbW9iaWxlIGRldmljZXMsIHlvdSBjYW5ub3QgcHJvZ3JhbW1hdGljYWxseSB0cmlnZ2VyIHBsYXkuIE9uY2UgdGhlXG4gICAgICogdmlld2VyIGhhcyB0YXBwZWQgb24gdGhlIHBsYXkgYnV0dG9uIGluIHRoZSBwbGF5ZXIsIGhvd2V2ZXIsIHlvdVxuICAgICAqIHdpbGwgYmUgYWJsZSB0byB1c2UgdGhpcyBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BsYXlQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicGxheVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgncGxheScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIHBsYXllciBlbnRlcnMgZnVsbHNjcmVlbi5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwicmVxdWVzdEZ1bGxzY3JlZW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVxdWVzdEZ1bGxzY3JlZW4oKSB7XG4gICAgICBpZiAoc2NyZWVuZnVsbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHNjcmVlbmZ1bGwucmVxdWVzdCh0aGlzLmVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdyZXF1ZXN0RnVsbHNjcmVlbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIHBsYXllciBleGl0cyBmdWxsc2NyZWVuLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJleGl0RnVsbHNjcmVlblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBleGl0RnVsbHNjcmVlbigpIHtcbiAgICAgIGlmIChzY3JlZW5mdWxsLmlzRW5hYmxlZCkge1xuICAgICAgICByZXR1cm4gc2NyZWVuZnVsbC5leGl0KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ2V4aXRGdWxsc2NyZWVuJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBmdWxsc2NyZWVuLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRGdWxsc2NyZWVuXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZ1bGxzY3JlZW4oKSB7XG4gICAgICBpZiAoc2NyZWVuZnVsbC5pc0VuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIG5wb19zcmMucmVzb2x2ZShzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmdldCgnZnVsbHNjcmVlbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0IHRoYXQgdGhlIHBsYXllciBlbnRlcnMgcGljdHVyZS1pbi1waWN0dXJlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJyZXF1ZXN0UGljdHVyZUluUGljdHVyZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxNZXRob2QoJ3JlcXVlc3RQaWN0dXJlSW5QaWN0dXJlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdGhhdCB0aGUgcGxheWVyIGV4aXRzIHBpY3R1cmUtaW4tcGljdHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZXhpdFBpY3R1cmVJblBpY3R1cmVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXhpdFBpY3R1cmVJblBpY3R1cmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsTWV0aG9kKCdleGl0UGljdHVyZUluUGljdHVyZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBsYXllciBpcyBjdXJyZW50bHkgcGljdHVyZS1pbi1waWN0dXJlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRQaWN0dXJlSW5QaWN0dXJlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBpY3R1cmVJblBpY3R1cmUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BpY3R1cmVJblBpY3R1cmUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHVubG9hZCB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBVbmxvYWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3ZvaWR9IFRoZSB2aWRlbyB3YXMgdW5sb2FkZWQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHBsYXllciB0byBpdHMgaW5pdGlhbCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1VubG9hZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJ1bmxvYWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5sb2FkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FsbE1ldGhvZCgndW5sb2FkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFudXAgdGhlIHBsYXllciBhbmQgcmVtb3ZlIGl0IGZyb20gdGhlIERPTVxuICAgICAqXG4gICAgICogSXQgd29uJ3QgYmUgdXNhYmxlIGFuZCBhIG5ldyBvbmUgc2hvdWxkIGJlIGNvbnN0cnVjdGVkXG4gICAgICogIGluIG9yZGVyIHRvIGRvIGFueSBvcGVyYXRpb25zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImRlc3Ryb3lcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gbmV3IG5wb19zcmMoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmVhZHlNYXAuZGVsZXRlKF90aGlzNSk7XG4gICAgICAgIHBsYXllck1hcC5kZWxldGUoX3RoaXM1LmVsZW1lbnQpO1xuXG4gICAgICAgIGlmIChfdGhpczUuX29yaWdpbmFsRWxlbWVudCkge1xuICAgICAgICAgIHBsYXllck1hcC5kZWxldGUoX3RoaXM1Ll9vcmlnaW5hbEVsZW1lbnQpO1xuXG4gICAgICAgICAgX3RoaXM1Ll9vcmlnaW5hbEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdkYXRhLXZpbWVvLWluaXRpYWxpemVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3RoaXM1LmVsZW1lbnQgJiYgX3RoaXM1LmVsZW1lbnQubm9kZU5hbWUgPT09ICdJRlJBTUUnICYmIF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAvLyBJZiB3ZSd2ZSBhZGRlZCBhbiBhZGRpdGlvbmFsIHdyYXBwZXIgZGl2LCByZW1vdmUgdGhhdCBmcm9tIHRoZSBET00uXG4gICAgICAgICAgLy8gSWYgbm90LCBqdXN0IHJlbW92ZSB0aGUgaWZyYW1lIGVsZW1lbnQuXG4gICAgICAgICAgaWYgKF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUucGFyZW50Tm9kZSAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAhPT0gX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzNS5lbGVtZW50LnBhcmVudE5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpczUuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90aGlzNS5lbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gSWYgdGhlIGNsaXAgaXMgcHJpdmF0ZSB0aGVyZSBpcyBhIGNhc2Ugd2hlcmUgdGhlIGVsZW1lbnQgc3RheXMgdGhlXG4gICAgICAgIC8vIGRpdiBlbGVtZW50LiBEZXN0cm95IHNob3VsZCByZXNldCB0aGUgZGl2IGFuZCByZW1vdmUgdGhlIGlmcmFtZSBjaGlsZC5cblxuXG4gICAgICAgIGlmIChfdGhpczUuZWxlbWVudCAmJiBfdGhpczUuZWxlbWVudC5ub2RlTmFtZSA9PT0gJ0RJVicgJiYgX3RoaXM1LmVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIF90aGlzNS5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS12aW1lby1pbml0aWFsaXplZCcpO1xuXG4gICAgICAgICAgdmFyIGlmcmFtZSA9IF90aGlzNS5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lmcmFtZScpO1xuXG4gICAgICAgICAgaWYgKGlmcmFtZSAmJiBpZnJhbWUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgLy8gSWYgd2UndmUgYWRkZWQgYW4gYWRkaXRpb25hbCB3cmFwcGVyIGRpdiwgcmVtb3ZlIHRoYXQgZnJvbSB0aGUgRE9NLlxuICAgICAgICAgICAgLy8gSWYgbm90LCBqdXN0IHJlbW92ZSB0aGUgaWZyYW1lIGVsZW1lbnQuXG4gICAgICAgICAgICBpZiAoaWZyYW1lLnBhcmVudE5vZGUucGFyZW50Tm9kZSAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAmJiBfdGhpczUuX29yaWdpbmFsRWxlbWVudCAhPT0gaWZyYW1lLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzNS5fd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBfdGhpczUuX29uTWVzc2FnZSk7XG5cbiAgICAgICAgaWYgKHNjcmVlbmZ1bGwuaXNFbmFibGVkKSB7XG4gICAgICAgICAgc2NyZWVuZnVsbC5vZmYoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBfdGhpczUuZnVsbHNjcmVlbmNoYW5nZUhhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGF1dG9wYXVzZSBiZWhhdmlvciBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRBdXRvcGF1c2VQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgYXV0b3BhdXNlIGlzIHR1cm5lZCBvbiBvciBvZmYuXG4gICAgICogQHJlamVjdCB7VW5zdXBwb3J0ZWRFcnJvcn0gQXV0b3BhdXNlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGF1dG9wYXVzZSBiZWhhdmlvciBmb3IgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRBdXRvcGF1c2VQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QXV0b3BhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF1dG9wYXVzZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnYXV0b3BhdXNlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGF1dG9wYXVzZSBiZWhhdmlvciBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRBdXRvcGF1c2VQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge2Jvb2xlYW59IFdoZXRoZXIgYXV0b3BhdXNlIGlzIHR1cm5lZCBvbiBvciBvZmYuXG4gICAgICogQHJlamVjdCB7VW5zdXBwb3J0ZWRFcnJvcn0gQXV0b3BhdXNlIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgY3VycmVudFxuICAgICAqICAgICAgICAgcGxheWVyIG9yIGJyb3dzZXIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgb3IgZGlzYWJsZSB0aGUgYXV0b3BhdXNlIGJlaGF2aW9yIG9mIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgd2hlbiBhbm90aGVyIHZpZGVvIGlzIHBsYXllZCBpbiB0aGUgc2FtZSBicm93c2VyLCB0aGlzXG4gICAgICogcGxheWVyIHdpbGwgYXV0b21hdGljYWxseSBwYXVzZS4gVW5sZXNzIHlvdSBoYXZlIGEgc3BlY2lmaWMgcmVhc29uXG4gICAgICogZm9yIGRvaW5nIHNvLCB3ZSByZWNvbW1lbmQgdGhhdCB5b3UgbGVhdmUgYXV0b3BhdXNlIHNldCB0byB0aGVcbiAgICAgKiBkZWZhdWx0IChgdHJ1ZWApLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBhdXRvcGF1c2VcbiAgICAgKiBAcmV0dXJuIHtTZXRBdXRvcGF1c2VQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwic2V0QXV0b3BhdXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEF1dG9wYXVzZShhdXRvcGF1c2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldCgnYXV0b3BhdXNlJywgYXV0b3BhdXNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgYnVmZmVyZWQgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0QnVmZmVyZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBCdWZmZXJlZCBUaW1lcmFuZ2VzIGNvbnZlcnRlZCB0byBhbiBBcnJheS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYnVmZmVyZWQgcHJvcGVydHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0QnVmZmVyZWRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0QnVmZmVyZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnVmZmVyZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2J1ZmZlcmVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IENhbWVyYVByb3BlcnRpZXNcbiAgICAgKiBAcHJvcCB7bnVtYmVyfSBwcm9wcy55YXcgLSBOdW1iZXIgYmV0d2VlbiAwIGFuZCAzNjAuXG4gICAgICogQHByb3Age251bWJlcn0gcHJvcHMucGl0Y2ggLSBOdW1iZXIgYmV0d2VlbiAtOTAgYW5kIDkwLlxuICAgICAqIEBwcm9wIHtudW1iZXJ9IHByb3BzLnJvbGwgLSBOdW1iZXIgYmV0d2VlbiAtMTgwIGFuZCAxODAuXG4gICAgICogQHByb3Age251bWJlcn0gcHJvcHMuZm92IC0gVGhlIGZpZWxkIG9mIHZpZXcgaW4gZGVncmVlcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGNhbWVyYSBwcm9wZXJ0aWVzIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRDYW1lcmFQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0NhbWVyYVByb3BlcnRpZXN9IFRoZSBjYW1lcmEgcHJvcGVydGllcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZvciAzNjDCsCB2aWRlb3MgZ2V0IHRoZSBjYW1lcmEgcHJvcGVydGllcyBmb3IgdGhpcyBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRDYW1lcmFQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2FtZXJhUHJvcHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2FtZXJhUHJvcHMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2NhbWVyYVByb3BzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGNhbWVyYSBwcm9wZXJ0aWVzIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDYW1lcmFQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge09iamVjdH0gVGhlIGNhbWVyYSB3YXMgc3VjY2Vzc2Z1bGx5IHNldC5cbiAgICAgKiBAcmVqZWN0IHtSYW5nZUVycm9yfSBUaGUgcmFuZ2Ugd2FzIG91dCBvZiBib3VuZHMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGb3IgMzYwwrAgdmlkZW9zIHNldCB0aGUgY2FtZXJhIHByb3BlcnRpZXMgZm9yIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYW1lcmFQcm9wZXJ0aWVzfSBjYW1lcmEgVGhlIGNhbWVyYSBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7U2V0Q2FtZXJhUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldENhbWVyYVByb3BzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENhbWVyYVByb3BzKGNhbWVyYSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdjYW1lcmFQcm9wcycsIGNhbWVyYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcmVwcmVzZW50YXRpb24gb2YgYSBjaGFwdGVyLlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gVmltZW9DaGFwdGVyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0VGltZSBUaGUgc3RhcnQgdGltZSBvZiB0aGUgY2hhcHRlci5cbiAgICAgKiBAcHJvcGVydHkge29iamVjdH0gdGl0bGUgVGhlIHRpdGxlIG9mIHRoZSBjaGFwdGVyLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbmRleCBUaGUgcGxhY2UgaW4gdGhlIG9yZGVyIG9mIENoYXB0ZXJzLiBTdGFydHMgYXQgMS5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgY2hhcHRlcnMgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldENoYXB0ZXJzUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb0NoYXB0ZXJbXX0gVGhlIGNoYXB0ZXJzIGZvciB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgYWxsIHRoZSBjaGFwdGVycyBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q2hhcHRlcnNQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q2hhcHRlcnNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2hhcHRlcnMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2NoYXB0ZXJzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY2hhcHRlci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEN1cnJlbnRDaGFwdGVyc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7VmltZW9DaGFwdGVyfHVuZGVmaW5lZH0gVGhlIGN1cnJlbnQgY2hhcHRlciBmb3IgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50bHkgYWN0aXZlIGNoYXB0ZXIgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEN1cnJlbnRDaGFwdGVyc1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDdXJyZW50Q2hhcHRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50Q2hhcHRlcigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnY3VycmVudENoYXB0ZXInKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY29sb3Igb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldENvbG9yUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBoZXggY29sb3Igb2YgdGhlIHBsYXllci5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY29sb3IgZm9yIHRoaXMgcGxheWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q29sb3JQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q29sb3JcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29sb3IoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2NvbG9yJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGNvbG9yIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDb2xvclByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7c3RyaW5nfSBUaGUgY29sb3Igd2FzIHN1Y2Nlc3NmdWxseSBzZXQuXG4gICAgICogQHJlamVjdCB7VHlwZUVycm9yfSBUaGUgc3RyaW5nIHdhcyBub3QgYSB2YWxpZCBoZXggb3IgcmdiIGNvbG9yLlxuICAgICAqIEByZWplY3Qge0NvbnRyYXN0RXJyb3J9IFRoZSBjb2xvciB3YXMgc2V0LCBidXQgdGhlIGNvbnRyYXN0IGlzXG4gICAgICogICAgICAgICBvdXRzaWRlIG9mIHRoZSBhY2NlcHRhYmxlIHJhbmdlLlxuICAgICAqIEByZWplY3Qge0VtYmVkU2V0dGluZ3NFcnJvcn0gVGhlIG93bmVyIG9mIHRoZSBwbGF5ZXIgaGFzIGNob3NlbiB0b1xuICAgICAqICAgICAgICAgdXNlIGEgc3BlY2lmaWMgY29sb3IuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGNvbG9yIG9mIHRoaXMgcGxheWVyIHRvIGEgaGV4IG9yIHJnYiBzdHJpbmcuIFNldHRpbmcgdGhlXG4gICAgICogY29sb3IgbWF5IGZhaWwgaWYgdGhlIG93bmVyIG9mIHRoZSB2aWRlbyBoYXMgc2V0IHRoZWlyIGVtYmVkXG4gICAgICogcHJlZmVyZW5jZXMgdG8gZm9yY2UgYSBzcGVjaWZpYyBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjb2xvciBUaGUgaGV4IG9yIHJnYiBjb2xvciBzdHJpbmcgdG8gc2V0LlxuICAgICAqIEByZXR1cm4ge1NldENvbG9yUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldENvbG9yXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvbG9yKGNvbG9yKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2NvbG9yJywgY29sb3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlcHJlc2VudGF0aW9uIG9mIGEgY3VlIHBvaW50LlxuICAgICAqXG4gICAgICogQHR5cGVkZWYge09iamVjdH0gVmltZW9DdWVQb2ludFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIFRoZSB0aW1lIG9mIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IHtvYmplY3R9IGRhdGEgVGhlIGRhdGEgcGFzc2VkIHdoZW4gYWRkaW5nIHRoZSBjdWUgcG9pbnQuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IGlkIFRoZSB1bmlxdWUgaWQgZm9yIHVzZSB3aXRoIHJlbW92ZUN1ZVBvaW50LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY3VlIHBvaW50cyBvZiBhIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Q3VlUG9pbnRzUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtWaW1lb0N1ZVBvaW50W119IFRoZSBjdWUgcG9pbnRzIGFkZGVkIHRvIHRoZSB2aWRlby5cbiAgICAgKiBAcmVqZWN0IHtVbnN1cHBvcnRlZEVycm9yfSBDdWUgcG9pbnRzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggdGhlIGN1cnJlbnRcbiAgICAgKiAgICAgICAgIHBsYXllciBvciBicm93c2VyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIGFycmF5IG9mIHRoZSBjdWUgcG9pbnRzIGFkZGVkIHRvIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldEN1ZVBvaW50c1Byb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRDdWVQb2ludHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VlUG9pbnRzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdjdWVQb2ludHMnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgY3VycmVudCB0aW1lIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldEN1cnJlbnRUaW1lUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBjdXJyZW50IHRpbWUgaW4gc2Vjb25kcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBpbiBzZWNvbmRzLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0Q3VycmVudFRpbWVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0Q3VycmVudFRpbWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2N1cnJlbnRUaW1lJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBzZXQgdGhlIGN1cnJlbnQgdGltZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRDdXJyZW50VGltZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgYWN0dWFsIGN1cnJlbnQgdGltZSB0aGF0IHdhcyBzZXQuXG4gICAgICogQHJlamVjdCB7UmFuZ2VFcnJvcn0gdGhlIHRpbWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgKiAgICAgICAgIHZpZGVv4oCZcyBkdXJhdGlvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBwbGF5YmFjayBwb3NpdGlvbiBpbiBzZWNvbmRzLiBJZiB0aGUgcGxheWVyIHdhc1xuICAgICAqIHBhdXNlZCwgaXQgd2lsbCByZW1haW4gcGF1c2VkLiBMaWtld2lzZSwgaWYgdGhlIHBsYXllciB3YXMgcGxheWluZyxcbiAgICAgKiBpdCB3aWxsIHJlc3VtZSBwbGF5aW5nIG9uY2UgdGhlIHZpZGVvIGhhcyBidWZmZXJlZC5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gcHJvdmlkZSBhbiBhY2N1cmF0ZSB0aW1lIGFuZCB0aGUgcGxheWVyIHdpbGwgYXR0ZW1wdCB0byBzZWVrXG4gICAgICogdG8gYXMgY2xvc2UgdG8gdGhhdCB0aW1lIGFzIHBvc3NpYmxlLiBUaGUgZXhhY3QgdGltZSB3aWxsIGJlIHRoZVxuICAgICAqIGZ1bGZpbGxlZCB2YWx1ZSBvZiB0aGUgcHJvbWlzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50VGltZVxuICAgICAqIEByZXR1cm4ge1NldEN1cnJlbnRUaW1lUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldEN1cnJlbnRUaW1lXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEN1cnJlbnRUaW1lKGN1cnJlbnRUaW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2N1cnJlbnRUaW1lJywgY3VycmVudFRpbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBkdXJhdGlvbiBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXREdXJhdGlvblByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgZHVyYXRpb24gaW4gc2Vjb25kcy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZHVyYXRpb24gb2YgdGhlIHZpZGVvIGluIHNlY29uZHMuIEl0IHdpbGwgYmUgcm91bmRlZCB0byB0aGVcbiAgICAgKiBuZWFyZXN0IHNlY29uZCBiZWZvcmUgcGxheWJhY2sgYmVnaW5zLCBhbmQgdG8gdGhlIG5lYXJlc3QgdGhvdXNhbmR0aFxuICAgICAqIG9mIGEgc2Vjb25kIGFmdGVyIHBsYXliYWNrIGJlZ2lucy5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldER1cmF0aW9uUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldER1cmF0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldER1cmF0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdkdXJhdGlvbicpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBlbmRlZCBzdGF0ZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRFbmRlZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHZpZGVvIGhhcyBlbmRlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZW5kZWQgc3RhdGUgb2YgdGhlIHZpZGVvLiBUaGUgdmlkZW8gaGFzIGVuZGVkIGlmXG4gICAgICogYGN1cnJlbnRUaW1lID09PSBkdXJhdGlvbmAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRFbmRlZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRFbmRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRFbmRlZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnZW5kZWQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgbG9vcCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0TG9vcFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHBsYXllciBpcyBzZXQgdG8gbG9vcC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbG9vcCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0TG9vcFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRMb29wXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExvb3AoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ2xvb3AnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgbG9vcCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgU2V0TG9vcFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gVGhlIGxvb3Agc3RhdGUgdGhhdCB3YXMgc2V0LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBsb29wIHN0YXRlIG9mIHRoZSBwbGF5ZXIuIFdoZW4gc2V0IHRvIGB0cnVlYCwgdGhlIHBsYXllclxuICAgICAqIHdpbGwgc3RhcnQgb3ZlciBpbW1lZGlhdGVseSBvbmNlIHBsYXliYWNrIGVuZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGxvb3BcbiAgICAgKiBAcmV0dXJuIHtTZXRMb29wUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldExvb3BcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9vcChsb29wKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2xvb3AnLCBsb29wKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgbXV0ZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldE11dGVkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBUaGUgbXV0ZWQgc3RhdGUgdGhhdCB3YXMgc2V0LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLiBXaGVuIHNldCB0byBgdHJ1ZWAsIHRoZSBwbGF5ZXJcbiAgICAgKiB2b2x1bWUgd2lsbCBiZSBtdXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXV0ZWRcbiAgICAgKiBAcmV0dXJuIHtTZXRNdXRlZFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRNdXRlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNdXRlZChtdXRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdtdXRlZCcsIG11dGVkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgbXV0ZWQgc3RhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldE11dGVkUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcGxheWVyIGlzIG11dGVkLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtdXRlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0TXV0ZWRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0TXV0ZWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TXV0ZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ211dGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHBhdXNlZCBzdGF0ZSBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0TG9vcFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIHZpZGVvIGlzIHBhdXNlZC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcGF1c2VkIHN0YXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRMb29wUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBhdXNlZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQYXVzZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRQbGF5YmFja1JhdGVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHBsYXliYWNrIHJhdGUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gMC41IHRvIDIuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBsYXliYWNrIHJhdGUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gYDAuNWAgdG8gYDJgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0UGxheWJhY2tSYXRlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFBsYXliYWNrUmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRQbGF5YmFja1JhdGUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BsYXliYWNrUmF0ZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gc2V0IHRoZSBwbGF5YmFja3JhdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldFBsYXliYWNrUmF0ZVByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgcGxheWJhY2sgcmF0ZSB3YXMgc2V0LlxuICAgICAqIEByZWplY3Qge1JhbmdlRXJyb3J9IFRoZSBwbGF5YmFjayByYXRlIHdhcyBsZXNzIHRoYW4gMC41IG9yIGdyZWF0ZXIgdGhhbiAyLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwbGF5YmFjayByYXRlIG9mIHRoZSBwbGF5ZXIgb24gYSBzY2FsZSBmcm9tIGAwLjVgIHRvIGAyYC4gV2hlbiBzZXRcbiAgICAgKiB2aWEgdGhlIEFQSSwgdGhlIHBsYXliYWNrIHJhdGUgd2lsbCBub3QgYmUgc3luY2hyb25pemVkIHRvIG90aGVyXG4gICAgICogcGxheWVycyBvciBzdG9yZWQgYXMgdGhlIHZpZXdlcidzIHByZWZlcmVuY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGxheWJhY2tSYXRlXG4gICAgICogQHJldHVybiB7U2V0UGxheWJhY2tSYXRlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFBsYXliYWNrUmF0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRQbGF5YmFja1JhdGUocGxheWJhY2tSYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3BsYXliYWNrUmF0ZScsIHBsYXliYWNrUmF0ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHBsYXllZCBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRQbGF5ZWRQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBQbGF5ZWQgVGltZXJhbmdlcyBjb252ZXJ0ZWQgdG8gYW4gQXJyYXkuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBsYXllZCBwcm9wZXJ0eSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRQbGF5ZWRQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0UGxheWVkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBsYXllZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncGxheWVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHF1YWxpdGllcyBhdmFpbGFibGUgb2YgdGhlIGN1cnJlbnQgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRRdWFsaXRpZXNQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge0FycmF5fSBUaGUgcXVhbGl0aWVzIG9mIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcXVhbGl0aWVzIG9mIHRoZSBjdXJyZW50IHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0UXVhbGl0aWVzUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFF1YWxpdGllc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRRdWFsaXRpZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3F1YWxpdGllcycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBjdXJyZW50IHNldCBxdWFsaXR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFF1YWxpdHlQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge3N0cmluZ30gVGhlIGN1cnJlbnQgc2V0IHF1YWxpdHkuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgc2V0IHF1YWxpdHkgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0UXVhbGl0eVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRRdWFsaXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFF1YWxpdHkoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3F1YWxpdHknKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgdmlkZW8gcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIFNldFF1YWxpdHlQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHF1YWxpdHkgd2FzIHNldC5cbiAgICAgKiBAcmVqZWN0IHtSYW5nZUVycm9yfSBUaGUgcXVhbGl0eSBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IGEgdmlkZW8gcXVhbGl0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxdWFsaXR5XG4gICAgICogQHJldHVybiB7U2V0UXVhbGl0eVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJzZXRRdWFsaXR5XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFF1YWxpdHkocXVhbGl0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdxdWFsaXR5JywgcXVhbGl0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHNlZWthYmxlIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFNlZWthYmxlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtBcnJheX0gU2Vla2FibGUgVGltZXJhbmdlcyBjb252ZXJ0ZWQgdG8gYW4gQXJyYXkuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHNlZWthYmxlIHByb3BlcnR5IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFNlZWthYmxlUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFNlZWthYmxlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNlZWthYmxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCdzZWVrYWJsZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBzZWVraW5nIHByb3BlcnR5IG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRTZWVraW5nUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtib29sZWFufSBXaGV0aGVyIG9yIG5vdCB0aGUgcGxheWVyIGlzIGN1cnJlbnRseSBzZWVraW5nLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IGlmIHRoZSBwbGF5ZXIgaXMgY3VycmVudGx5IHNlZWtpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRTZWVraW5nUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFNlZWtpbmdcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2Vla2luZygpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgnc2Vla2luZycpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB0ZXh0IHRyYWNrcyBvZiBhIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VGV4dFRyYWNrc1Byb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7VmltZW9UZXh0VHJhY2tbXX0gVGhlIHRleHQgdHJhY2tzIGFzc29jaWF0ZWQgd2l0aCB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gYXJyYXkgb2YgdGhlIHRleHQgdHJhY2tzIHRoYXQgZXhpc3QgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFRleHRUcmFja3NQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VGV4dFRyYWNrc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUZXh0VHJhY2tzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd0ZXh0VHJhY2tzJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIGVtYmVkIGNvZGUgZm9yIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFZpZGVvRW1iZWRDb2RlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtzdHJpbmd9IFRoZSBgPGlmcmFtZT5gIGVtYmVkIGNvZGUgZm9yIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgYDxpZnJhbWU+YCBlbWJlZCBjb2RlIGZvciB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0VtYmVkQ29kZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb0VtYmVkQ29kZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb0VtYmVkQ29kZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9FbWJlZENvZGUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgaWQgb2YgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9JZFByb21pc2VcbiAgICAgKiBAZnVsZmlsbCB7bnVtYmVyfSBUaGUgaWQgb2YgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBpZCBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0lkUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZpZGVvSWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9JZCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9JZCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb1RpdGxlUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSB0aXRsZSBvZiB0aGUgdmlkZW8uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHRpdGxlIG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZpZGVvVGl0bGVQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlkZW9UaXRsZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb1RpdGxlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2aWRlb1RpdGxlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIG5hdGl2ZSB3aWR0aCBvZiB0aGUgdmlkZW8uXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBHZXRWaWRlb1dpZHRoUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBuYXRpdmUgd2lkdGggb2YgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBuYXRpdmUgd2lkdGggb2YgdGhlIGN1cnJlbnRseeKAkHBsYXlpbmcgdmlkZW8uIFRoZSB3aWR0aCBvZlxuICAgICAqIHRoZSBoaWdoZXN04oCQcmVzb2x1dGlvbiBhdmFpbGFibGUgd2lsbCBiZSB1c2VkIGJlZm9yZSBwbGF5YmFjayBiZWdpbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb1dpZHRoUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImdldFZpZGVvV2lkdGhcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9XaWR0aCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9XaWR0aCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHByb21pc2UgdG8gZ2V0IHRoZSBuYXRpdmUgaGVpZ2h0IG9mIHRoZSB2aWRlby5cbiAgICAgKlxuICAgICAqIEBwcm9taXNlIEdldFZpZGVvSGVpZ2h0UHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSBuYXRpdmUgaGVpZ2h0IG9mIHRoZSB2aWRlby5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbmF0aXZlIGhlaWdodCBvZiB0aGUgY3VycmVudGx54oCQcGxheWluZyB2aWRlby4gVGhlIGhlaWdodCBvZlxuICAgICAqIHRoZSBoaWdoZXN04oCQcmVzb2x1dGlvbiBhdmFpbGFibGUgd2lsbCBiZSB1c2VkIGJlZm9yZSBwbGF5YmFjayBiZWdpbnMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtHZXRWaWRlb0hlaWdodFByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWaWRlb0hlaWdodFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWaWRlb0hlaWdodCgpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgndmlkZW9IZWlnaHQnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIGdldCB0aGUgdmltZW8uY29tIHVybCBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0VmlkZW9VcmxQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHZpbWVvLmNvbSB1cmwgZm9yIHRoZSB2aWRlby5cbiAgICAgKiBAcmVqZWN0IHtQcml2YWN5RXJyb3J9IFRoZSB1cmwgaXNu4oCZdCBhdmFpbGFibGUgYmVjYXVzZSBvZiB0aGUgdmlkZW/igJlzIHByaXZhY3kgc2V0dGluZy5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdmltZW8uY29tIHVybCBmb3IgdGhlIHZpZGVvLlxuICAgICAqXG4gICAgICogQHJldHVybiB7R2V0VmlkZW9VcmxQcm9taXNlfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiZ2V0VmlkZW9VcmxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmlkZW9VcmwoKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3ZpZGVvVXJsJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgcHJvbWlzZSB0byBnZXQgdGhlIHZvbHVtZSBsZXZlbCBvZiB0aGUgcGxheWVyLlxuICAgICAqXG4gICAgICogQHByb21pc2UgR2V0Vm9sdW1lUHJvbWlzZVxuICAgICAqIEBmdWxmaWxsIHtudW1iZXJ9IFRoZSB2b2x1bWUgbGV2ZWwgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gMCB0byAxLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHZvbHVtZSBsZXZlbCBvZiB0aGUgcGxheWVyIG9uIGEgc2NhbGUgZnJvbSBgMGAgdG8gYDFgLlxuICAgICAqXG4gICAgICogTW9zdCBtb2JpbGUgZGV2aWNlcyBkbyBub3Qgc3VwcG9ydCBhbiBpbmRlcGVuZGVudCB2b2x1bWUgZnJvbSB0aGVcbiAgICAgKiBzeXN0ZW0gdm9sdW1lLiBJbiB0aG9zZSBjYXNlcywgdGhpcyBtZXRob2Qgd2lsbCBhbHdheXMgcmV0dXJuIGAxYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge0dldFZvbHVtZVByb21pc2V9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJnZXRWb2x1bWVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Vm9sdW1lKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0KCd2b2x1bWUnKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBwcm9taXNlIHRvIHNldCB0aGUgdm9sdW1lIGxldmVsIG9mIHRoZSBwbGF5ZXIuXG4gICAgICpcbiAgICAgKiBAcHJvbWlzZSBTZXRWb2x1bWVQcm9taXNlXG4gICAgICogQGZ1bGZpbGwge251bWJlcn0gVGhlIHZvbHVtZSB3YXMgc2V0LlxuICAgICAqIEByZWplY3Qge1JhbmdlRXJyb3J9IFRoZSB2b2x1bWUgd2FzIGxlc3MgdGhhbiAwIG9yIGdyZWF0ZXIgdGhhbiAxLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSB2b2x1bWUgb2YgdGhlIHBsYXllciBvbiBhIHNjYWxlIGZyb20gYDBgIHRvIGAxYC4gV2hlbiBzZXRcbiAgICAgKiB2aWEgdGhlIEFQSSwgdGhlIHZvbHVtZSBsZXZlbCB3aWxsIG5vdCBiZSBzeW5jaHJvbml6ZWQgdG8gb3RoZXJcbiAgICAgKiBwbGF5ZXJzIG9yIHN0b3JlZCBhcyB0aGUgdmlld2Vy4oCZcyBwcmVmZXJlbmNlLlxuICAgICAqXG4gICAgICogTW9zdCBtb2JpbGUgZGV2aWNlcyBkbyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSB2b2x1bWUuIEFuIGVycm9yIHdpbGxcbiAgICAgKiAqbm90KiBiZSB0cmlnZ2VyZWQgaW4gdGhhdCBzaXR1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdm9sdW1lXG4gICAgICogQHJldHVybiB7U2V0Vm9sdW1lUHJvbWlzZX1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcInNldFZvbHVtZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWb2x1bWUodm9sdW1lKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3ZvbHVtZScsIHZvbHVtZSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBsYXllcjtcbn0oKTsgLy8gU2V0dXAgZW1iZWQgb25seSBpZiB0aGlzIGlzIG5vdCBhIG5vZGUgZW52aXJvbm1lbnRcblxuXG5pZiAoIWlzTm9kZSkge1xuICBzY3JlZW5mdWxsID0gaW5pdGlhbGl6ZVNjcmVlbmZ1bGwoKTtcbiAgaW5pdGlhbGl6ZUVtYmVkcygpO1xuICByZXNpemVFbWJlZHMoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUGxheWVyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcbmV4cG9ydHMuZ2V0TmF2aWdhdG9yID0gdm9pZCAwO1xyXG52YXIgZ2V0TmF2aWdhdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIG5hdmlnYXRvcjtcclxufTtcclxuZXhwb3J0cy5nZXROYXZpZ2F0b3IgPSBnZXROYXZpZ2F0b3I7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgZGVzYyA9IHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XHJcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59KSk7XHJcbnZhciBfX2V4cG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9fZXhwb3J0U3RhcikgfHwgZnVuY3Rpb24obSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xyXG59O1xyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vaXNNb2JpbGVcIiksIGV4cG9ydHMpO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSkpO1xyXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xyXG5leHBvcnRzLmlzTW9iaWxlID0gdm9pZCAwO1xyXG52YXIgaXNNb2JpbGVfMSA9IHJlcXVpcmUoXCIuL2lzTW9iaWxlXCIpO1xyXG5fX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgaXNNb2JpbGVfMSwgXCJpc01vYmlsZVwiKTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XHJcbmV4cG9ydHMuaXNNb2JpbGUgPSB2b2lkIDA7XHJcbnZhciBuYXZpZ2F0b3JfMSA9IHJlcXVpcmUoXCIuLi9oZWxwZXIvbmF2aWdhdG9yXCIpO1xyXG52YXIgaXNNb2JpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KCgwLCBuYXZpZ2F0b3JfMS5nZXROYXZpZ2F0b3IpKCkudXNlckFnZW50KTtcclxufTtcclxuZXhwb3J0cy5pc01vYmlsZSA9IGlzTW9iaWxlO1xyXG4iLCJpbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gXCJtaXRjaHBhaW4td2ViLWxpYnNcIjtcclxuaW1wb3J0IHsgVmlkZW9JbmZvcyB9IGZyb20gXCIuLi9jb21tb24vbW9kZWxzXCI7XHJcbmltcG9ydCB7IHN0YXRlSGFzQ2hhbmdlZEV2ZW50TmFtZSB9IGZyb20gXCIuL2V2ZW50c1wiO1xyXG5pbXBvcnQge1xyXG4gIEFERFJFU1NfSUQsXHJcbiAgQVJUSVNUX0lELFxyXG4gIERFU0tUT1BfU1RZTEVfU0hFRVRfUkVGLFxyXG4gIE1PQklMRV9TVFlMRV9TSEVFVF9SRUYsXHJcbiAgTkFWX1NUWUxFX1NIRUVUX1JFRixcclxuICBORVhUX0NJVFlfTEFCRUxfSUQsXHJcbiAgTkVYVF9WSURFT19JRCxcclxuICBPVkVSTEFZX0lNR19JRCxcclxuICBQUkVWX0NJVFlfTEFCRUxfSUQsXHJcbiAgUFJFVl9WSURFT19JRCxcclxufSBmcm9tIFwiLi9zZWxlY3RvclwiO1xyXG5pbXBvcnQgeyBnZXRDdXJyZW50VmlkZW8sIGdldFN0YXRlLCBTdGF0ZSB9IGZyb20gXCIuL3N0YXRlXCI7XHJcblxyXG5leHBvcnQgY29uc3QgcG9wdWxhdGVEb21GaWVsZHMgPSAoKSA9PiB7XHJcbiAgY29uc3Qgc3RhdGUgPSBnZXRTdGF0ZSgpO1xyXG4gIGNvbnN0IHNlbGVjdGVkVmlkZW8gPSBzdGF0ZS5jdXJyZW50Q2l0eVZpZGVvTGlzdFtzdGF0ZS5zZWxlY3RlZFZpZGVvSWRdO1xyXG4gIGVkaXRBZGRyZXNzKHNlbGVjdGVkVmlkZW8uYWRkcmVzcyk7XHJcbiAgZWRpdEFydGlzdEluZm8oc2VsZWN0ZWRWaWRlbyk7XHJcbiAgZWRpdE5hdnNMYWJlbChzdGF0ZSk7XHJcbiAgZWRpdFN1Yk5hdnNWaXNpYmlsaXR5KHN0YXRlKTtcclxuICBoYW5kbGVJbWFnZU92ZXJsYXkoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRSZWZyZXNoQXBwTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihzdGF0ZUhhc0NoYW5nZWRFdmVudE5hbWUsIHBvcHVsYXRlRG9tRmllbGRzKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhcHBlbmRTdHlsZSA9ICgpID0+IHtcclxuICBpZiAoaXNNb2JpbGUoKSkge1xyXG4gICAgYWRkTW9iaWxlU3R5bGVTaGVldCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhZGREZXNrdG9wU3R5bGVTaGVldCgpO1xyXG4gICAgYWRkTmF2U3R5bGVTaGVldCgpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGFkZE5hdlN0eWxlU2hlZXQgPSAoKSA9PiB7XHJcbiAgYWRkU3R5bGVTaGVldChOQVZfU1RZTEVfU0hFRVRfUkVGKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZE1vYmlsZVN0eWxlU2hlZXQgPSAoKSA9PiB7XHJcbiAgYWRkU3R5bGVTaGVldChNT0JJTEVfU1RZTEVfU0hFRVRfUkVGKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZERlc2t0b3BTdHlsZVNoZWV0ID0gKCkgPT4ge1xyXG4gIGFkZFN0eWxlU2hlZXQoREVTS1RPUF9TVFlMRV9TSEVFVF9SRUYpO1xyXG59O1xyXG5cclxuY29uc3QgYWRkU3R5bGVTaGVldCA9IChocmVmOiBzdHJpbmcpID0+IHtcclxuICBjb25zdCBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuICBzdHlsZUVsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcbiAgc3R5bGVFbGVtZW50LmhyZWYgPSBocmVmO1xyXG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxufTtcclxuXHJcbmNvbnN0IGVkaXRBZGRyZXNzID0gKGFkZHJlc3M6IHN0cmluZykgPT4ge1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEFERFJFU1NfSUQpLmlubmVyVGV4dCA9IGFkZHJlc3M7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVJbWFnZU92ZXJsYXkgPSAoKSA9PiB7XHJcbiAgY29uc3Qgb3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIE9WRVJMQVlfSU1HX0lEXHJcbiAgKSBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gIGNvbnN0IG92ZXJsYXkgPSBnZXRDdXJyZW50VmlkZW8oKS5vdmVybGF5O1xyXG4gIGlmIChvdmVybGF5KSB7XHJcbiAgICBvdmVybGF5RWxlbWVudC5zcmMgPSBgLi9vdmVybGF5cy8ke292ZXJsYXl9YDtcclxuICAgIG92ZXJsYXlFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgfSBlbHNlIHtcclxuICAgIG92ZXJsYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgZWRpdEFydGlzdEluZm8gPSAoaW5mbzogVmlkZW9JbmZvcykgPT4ge1xyXG4gIGxldCBodG1sID0gYE11c2ljIGJ5IDxhIGhyZWY9JyR7aW5mby5tdXNpY2lhblNpdGV9JyB0YXJnZXQ9J19ibGFuayc+JHtpbmZvLm11c2ljaWFufTwvYT5gO1xyXG4gIGlmIChpbmZvLmV4dHJhSW5mbykge1xyXG4gICAgaHRtbCArPSBgPC9icj4gPC9icj4ke2luZm8uZXh0cmFJbmZvfTwvYnI+IDwvYnI+YDtcclxuICB9XHJcblxyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKEFSVElTVF9JRCkuaW5uZXJIVE1MID0gaHRtbDtcclxufTtcclxuXHJcbmNvbnN0IGVkaXROYXZzTGFiZWwgPSAoc3RhdGU6IFN0YXRlKSA9PiB7XHJcbiAgZWRpdE5hdkxhYmVsKFBSRVZfQ0lUWV9MQUJFTF9JRCwgc3RhdGUucHJldkNpdHkubGFiZWwpO1xyXG4gIGVkaXROYXZMYWJlbChORVhUX0NJVFlfTEFCRUxfSUQsIHN0YXRlLm5leHRDaXR5LmxhYmVsKTtcclxufTtcclxuXHJcbmNvbnN0IGVkaXROYXZMYWJlbCA9IChzZWxlY3Rvcjogc3RyaW5nLCBsYWJlbDogc3RyaW5nKSA9PiB7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0b3IpLmlubmVyVGV4dCA9IGxhYmVsO1xyXG59O1xyXG5cclxuY29uc3QgZWRpdFN1Yk5hdnNWaXNpYmlsaXR5ID0gKHN0YXRlOiBTdGF0ZSkgPT4ge1xyXG4gIGlmIChzdGF0ZS5jdXJyZW50Q2l0eVZpZGVvTGlzdC5sZW5ndGggPCAyKSB7XHJcbiAgICBoaWRlU3ViTmF2cygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzaG93U3ViTmF2cygpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGhpZGVTdWJOYXZzID0gKCkgPT4ge1xyXG4gIGhpZGVTdWJOYXYoUFJFVl9WSURFT19JRCk7XHJcbiAgaGlkZVN1Yk5hdihORVhUX1ZJREVPX0lEKTtcclxufTtcclxuXHJcbmNvbnN0IGhpZGVTdWJOYXYgPSAoc2VsZWN0b3I6IHN0cmluZykgPT4ge1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yKS5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd1N1Yk5hdnMgPSAoKSA9PiB7XHJcbiAgc2hvd1N1Yk5hdihQUkVWX1ZJREVPX0lEKTtcclxuICBzaG93U3ViTmF2KE5FWFRfVklERU9fSUQpO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd1N1Yk5hdiA9IChzZWxlY3Rvcjogc3RyaW5nKSA9PiB7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsZWN0b3IpLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbn07XHJcbiIsImltcG9ydCB7XHJcbiAgTkVYVF9DSVRZX0JVVFRPTl9JRCxcclxuICBORVhUX1ZJREVPX0lELFxyXG4gIFBSRVZfQ0lUWV9CVVRUT05fSUQsXHJcbiAgUFJFVl9WSURFT19JRCxcclxufSBmcm9tIFwiLi9zZWxlY3RvclwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IG5leHRDaXR5Q2xpY2tFdmVudE5hbWUgPSBcIm5leHQtY2l0eS1jbGlja2VkXCI7XHJcbmV4cG9ydCBjb25zdCBwcmV2Q2l0eUNsaWNrRXZlbnROYW1lID0gXCJwcmV2LWNpdHktY2xpY2tlZFwiO1xyXG5leHBvcnQgY29uc3QgbmV4dFZpZGVvQ2xpY2tlZEV2ZW50TmFtZSA9IFwibmV4dC12aWRlby1jbGlja2VkXCI7XHJcbmV4cG9ydCBjb25zdCBwcmV2VmlkZW9DbGlja2VkRXZlbnROYW1lID0gXCJwcmV2LXZpZGVvLWNsaWNrZWRcIjtcclxuXHJcbnR5cGUgY2l0eUNoYW5nZWRFdmVudCA9IEN1c3RvbUV2ZW50PHZvaWQ+O1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldE5hdmlnYXRpb25zRXZlbnRzID0gKCkgPT4ge1xyXG4gIGNvbnN0IG5leHRDaXR5Q2xpY2tlZCA9IG5ldyBDdXN0b21FdmVudDx2b2lkPihuZXh0Q2l0eUNsaWNrRXZlbnROYW1lKTtcclxuICBjb25zdCBwcmV2Q2l0eUNsaWNrZWQgPSBuZXcgQ3VzdG9tRXZlbnQ8dm9pZD4ocHJldkNpdHlDbGlja0V2ZW50TmFtZSk7XHJcbiAgY29uc3QgbmV4dFZpZGVvQ2xpY2tlZCA9IG5ldyBDdXN0b21FdmVudDx2b2lkPihuZXh0VmlkZW9DbGlja2VkRXZlbnROYW1lKTtcclxuICBjb25zdCBwcmV2VmlkZW9DbGlja2VkID0gbmV3IEN1c3RvbUV2ZW50PHZvaWQ+KHByZXZWaWRlb0NsaWNrZWRFdmVudE5hbWUpO1xyXG5cclxuICBzZXROYXZpZ2F0aW9uRXZlbnQoTkVYVF9DSVRZX0JVVFRPTl9JRCwgbmV4dENpdHlDbGlja2VkKTtcclxuICBzZXROYXZpZ2F0aW9uRXZlbnQoUFJFVl9DSVRZX0JVVFRPTl9JRCwgcHJldkNpdHlDbGlja2VkKTtcclxuICBzZXROYXZpZ2F0aW9uRXZlbnQoTkVYVF9WSURFT19JRCwgbmV4dFZpZGVvQ2xpY2tlZCk7XHJcbiAgc2V0TmF2aWdhdGlvbkV2ZW50KFBSRVZfVklERU9fSUQsIHByZXZWaWRlb0NsaWNrZWQpO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0TmF2aWdhdGlvbkV2ZW50ID0gKHNlbGVjdG9yOiBzdHJpbmcsIGNpdHlFdmVudDogY2l0eUNoYW5nZWRFdmVudCkgPT4ge1xyXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlbGVjdG9yKS5vbmNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjaXR5RXZlbnQpO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3RhdGVIYXNDaGFuZ2VkRXZlbnROYW1lID0gXCJzdGF0ZS1oYXMtY2hhbmdlZFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRyaWdnZXJSZWZyZXNoQXBwID0gKCkgPT4ge1xyXG4gIGNvbnN0IGV2ID0gbmV3IEN1c3RvbUV2ZW50PHZvaWQ+KHN0YXRlSGFzQ2hhbmdlZEV2ZW50TmFtZSk7XHJcbiAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldik7XHJcbn07XHJcbiIsImxldCB0aW1lciA9IDE7XHJcblxyXG5sZXQgdGltZW91dDogTm9kZUpTLlRpbWVvdXQ7XHJcblxyXG5jb25zdCBPVkVSTEFZX0lEID0gXCJvdmVybGF5XCI7XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0TW91c2VNb3ZlRXZlbnQgPSAoKSA9PiB7XHJcbiAgd2luZG93Lm9ubW91c2Vtb3ZlID0gKCkgPT4ge1xyXG4gICAgZmFkZUluKCk7XHJcbiAgICB0aW1lciA9IDE7XHJcbiAgICBpZiAodGltZW91dCkge1xyXG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xyXG4gICAgfVxyXG4gICAgcmFpc2VUaW1lcigpO1xyXG4gIH07XHJcbn07XHJcblxyXG5jb25zdCByYWlzZVRpbWVyID0gKCkgPT4ge1xyXG4gIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIGlmICh0aW1lciA9PT0gNSkge1xyXG4gICAgICBmYWRlT3V0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aW1lcisrO1xyXG4gICAgICByYWlzZVRpbWVyKCk7XHJcbiAgICB9XHJcbiAgfSwgNTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGZhZGVPdXQgPSAoKSA9PiB7XHJcbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE9WRVJMQVlfSUQpO1xyXG4gIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcImZhZGUtaW5cIik7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwiZmFkZS1vdXRcIik7XHJcbn07XHJcblxyXG5jb25zdCBmYWRlSW4gPSAoKSA9PiB7XHJcbiAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE9WRVJMQVlfSUQpO1xyXG4gIG92ZXJsYXkuY2xhc3NMaXN0LmFkZChcImZhZGUtaW5cIik7XHJcbiAgb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwiZmFkZS1vdXRcIik7XHJcbn07XHJcbiIsImltcG9ydCBQbGF5ZXIgZnJvbSBcIkB2aW1lby9wbGF5ZXJcIjtcclxuaW1wb3J0IHsgc3RhdGVIYXNDaGFuZ2VkRXZlbnROYW1lIH0gZnJvbSBcIi4vZXZlbnRzXCI7XHJcbmltcG9ydCB7IGdldFN0YXRlIH0gZnJvbSBcIi4vc3RhdGVcIjtcclxuXHJcbmxldCBpbnN0YW5jZTogUGxheWVyO1xyXG5cclxubGV0IGlzUGxheWluZyA9IGZhbHNlO1xyXG5sZXQgaXNSZWFkeSA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVQbGF5ZXIgPSAodmlkZW9JZDogbnVtYmVyKSA9PiB7XHJcbiAgY29uc3Qgb3B0aW9ucyA9IHtcclxuICAgIGlkOiB2aWRlb0lkLFxyXG4gICAgbG9vcDogdHJ1ZSxcclxuICAgIGNvbnRyb2xzOiBmYWxzZSxcclxuICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgcmVzcG9uc2l2ZTogdHJ1ZSxcclxuICB9O1xyXG4gIGluc3RhbmNlID0gbmV3IFBsYXllcihcInBsYXllclwiLCBvcHRpb25zKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHN0YXRlSGFzQ2hhbmdlZEV2ZW50TmFtZSwgdXBkYXRlVmlkZW8pO1xyXG4gIGluc3RhbmNlLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICBpc1JlYWR5ID0gdHJ1ZTtcclxuICAgIGluc3RhbmNlLnBsYXkoKTtcclxuICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZXN1bWVWaWRlbyA9ICgpID0+IHtcclxuICBpZiAoIWlzUmVhZHkpIHJldHVybjtcclxuICBpZiAoaXNQbGF5aW5nKSB7XHJcbiAgICBpbnN0YW5jZS5wYXVzZSgpO1xyXG4gICAgaXNQbGF5aW5nID0gIWlzUGxheWluZztcclxuICB9IGVsc2Uge1xyXG4gICAgaW5zdGFuY2UucGxheSgpO1xyXG4gICAgaXNQbGF5aW5nID0gIWlzUGxheWluZztcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVWaWRlbyA9ICgpID0+IHtcclxuICBjb25zdCBzdGF0ZSA9IGdldFN0YXRlKCk7XHJcbiAgY29uc3QgdmlkZW8gPSBzdGF0ZS5jdXJyZW50Q2l0eVZpZGVvTGlzdFtzdGF0ZS5zZWxlY3RlZFZpZGVvSWRdO1xyXG4gIGluc3RhbmNlLmxvYWRWaWRlbyh2aWRlby5pZCk7XHJcbiAgaW5zdGFuY2UucGxheSgpO1xyXG59O1xyXG4iLCJleHBvcnQgY29uc3QgQUREUkVTU19JRCA9IFwiYWRkcmVzc1wiO1xyXG5leHBvcnQgY29uc3QgQVJUSVNUX0lEID0gXCJhcnRpc3ROYW1lXCI7XHJcbmV4cG9ydCBjb25zdCBORVhUX0NJVFlfTEFCRUxfSUQgPSBcIm5leHQtY2l0eS1sYWJlbFwiO1xyXG5leHBvcnQgY29uc3QgUFJFVl9DSVRZX0xBQkVMX0lEID0gXCJwcmV2LWNpdHktbGFiZWxcIjtcclxuZXhwb3J0IGNvbnN0IE5FWFRfQ0lUWV9CVVRUT05fSUQgPSBcIm5leHQtY2l0eVwiO1xyXG5leHBvcnQgY29uc3QgUFJFVl9DSVRZX0JVVFRPTl9JRCA9IFwicHJldi1jaXR5XCI7XHJcbmV4cG9ydCBjb25zdCBORVhUX1ZJREVPX0lEID0gXCJuZXh0VmlkZW9cIjtcclxuZXhwb3J0IGNvbnN0IFBSRVZfVklERU9fSUQgPSBcInByZXZWaWRlb1wiO1xyXG5leHBvcnQgY29uc3QgT1ZFUkxBWV9JTUdfSUQgPSBcIm92ZXJsYXktaW1nXCI7XHJcbmV4cG9ydCBjb25zdCBERVNLVE9QX1NUWUxFX1NIRUVUX1JFRiA9IFwiZGVza3RvcC5jc3NcIjtcclxuZXhwb3J0IGNvbnN0IE1PQklMRV9TVFlMRV9TSEVFVF9SRUYgPSBcIm1vYmlsZS5jc3NcIjtcclxuZXhwb3J0IGNvbnN0IE5BVl9TVFlMRV9TSEVFVF9SRUYgPSBcIm5hdi5jc3NcIjtcclxuIiwiaW1wb3J0IHsgRGF0YSwgVmlkZW9JbmZvcyB9IGZyb20gXCIuLi9jb21tb24vbW9kZWxzXCI7XHJcbmltcG9ydCAqIGFzIGNvbmZpZyBmcm9tIFwiLi4vY29uZmlnL2NvbmZpZy5qc29uXCI7XHJcbmltcG9ydCB7XHJcbiAgbmV4dENpdHlDbGlja0V2ZW50TmFtZSxcclxuICBuZXh0VmlkZW9DbGlja2VkRXZlbnROYW1lLFxyXG4gIHByZXZDaXR5Q2xpY2tFdmVudE5hbWUsXHJcbiAgcHJldlZpZGVvQ2xpY2tlZEV2ZW50TmFtZSxcclxuICB0cmlnZ2VyUmVmcmVzaEFwcCxcclxufSBmcm9tIFwiLi9ldmVudHNcIjtcclxuXHJcbmxldCBkYXRhOiBEYXRhW10gPSBbXTtcclxuXHJcbmludGVyZmFjZSBDaXR5IHtcclxuICBsYWJlbDogc3RyaW5nO1xyXG4gIGlkOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGUge1xyXG4gIHNlbGVjdGVkVmlkZW9JZDogbnVtYmVyO1xyXG4gIGN1cnJlbnRDaXR5VmlkZW9MaXN0OiBWaWRlb0luZm9zW107XHJcbiAgY3VycmVudENpdHk6IENpdHk7XHJcbiAgbmV4dENpdHk6IENpdHk7XHJcbiAgcHJldkNpdHk6IENpdHk7XHJcbn1cclxuXHJcbmxldCBzdGF0ZTogU3RhdGU7XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdFN0YXRlID0gKCkgPT4ge1xyXG4gIGNvbmZpZy5tYXAoKGNmZykgPT4ge1xyXG4gICAgZGF0YS5wdXNoKHsgY2l0eTogY2ZnLmNpdHksIHZpZGVvczogY2ZnLnZpZGVvcyB9KTtcclxuICB9KTtcclxuICBjb25zdCBjdXJyZW50Q2l0eSA9IHsgbGFiZWw6IGRhdGFbMF0uY2l0eSwgaWQ6IDAgfTtcclxuICBjb25zdCBuZXh0Q2l0eSA9IHsgbGFiZWw6IGRhdGFbMV0uY2l0eSwgaWQ6IDEgfTtcclxuICBjb25zdCBwcmV2Q2l0eSA9IHsgbGFiZWw6IGRhdGFbZGF0YS5sZW5ndGggLSAxXS5jaXR5LCBpZDogZGF0YS5sZW5ndGggLSAxIH07XHJcbiAgY29uc3Qgc2VsZWN0ZWRWaWRlb0lkID0gMDtcclxuICBjb25zdCBjdXJyZW50Q2l0eVZpZGVvTGlzdCA9IGRhdGFbMF0udmlkZW9zO1xyXG4gIHN0YXRlID0ge1xyXG4gICAgY3VycmVudENpdHksXHJcbiAgICBuZXh0Q2l0eSxcclxuICAgIHByZXZDaXR5LFxyXG4gICAgc2VsZWN0ZWRWaWRlb0lkLFxyXG4gICAgY3VycmVudENpdHlWaWRlb0xpc3QsXHJcbiAgfTtcclxuICBzZXRDaXR5Q2hhbmdlZExpc3RlbmVyKCk7XHJcbiAgc2V0VmlkZW9DaGFuZ2VkTGlzdGVuZXIoKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTdGF0ZSA9ICgpID0+IHtcclxuICByZXR1cm4gc3RhdGU7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFZpZGVvID0gKCkgPT4ge1xyXG4gIGNvbnN0IGlkeCA9IHN0YXRlLnNlbGVjdGVkVmlkZW9JZDtcclxuICByZXR1cm4gc3RhdGUuY3VycmVudENpdHlWaWRlb0xpc3RbaWR4XTtcclxufTtcclxuXHJcbmNvbnN0IHNldENpdHlDaGFuZ2VkTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihuZXh0Q2l0eUNsaWNrRXZlbnROYW1lLCBuZXh0Q2l0eSk7XHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihwcmV2Q2l0eUNsaWNrRXZlbnROYW1lLCBwcmV2Q2l0eSk7XHJcbn07XHJcblxyXG5jb25zdCBuZXh0Q2l0eSA9ICgpID0+IHtcclxuICBjb25zdCBwcmV2Q2l0eSA9IHN0YXRlLmN1cnJlbnRDaXR5O1xyXG4gIGNvbnN0IGN1cnJlbnRDaXR5ID0gc3RhdGUubmV4dENpdHk7XHJcbiAgbGV0IG5leHRDaXR5ID0gdW5kZWZpbmVkO1xyXG4gIGNvbnN0IG5leHRDaXR5SWQgPSBzdGF0ZS5uZXh0Q2l0eS5pZCArIDE7XHJcbiAgaWYgKG5leHRDaXR5SWQgPT09IGRhdGEubGVuZ3RoKSB7XHJcbiAgICAvL05ldyBjdXJyZW50IGNpdHkgaXMgdGhlIGxhc3Qgb2YgdGhlIGxpc3RcclxuICAgIG5leHRDaXR5ID0geyBsYWJlbDogZGF0YVswXS5jaXR5LCBpZDogMCB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICBuZXh0Q2l0eSA9IHsgaWQ6IG5leHRDaXR5SWQsIGxhYmVsOiBkYXRhW25leHRDaXR5SWRdLmNpdHkgfTtcclxuICB9XHJcbiAgY29uc3Qgc2VsZWN0ZWRWaWRlb0lkID0gMDtcclxuICBjb25zdCBjdXJyZW50Q2l0eVZpZGVvTGlzdCA9IGRhdGFbY3VycmVudENpdHkuaWRdLnZpZGVvcztcclxuICBzdGF0ZSA9IHtcclxuICAgIHByZXZDaXR5LFxyXG4gICAgY3VycmVudENpdHksXHJcbiAgICBuZXh0Q2l0eSxcclxuICAgIHNlbGVjdGVkVmlkZW9JZCxcclxuICAgIGN1cnJlbnRDaXR5VmlkZW9MaXN0LFxyXG4gIH07XHJcbiAgdHJpZ2dlclJlZnJlc2hBcHAoKTtcclxufTtcclxuXHJcbmNvbnN0IHByZXZDaXR5ID0gKCkgPT4ge1xyXG4gIGNvbnN0IG5leHRDaXR5ID0gc3RhdGUuY3VycmVudENpdHk7XHJcbiAgY29uc3QgY3VycmVudENpdHkgPSBzdGF0ZS5wcmV2Q2l0eTtcclxuICBsZXQgcHJldkNpdHkgPSB1bmRlZmluZWQ7XHJcbiAgY29uc3QgcHJldkNpdHlJZCA9IHN0YXRlLnByZXZDaXR5LmlkIC0gMTtcclxuICBpZiAocHJldkNpdHlJZCA8IDApIHtcclxuICAgIC8vQ3VycmVudCBjaXR5IGlzIHRoZSBsYXN0IG9uZSBvZiB0aGUgbGlzdFxyXG4gICAgY29uc3QgbGFzdElkeCA9IGRhdGEubGVuZ3RoIC0gMTtcclxuICAgIHByZXZDaXR5ID0geyBsYWJlbDogZGF0YVtsYXN0SWR4XS5jaXR5LCBpZDogbGFzdElkeCB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICBwcmV2Q2l0eSA9IHsgaWQ6IHByZXZDaXR5SWQsIGxhYmVsOiBkYXRhW3ByZXZDaXR5SWRdLmNpdHkgfTtcclxuICB9XHJcbiAgY29uc3Qgc2VsZWN0ZWRWaWRlb0lkID0gMDtcclxuICBjb25zdCBjdXJyZW50Q2l0eVZpZGVvTGlzdCA9IGRhdGFbY3VycmVudENpdHkuaWRdLnZpZGVvcztcclxuICBzdGF0ZSA9IHtcclxuICAgIHByZXZDaXR5LFxyXG4gICAgY3VycmVudENpdHksXHJcbiAgICBuZXh0Q2l0eSxcclxuICAgIHNlbGVjdGVkVmlkZW9JZCxcclxuICAgIGN1cnJlbnRDaXR5VmlkZW9MaXN0LFxyXG4gIH07XHJcbiAgdHJpZ2dlclJlZnJlc2hBcHAoKTtcclxufTtcclxuXHJcbmNvbnN0IHNldFZpZGVvQ2hhbmdlZExpc3RlbmVyID0gKCkgPT4ge1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobmV4dFZpZGVvQ2xpY2tlZEV2ZW50TmFtZSwgbmV4dFZpZGVvKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHByZXZWaWRlb0NsaWNrZWRFdmVudE5hbWUsIHByZXZWaWRlbyk7XHJcbn07XHJcblxyXG5jb25zdCBuZXh0VmlkZW8gPSAoKSA9PiB7XHJcbiAgbGV0IG5leHRWaWRlb0lkID0gc3RhdGUuc2VsZWN0ZWRWaWRlb0lkICsgMTtcclxuICBpZiAobmV4dFZpZGVvSWQgPT09IHN0YXRlLmN1cnJlbnRDaXR5VmlkZW9MaXN0Lmxlbmd0aCkge1xyXG4gICAgbmV4dFZpZGVvSWQgPSAwO1xyXG4gIH1cclxuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIHNlbGVjdGVkVmlkZW9JZDogbmV4dFZpZGVvSWQgfTtcclxuICB0cmlnZ2VyUmVmcmVzaEFwcCgpO1xyXG59O1xyXG5cclxuY29uc3QgcHJldlZpZGVvID0gKCkgPT4ge1xyXG4gIGxldCBwcmV2VmlkZW9JZCA9IHN0YXRlLnNlbGVjdGVkVmlkZW9JZCAtIDE7XHJcbiAgaWYgKHByZXZWaWRlb0lkIDwgMCkge1xyXG4gICAgcHJldlZpZGVvSWQgPSBzdGF0ZS5jdXJyZW50Q2l0eVZpZGVvTGlzdC5sZW5ndGggLSAxO1xyXG4gIH1cclxuICBzdGF0ZSA9IHsgLi4uc3RhdGUsIHNlbGVjdGVkVmlkZW9JZDogcHJldlZpZGVvSWQgfTtcclxuICB0cmlnZ2VyUmVmcmVzaEFwcCgpO1xyXG59O1xyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07Il0sIm5hbWVzIjpbInBsYXlPbkNsaWNrIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiaXNOb2RlIiwiZyIsInRvU3RyaW5nIiwiY2FsbCIsImdldE1ldGhvZE5hbWUiLCJwcm9wIiwidHlwZSIsImluZGV4T2YiLCJ0b0xvd2VyQ2FzZSIsImNvbmNhdCIsInN1YnN0ciIsInRvVXBwZXJDYXNlIiwiaXNEb21FbGVtZW50IiwiZWxlbWVudCIsIkJvb2xlYW4iLCJub2RlVHlwZSIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsImlzSW50ZWdlciIsInZhbHVlIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJNYXRoIiwiZmxvb3IiLCJpc1ZpbWVvVXJsIiwidXJsIiwidGVzdCIsImdldFZpbWVvVXJsIiwib0VtYmVkUGFyYW1ldGVycyIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsImlkIiwiaWRPclVybCIsIkVycm9yIiwicmVwbGFjZSIsImFycmF5SW5kZXhPZlN1cHBvcnQiLCJBcnJheSIsInByb3RvdHlwZSIsInBvc3RNZXNzYWdlU3VwcG9ydCIsIndpbmRvdyIsInBvc3RNZXNzYWdlIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwic2VsZiIsIldlYWtNYXAiLCJoYXNPd25Qcm9wZXJ0eSIsIm9iamVjdCIsIm5hbWUiLCJ0aGlzIiwiZ2VuSWQiLCJjaGVja0luc3RhbmNlIiwieCIsIm1ldGhvZE5hbWUiLCJpc09iamVjdCIsInByZWZpeCIsInJhbmQiLCJyYW5kb20iLCJzdWJzdHJpbmciLCJlbnRyeSIsIl9pZCIsImZuIiwibW9kdWxlIiwibnBvX3NyYyIsImNvbnRleHQiLCJkZWZpbml0aW9uIiwiYnVpbHRJblByb3AiLCJjeWNsZSIsInNjaGVkdWxpbmdfcXVldWUiLCJUb1N0cmluZyIsInRpbWVyIiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsIm9iaiIsInZhbCIsImNvbmZpZyIsImVyciIsInNjaGVkdWxlIiwiYWRkIiwiZHJhaW4iLCJpc1RoZW5hYmxlIiwibyIsIl90aGVuIiwib190eXBlIiwidGhlbiIsIm5vdGlmeSIsImNoYWluIiwibm90aWZ5SXNvbGF0ZWQiLCJzdGF0ZSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiY2IiLCJyZXQiLCJyZWplY3QiLCJtc2ciLCJwcm9taXNlIiwicmVzb2x2ZSIsInRyaWdnZXJlZCIsImRlZiIsImRlZl93cmFwcGVyIiwiTWFrZURlZldyYXBwZXIiLCJhcHBseSIsIml0ZXJhdGVQcm9taXNlcyIsImFyciIsInJlc29sdmVyIiwicmVqZWN0ZXIiLCJpZHgiLCJNYWtlRGVmIiwiUHJvbWlzZSIsImV4ZWN1dG9yIiwiX19OUE9fXyIsImNvbnN0cnVjdG9yIiwicHVzaCIsImZpcnN0IiwibGFzdCIsIml0ZW0iLCJJdGVtIiwibmV4dCIsImYiLCJQcm9taXNlUHJvdG90eXBlIiwibGVuIiwibXNncyIsImNvdW50IiwiZXhwb3J0cyIsImNhbGxiYWNrTWFwIiwic3RvcmVDYWxsYmFjayIsInBsYXllciIsImNhbGxiYWNrIiwicGxheWVyQ2FsbGJhY2tzIiwiZ2V0Iiwic2V0IiwiZ2V0Q2FsbGJhY2tzIiwicmVtb3ZlQ2FsbGJhY2siLCJpbmRleCIsInNwbGljZSIsInN3YXBDYWxsYmFja3MiLCJvbGRFbGVtZW50IiwibmV3RWxlbWVudCIsImRlbGV0ZSIsImdldE9FbWJlZFBhcmFtZXRlcnMiLCJkZWZhdWx0cyIsInJlZHVjZSIsInBhcmFtcyIsInBhcmFtIiwiZ2V0QXR0cmlidXRlIiwiY3JlYXRlRW1iZWQiLCJfcmVmIiwiaHRtbCIsInF1ZXJ5U2VsZWN0b3IiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsImZpcnN0Q2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJnZXRPRW1iZWREYXRhIiwidmlkZW9VcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ4aHIiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ubG9hZCIsInN0YXR1cyIsImpzb24iLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJkb21haW5fc3RhdHVzX2NvZGUiLCJlcnJvciIsIm9uZXJyb3IiLCJzZW5kIiwicGFyc2VNZXNzYWdlRGF0YSIsImRhdGEiLCJjb25zb2xlIiwid2FybiIsIm1ldGhvZCIsImNvbnRlbnRXaW5kb3ciLCJtZXNzYWdlIiwiaWVWZXJzaW9uIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic3RyaW5naWZ5Iiwib3JpZ2luIiwicHJvY2Vzc0RhdGEiLCJjYWxsYmFja3MiLCJldmVudCIsImZvckVhY2giLCJzaGlmdCIsInNoaWZ0Q2FsbGJhY2tzIiwiZSIsInBsYXllck1hcCIsInJlYWR5TWFwIiwic2NyZWVuZnVsbCIsIlBsYXllciIsIl90aGlzIiwib3B0aW9ucyIsImpRdWVyeSIsImdldEVsZW1lbnRCeUlkIiwibm9kZU5hbWUiLCJpZnJhbWUiLCJoYXMiLCJfd2luZG93IiwicmVhZHlQcm9taXNlIiwiX29uTWVzc2FnZSIsInNvdXJjZSIsImlzUmVhZHlFdmVudCIsImlzUGluZ1Jlc3BvbnNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9vcmlnaW5hbEVsZW1lbnQiLCJjYXRjaCIsImlzRW5hYmxlZCIsImV4aXRGdWxsc2NyZWVuIiwiZXhpdCIsImZ1bGxzY3JlZW5jaGFuZ2VIYW5kbGVyIiwiaXNGdWxsc2NyZWVuIiwicmVhZHkiLCJvbiIsInByb3RvUHJvcHMiLCJfdGhpczIiLCJhcmdzIiwiX3RoaXMzIiwiX3RoaXM0IiwiZXZlbnROYW1lIiwiY2FsbE1ldGhvZCIsInRpbWUiLCJsYW5ndWFnZSIsImtpbmQiLCJyZXF1ZXN0IiwiX3RoaXM1IiwicmVtb3ZlQXR0cmlidXRlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9mZiIsImF1dG9wYXVzZSIsImNhbWVyYSIsImNvbG9yIiwiY3VycmVudFRpbWUiLCJsb29wIiwibXV0ZWQiLCJwbGF5YmFja1JhdGUiLCJxdWFsaXR5Iiwidm9sdW1lIiwiZm5NYXAiLCJsIiwiZXZlbnROYW1lTWFwIiwiZnVsbHNjcmVlbmNoYW5nZSIsImZ1bGxzY3JlZW5lcnJvciIsIm9uRnVsbFNjcmVlbkVudGVyZWQiLCJyZXR1cm5Qcm9taXNlIiwiZG9jdW1lbnRFbGVtZW50IiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJvbkZ1bGxTY3JlZW5FeGl0IiwiZGVmaW5lUHJvcGVydGllcyIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZnVsbHNjcmVlbkVuYWJsZWQiLCJpbml0aWFsaXplU2NyZWVuZnVsbCIsInBhcmVudCIsImVsZW1lbnRzIiwic2xpY2UiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaGFuZGxlRXJyb3IiLCJpbml0aWFsaXplRW1iZWRzIiwiVmltZW9QbGF5ZXJSZXNpemVFbWJlZHNfIiwib25NZXNzYWdlIiwiaWZyYW1lcyIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsInBhZGRpbmdCb3R0b20iLCJib3R0b20iLCJyZXNpemVFbWJlZHMiLCJfX2VzTW9kdWxlIiwiZ2V0TmF2aWdhdG9yIiwiX19jcmVhdGVCaW5kaW5nIiwiY3JlYXRlIiwibSIsImsiLCJrMiIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfX2V4cG9ydFN0YXIiLCJwIiwiaXNNb2JpbGUiLCJuYXZpZ2F0b3JfMSIsInBvcHVsYXRlRG9tRmllbGRzIiwiZ2V0U3RhdGUiLCJzZWxlY3RlZFZpZGVvIiwiY3VycmVudENpdHlWaWRlb0xpc3QiLCJzZWxlY3RlZFZpZGVvSWQiLCJlZGl0QWRkcmVzcyIsImFkZHJlc3MiLCJlZGl0QXJ0aXN0SW5mbyIsImVkaXROYXZzTGFiZWwiLCJlZGl0U3ViTmF2c1Zpc2liaWxpdHkiLCJoYW5kbGVJbWFnZU92ZXJsYXkiLCJzZXRSZWZyZXNoQXBwTGlzdGVuZXIiLCJzdGF0ZUhhc0NoYW5nZWRFdmVudE5hbWUiLCJhcHBlbmRTdHlsZSIsImFkZE1vYmlsZVN0eWxlU2hlZXQiLCJhZGREZXNrdG9wU3R5bGVTaGVldCIsImFkZE5hdlN0eWxlU2hlZXQiLCJhZGRTdHlsZVNoZWV0IiwiTkFWX1NUWUxFX1NIRUVUX1JFRiIsIk1PQklMRV9TVFlMRV9TSEVFVF9SRUYiLCJERVNLVE9QX1NUWUxFX1NIRUVUX1JFRiIsImhyZWYiLCJzdHlsZUVsZW1lbnQiLCJyZWwiLCJoZWFkIiwiQUREUkVTU19JRCIsImlubmVyVGV4dCIsIm92ZXJsYXlFbGVtZW50IiwiT1ZFUkxBWV9JTUdfSUQiLCJvdmVybGF5IiwiZ2V0Q3VycmVudFZpZGVvIiwic3JjIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaW5mbyIsIm11c2ljaWFuU2l0ZSIsIm11c2ljaWFuIiwiZXh0cmFJbmZvIiwiQVJUSVNUX0lEIiwiZWRpdE5hdkxhYmVsIiwiUFJFVl9DSVRZX0xBQkVMX0lEIiwicHJldkNpdHkiLCJsYWJlbCIsIk5FWFRfQ0lUWV9MQUJFTF9JRCIsIm5leHRDaXR5Iiwic2VsZWN0b3IiLCJoaWRlU3ViTmF2cyIsInNob3dTdWJOYXZzIiwiaGlkZVN1Yk5hdiIsIlBSRVZfVklERU9fSUQiLCJORVhUX1ZJREVPX0lEIiwic2hvd1N1Yk5hdiIsIm5leHRDaXR5Q2xpY2tFdmVudE5hbWUiLCJwcmV2Q2l0eUNsaWNrRXZlbnROYW1lIiwibmV4dFZpZGVvQ2xpY2tlZEV2ZW50TmFtZSIsInByZXZWaWRlb0NsaWNrZWRFdmVudE5hbWUiLCJzZXROYXZpZ2F0aW9uc0V2ZW50cyIsIm5leHRDaXR5Q2xpY2tlZCIsIkN1c3RvbUV2ZW50IiwicHJldkNpdHlDbGlja2VkIiwibmV4dFZpZGVvQ2xpY2tlZCIsInByZXZWaWRlb0NsaWNrZWQiLCJzZXROYXZpZ2F0aW9uRXZlbnQiLCJORVhUX0NJVFlfQlVUVE9OX0lEIiwiUFJFVl9DSVRZX0JVVFRPTl9JRCIsImNpdHlFdmVudCIsIm9uY2xpY2siLCJldiIsInByZXZlbnREZWZhdWx0IiwiZGlzcGF0Y2hFdmVudCIsInRyaWdnZXJSZWZyZXNoQXBwIiwidGltZW91dCIsIk9WRVJMQVlfSUQiLCJzZXRNb3VzZU1vdmVFdmVudCIsIm9ubW91c2Vtb3ZlIiwiZmFkZUluIiwiY2xlYXJUaW1lb3V0IiwicmFpc2VUaW1lciIsImZhZGVPdXQiLCJpc1BsYXlpbmciLCJpc1JlYWR5IiwiaW5pdGlhbGl6ZVBsYXllciIsInZpZGVvSWQiLCJjb250cm9scyIsImF1dG9wbGF5IiwicmVzcG9uc2l2ZSIsInVwZGF0ZVZpZGVvIiwicGxheSIsInJlc3VtZVZpZGVvIiwicGF1c2UiLCJ2aWRlbyIsImxvYWRWaWRlbyIsImluaXRTdGF0ZSIsIm1hcCIsImNmZyIsImNpdHkiLCJ2aWRlb3MiLCJjdXJyZW50Q2l0eSIsInNldENpdHlDaGFuZ2VkTGlzdGVuZXIiLCJzZXRWaWRlb0NoYW5nZWRMaXN0ZW5lciIsIm5leHRDaXR5SWQiLCJwcmV2Q2l0eUlkIiwibGFzdElkeCIsIm5leHRWaWRlbyIsInByZXZWaWRlbyIsIm5leHRWaWRlb0lkIiwicHJldlZpZGVvSWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsIkZ1bmN0aW9uIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwiYm9keSIsInNjcm9sbFRvIiwic2Nyb2xsSGVpZ2h0IiwiaW5pdCJdLCJzb3VyY2VSb290IjoiIn0=